"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[139],{67139:function(e,a,l){l.r(a),l.d(a,{default:function(){return te}});var n=l(56768),s=(l(44114),l(24232)),i=l(45130),t=l(24113),u=l(90144),o=l(81387),d=l(20033),c=l(74901);const p=t+"#ic_biometric_face",v=t+"#ic_biometric_finger",r=t+"#ic_check",b={class:"page_container careate_pin_page"},m={class:"cont"},g={class:"page_title"},k={class:"page_data_wrap"},_={class:"page_data"},L={class:"wallet_name"},h={class:"field_label"},w={class:"field"},f=["placeholder"],y={class:"pin"},K={class:"field_label"},R={class:"row"},x={class:"field"},j={class:"field"},C=["disabled"],I={class:"field"},J=["disabled"],U={class:"field"},V=["disabled"],A={class:"field"},W=["disabled"],$={class:"field"},T=["disabled"],B={class:"pin"},E={class:"field_label"},X={class:"field"},M=["disabled"],P={class:"field"},q=["disabled"],S={class:"field"},D=["disabled"],G={class:"field"},Q=["disabled"],N={class:"field"},z=["disabled"],F={class:"field"},H=["disabled"],O={key:0,class:"icon"},Y={key:1,class:"icon"},Z={class:"btns"};var ee={__name:"PinPage",setup(e){const a=(0,d.useGlobalStore)(),l=(0,o.rd)(),t=(0,u.KR)(!0),ee=(0,u.KR)(""),ae=(0,u.KR)(!1),le=(0,u.KR)(!1),ne=(0,u.KR)(["","","","","",""]),se=(0,u.KR)(["","","","","",""]),ie=(0,u.KR)(!1),te=(0,u.KR)(!1),ue=(0,u.KR)("finger");function oe(){ee.value.trim().length?ae.value=!0:ae.value=!1,le.value=!0}function de(e,a){e.target.value.length>=1&&a<6&&e.target.closest(".row").querySelector(`.field:nth-child(${a+1}) input`).focus()}function ce(e,a){setTimeout((()=>{0===e.target.value.length&&a>0&&e.target.closest(".row").querySelector(`.field:nth-child(${a}) input`).select()}))}(0,n.KC)((()=>{te.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,"unknown"!=Telegram.WebApp.BiometricManager.biometricType&&(ue.value=Telegram.WebApp.BiometricManager.biometricType),t.value=!1}));const pe=(0,n.EW)((()=>ne.value.join("")===se.value.join(""))),ve=(0,n.EW)((()=>""!=se.value[5].length&&pe.value&&ae.value));function re(){ie.value?ie.value=!1:be()}function be(){Telegram.WebApp.isAccessGranted?me():Telegram.WebApp.BiometricManager.requestAccess({reason:""},(()=>me()))}function me(){Telegram.WebApp.BiometricManager.authenticate({reason:""},(async e=>{e&&(ie.value=!0)}))}async function ge(){t.value=!0,await a.createWallet({pinCode:ne.value,walletName:ee.value,isBiometricEnabled:ie.value}),l.push("/wallet_created")}return(e,a)=>((0,n.uX)(),(0,n.CE)("section",b,[(0,n.Lk)("div",m,[(0,n.Lk)("div",g,(0,s.v_)(e.$t("message.create_pin_title")),1),(0,n.Lk)("div",k,[(0,n.Lk)("div",_,[t.value?((0,n.uX)(),(0,n.Wv)(c.A,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("div",L,[(0,n.Lk)("div",h,(0,s.v_)(e.$t("message.create_pin_wallet_name_label")),1),(0,n.Lk)("div",w,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:(0,s.C4)(["input big",{error:!ae.value&&le.value,success:ae.value&&le.value}]),"onUpdate:modelValue":a[0]||(a[0]=e=>ee.value=e),placeholder:e.$t("message.create_pin_wallet_name_placeholder"),onInput:a[1]||(a[1]=e=>oe())},null,42,f),[[i.Jo,ee.value]])])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",K,(0,s.v_)(e.$t("message.create_pin_create_pin_label")),1),(0,n.Lk)("div",R,[(0,n.Lk)("div",x,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[2]||(a[2]=e=>ne.value[0]=e),maxlength:"1",inputmode:"numeric",onInput:a[3]||(a[3]=e=>de(e,1)),onKeydown:a[4]||(a[4]=(0,i.jR)((e=>ce(e,0)),["backspace"]))},null,544),[[i.Jo,ne.value[0]]])]),(0,n.Lk)("div",j,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[5]||(a[5]=e=>ne.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[0].length,onInput:a[6]||(a[6]=e=>de(e,2)),onKeydown:a[7]||(a[7]=(0,i.jR)((e=>ce(e,1)),["backspace"]))},null,40,C),[[i.Jo,ne.value[1]]])]),(0,n.Lk)("div",I,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[8]||(a[8]=e=>ne.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[1].length,onInput:a[9]||(a[9]=e=>de(e,3)),onKeydown:a[10]||(a[10]=(0,i.jR)((e=>ce(e,2)),["backspace"]))},null,40,J),[[i.Jo,ne.value[2]]])]),(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[11]||(a[11]=e=>ne.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[2].length,onInput:a[12]||(a[12]=e=>de(e,4)),onKeydown:a[13]||(a[13]=(0,i.jR)((e=>ce(e,3)),["backspace"]))},null,40,V),[[i.Jo,ne.value[3]]])]),(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[14]||(a[14]=e=>ne.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[3].length,onInput:a[15]||(a[15]=e=>de(e,5)),onKeydown:a[16]||(a[16]=(0,i.jR)((e=>ce(e,4)),["backspace"]))},null,40,W),[[i.Jo,ne.value[4]]])]),(0,n.Lk)("div",$,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[17]||(a[17]=e=>ne.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[4].length,onInput:a[18]||(a[18]=e=>de(e,6)),onKeydown:a[19]||(a[19]=(0,i.jR)((e=>ce(e,5)),["backspace"]))},null,40,T),[[i.Jo,ne.value[5]]])])])]),(0,n.Lk)("div",B,[(0,n.Lk)("div",E,(0,s.v_)(e.$t("message.create_pin_confirm_pin_label")),1),(0,n.Lk)("div",{class:(0,s.C4)(["row",{error:se.value[5].length&&!pe.value,success:se.value[5].length&&pe.value}])},[(0,n.Lk)("div",X,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[20]||(a[20]=e=>se.value[0]=e),maxlength:"1",inputmode:"numeric",disabled:!ne.value[3].length,onInput:a[21]||(a[21]=e=>de(e,1)),onKeydown:a[22]||(a[22]=(0,i.jR)((e=>ce(e,0)),["backspace"]))},null,40,M),[[i.Jo,se.value[0]]])]),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[23]||(a[23]=e=>se.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!se.value[0].length,onInput:a[24]||(a[24]=e=>de(e,2)),onKeydown:a[25]||(a[25]=(0,i.jR)((e=>ce(e,1)),["backspace"]))},null,40,q),[[i.Jo,se.value[1]]])]),(0,n.Lk)("div",S,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[26]||(a[26]=e=>se.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!se.value[1].length,onInput:a[27]||(a[27]=e=>de(e,3)),onKeydown:a[28]||(a[28]=(0,i.jR)((e=>ce(e,2)),["backspace"]))},null,40,D),[[i.Jo,se.value[2]]])]),(0,n.Lk)("div",G,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[29]||(a[29]=e=>se.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!se.value[2].length,onInput:a[30]||(a[30]=e=>de(e,4)),onKeydown:a[31]||(a[31]=(0,i.jR)((e=>ce(e,3)),["backspace"]))},null,40,Q),[[i.Jo,se.value[3]]])]),(0,n.Lk)("div",N,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[32]||(a[32]=e=>se.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!se.value[3].length,onInput:a[33]||(a[33]=e=>de(e,5)),onKeydown:a[34]||(a[34]=(0,i.jR)((e=>ce(e,4)),["backspace"]))},null,40,z),[[i.Jo,se.value[4]]])]),(0,n.Lk)("div",F,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[35]||(a[35]=e=>se.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!se.value[4].length,onInput:a[36]||(a[36]=e=>de(e,6)),onKeydown:a[37]||(a[37]=(0,i.jR)((e=>ce(e,5)),["backspace"]))},null,40,H),[[i.Jo,se.value[5]]])])],2)]),te.value?((0,n.uX)(),(0,n.CE)("button",{key:1,class:(0,s.C4)(["biometric_btn",{enabled:ie.value}]),onClick:(0,i.D$)(re,["prevent"])},["face"===ue.value?((0,n.uX)(),(0,n.CE)("svg",O,a[39]||(a[39]=[(0,n.Lk)("use",{"xlink:href":p},null,-1)]))):((0,n.uX)(),(0,n.CE)("svg",Y,a[40]||(a[40]=[(0,n.Lk)("use",{"xlink:href":v},null,-1)]))),(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_biometric")),1),a[41]||(a[41]=(0,n.Lk)("div",{class:"toggle_wrap"},[(0,n.Lk)("div",{class:"toggle"},[(0,n.Lk)("div",{class:"ball_wrap"},[(0,n.Lk)("div",{class:"ball"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":r})])])])])],-1))],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",Z,[(0,n.Lk)("div",{class:(0,s.C4)(["btn",{disabled:!ve.value}]),onClick:a[38]||(a[38]=(0,i.D$)((e=>ge()),["prevent"]))},[(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_next")),1)],2)])])])])]))}},ae=l(71241);const le=(0,ae.A)(ee,[["__scopeId","data-v-1e6ad0b3"]]);var ne=le,se={__name:"PinPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.Wv)(ne))}};const ie=se;var te=ie}}]);
//# sourceMappingURL=139.e4dcb495.js.map