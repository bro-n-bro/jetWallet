(function(){var e={60238:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var n=a(85384),r={en:{message:{page_title:"Bro wallet",create_wallet_title:"New Recovery Phrase",create_wallet_confirm_title:"Verify Your Recovery Phrase",create_pin_title:"Name your wallet",wallet_created_title:"Wallet created!",wallet_title:"Wallet page",import_wallet_title:"Import Existing Wallet",age_modal_text:"Are you 18 years old?",index_page_title:"Сreation of a new wallet",create_wallet_agree_label1:"Do not share your recovery phrase with ANYONE.",create_wallet_agree_label2:"Back up the phrase safely.",create_wallet_agree_checkbox1:"I understand that I have access to my wallet solely because I possess the recovery phrase. If this phrase falls into someone else's hands, I will lose my funds.",create_wallet_agree_checkbox2:"I also understand that if I lose my recovery phrase, I will lose all the funds in this wallet.",confirm_label:"Word",confirm_exp:"Fill out the words according to their numbers to verify that you have stored your phrase safely.",create_pin_wallet_name_label:"Wallet name:",create_pin_create_pin_label:"Create pin:",create_pin_confirm_pin_label:"Repeat pin:",create_pin_wallet_name_placeholder:"Name",auth_title:"Welcome!",auth_enter_pin_label:"Enter pin:",auth_error_warning:"You have {count} attempts left",user_lock_title:"Account blocked!",user_lock_desc:"Your account has been blocked for {time} minutes due to multiple authorization errors. Unlocking will occur automatically after a period of time, you do not need to do anything for this.",user_lock_timer_label:"Time left:",mnemonic_tab1:"12 words",mnemonic_tab2:"24 words",mnemonic_tab3:"Private Key",import_wallet_exp:"Enter your recovery phrase here to restore your wallet.<br> Or click on any blank and paste the entire phrase.",import_wallet_exp2:"Enter your private key here to restore your wallet.<br> Or click on any blank and paste the entire phrase.",current_balance_title:"Current balance",stacked_balance_title:"Total Staked",available_tokens_title:"Available Balance",staked_tokens_title:"Staked Balance",staked_tokens_validator_label:"By:",claim_rewards_page_title:"Claimable Staking Reward",claim_rewards_title:"Claim Rewards",claim_rewards_not_enought:"You don’t have enough {denom} to pay Fee",calim_confirm_title:"Confirm transction",stake_page_title:"Stake",stake_confirm_page_title:"Confirm",stake_current_staked_label:"Token:",stake_APR_label:"APR",stake_validator_label:"Select validator:",stake_amount_label:"Amount:",stake_unbonding_period_label:"Unbonding Period:",stake_available_label:"Available",stake_staked_label:"Total Staked",stake_unbonding_time_unit:"days",stake_validator_placeholder:"Choose your validator",stake_confirm_voting_power:"of voting power",stake_confirm_token_label:"Token:",stake_confirm_amount_label:"Amount:",stake_confirm_daily_profit_label:"Daily profit:",stake_confirm_commission_label:"Commission:",stake_confirm_unbonding_period_label:"Unbonding Period:",stake_confirm_fee_label:"Fee:",unstake_page_title:"Unstake",unstake_confirm_page_title:"Confirm",unstaking_tokens_title:"Unstaking process",unstaking_tokens_label:"Unstaking in progress:",unstaking_tokens_count_label:"Unstakings:",unstaking_tokens_finish_label:"Available in:",unstaking_tokens_finish_days:"Days",unstaking_tokens_finish_day:"Day",send_page_tab1:"Send",send_page_tab2:"IBC send",send_destination_chain_label:"Destination Chain:",send_address_label:"Address:",send_amount_label:"Amount:",send_destination_chain_placeholder:"Select Chain",receive_page_title:"Receive",receive_amount_title:"Choose your amount",receive_amount_label:"Amount:",redelegate_page_title:"Switch validator",redelegate_confirm_page_title:"Confirm",redelegate_validator_from_label:"From:",redelegate_validator_to_label:"To:",redelegate_confirm_token_label:"Token:",redelegate_confirm_amount_label:"Amount:",tx_warning_title:"Warning",tx_warning_desc:"You can still try to make the transaction, but since you don't have enough tokens for gas, it may fail, or it might still go through",validators_page_title:"Validators:",validatoes_staked_label:"Staked:",validatoes_available_label:"Available:",chains_page_title:"Select Chain",stats_title:"Staking Profit",stats_token_label:"Token:",stats_available_label:"Available:",stats_staked_label:"Staked:",stats_personal_apr_label:"Personal APR:",stats_daily_profit_label:"Est. daily profit:",profile_title:"My wallets",redelegations_title:"Active redelegations",redelegations_finish_days:"Days",redelegations_finish_day:"Day",tokens_page_title:"Tokens:",tx_fee_label:"Tx Fee:",tx_fee_modal_title:"Fee Options",tx_fee_fee_tier_label:"Fee tier",tx_fee_fee_token_label:"Fee Token:",tx_fee_gas_adjustment_label:"Gas Adjustment:",tx_fee_gas_amount_label:"Gas Amount",tx_fee_remember_label:"Remember my choise",tx_fee_auto_label:"Auto",tx_fee_low_label:"Low",tx_fee_average_label:"Average",tx_fee_high_label:"High",details_label:"Details:",memo_label:"Memo:",sign_tx_title:"Sign transaction",sign_tx_error_title:"Incorrect pin!",sign_tx_error_desc:"You have entered an incorrect PIN 4 times. For security reasons, you will be returned to the main screen to protect your account and prevent unauthorized access.",redirect_modal_title:"Return to the application.",redirect_modal_desc:"You can now switch back to another application to continue.",search_placeholder:"Search...",search_empty:"Token not found...",search_empty_validator:"Validator not found...",search_empty_chains:"Chain not found...",jp_connection_title:"Request for connection",jp_send_tx_title:"Request for transaction",jp_connection_desc:"Some app ask to connect to your wallet. If you don't know who is asking, don't allow it.",jp_chain_not_found:"Chain not found.",jp_message_rejected:"The user rejected the request.",placeholder_address:"Enter address",placeholder_amount:"{token} Amount",placeholder_memo:"Required for sending to CEX",placeholder_memo2:"Your Custom Memo",notification_copied_title:"Copied to clipboard",notification_offline_title:"You are offline",notification_wallet_update_success:"Wallet updated successfully.",notification_wallet_remove_success:"{name} deleted successfully.",notification_wallet_added_success:"Wallet added successfully.",notification_tx_pending_title:"Transaction is pending",notification_tx_success_title:"Success",notification_tx_error_title:"Error:",notification_error_title:"Something went wrong, try again later",notification_error_invalid_paste_title:"Incorrect address in the clipboard",notification_explorer_link:"Explorer",notification_jp_chain_id_not_passed:'Parameter "chain_id" not passed.',notification_jp_chain_not_supported:"Chain {chain_id} not supported.",notification_jp_get_address_success:"You have successfully submitted your address.",notification_jp_get_address_reject:"You have rejected the request to provide your address.",notification_jp_send_reject:"You have rejected the request to send.",btn_add_new_wallet:"Add New Wallet",btn_from_exist_wallet:"Create from existing wallet",btn_create_wallet:"Create new wallet",btn_import_wallet:"Import wallet",btn_show:"Ok. Show my phrases",btn_next:"Next",btn_copy:"Copy to clipboard",btn_copy_small:"Copy",btn_join:"Join",btn_biometric:"Turn on biometric security",btn_biometric2:"Use biometric",btn_login:"Log in",btn_send:"Send",btn_receive:"Receive",btn_stake:"Earn",btn_confirm_stake:"Confirm Staking",btn_confirm_unstake:"Confirm Unstake",btn_confirm_redelegate:"Confirm",btn_unstake:"Unstake",btn_redelegate:"Switch validator",btn_claim:"Claim",btn_approve:"Approve",btn_reject:"Reject",btn_json:"View JSON",btn_close:"Close",btn_sign:"Sign",btn_understood:"Understood",btn_waiting_tx:"Waiting tx",btn_MAX:"MAX",btn_OK:"Ok",btn_cancel:"Cancel",btn_amount:"Amount",btn_share:"Share",btn_accept:"Accept",btn_paste:"Paste",notification_tx_error_2:"tx parse error",notification_tx_error_3:"invalid sequence",notification_tx_error_4:"unauthorized",notification_tx_error_5:"insufficient funds",notification_tx_error_6:"unknown request",notification_tx_error_7:"invalid address",notification_tx_error_8:"invalid pubkey",notification_tx_error_9:"unknown address",notification_tx_error_10:"invalid coins",notification_tx_error_11:"Broadcasting transaction failed: out of gas try again and increase gas amount",notification_tx_error_12:"memo too large",notification_tx_error_13:"insufficient fee",notification_tx_error_14:"maximum number of signatures exceeded",notification_tx_error_15:"no signatures supplied",notification_tx_error_16:"failed to marshal JSON bytes",notification_tx_error_17:"failed to unmarshal JSON bytes",notification_tx_error_18:"invalid request",notification_tx_error_19:"tx already in mempool",notification_tx_error_20:"mempool is full",notification_tx_error_21:"tx too large",notification_tx_error_22:"key not found",notification_tx_error_23:"invalid account password",notification_tx_error_24:"tx intended signer does not match the given signer",notification_tx_error_25:"invalid gas adjustment",notification_tx_error_26:"invalid height",notification_tx_error_27:"invalid version",notification_tx_error_28:"invalid chain-id",notification_tx_error_29:"invalid type",notification_tx_error_30:"tx timeout height",notification_tx_error_31:"unknown extension options",notification_tx_error_32:"incorrect account sequence",notification_tx_error_33:"failed packing protobuf message to Any",notification_tx_error_34:"failed unpacking protobuf message from Any",notification_tx_error_35:"internal logic error",notification_tx_error_36:"conflict",notification_tx_error_37:"feature not supported",notification_tx_error_38:"not found",notification_tx_error_39:"Internal IO error",notification_tx_error_40:"error in app.toml",notification_tx_error_41:"invalid gas limit",notification_tx_error_rejected:"The transaction has been rejected"}}};const s=(0,n.hU)({locale:"en",fallbackLocale:"en",messages:r});var i=s},84343:function(e,t,a){"use strict";var n=a(45130),r=a(93367),s=(a(44114),a(56768)),i=a(24232),o=a(90144),l=a(24113),c=a(96011),u=a(67278),d=a(81387),_=a(38326),m=a(90405),h=a(17086);const p={class:"modal"},f={class:"modal_content"},g={class:"data"},k={class:"modal_title"},w={class:"modal_desc"},v={class:"btns"};var b={__name:"RedirectModal",setup(e){const t=(0,s.WQ)("emitter");return(e,a)=>((0,s.uX)(),(0,s.CE)("section",p,[(0,s.Lk)("div",f,[(0,s.Lk)("div",g,[(0,s.Lk)("div",k,(0,i.v_)(e.$t("message.redirect_modal_title")),1),(0,s.Lk)("div",w,(0,i.v_)(e.$t("message.redirect_modal_desc")),1),(0,s.Lk)("div",v,[(0,s.Lk)("button",{class:"btn",onClick:a[0]||(a[0]=(0,n.D$)((e=>(0,o.R1)(t).emit("close_redirect_modal")),["prevent"]))},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_OK")),1)])])])])]))}},y=a(71241);const x=(0,y.A)(b,[["__scopeId","data-v-6672454e"]]);var R=x;const T={class:"page_container connect_wallet"},C={class:"cont"},A={class:"page_title"},L={class:"page_data_wrap"},S={class:"page_data"},N={class:"desc"},$={class:"btns"};var I={__name:"ConnectWallet",setup(e){const t=(0,c.useGlobalStore)(),a=(0,u.hN)(),n=(0,s.WQ)("i18n"),r=(0,s.WQ)("emitter");function o(){const e=t.RTCConnections[t.jetPackRequest.data.peer_id];e&&e.send({type:"address",requestId:t.jetPackRequest.data.request_id,address:t.currentAddress}),a.notify({group:"default",speed:200,duration:1e3,title:n.global.t("message.notification_jp_get_address_success"),type:"default"}),t.jetPackRequest=null,r.emit("close_connect_wallet_modal"),r.emit("show_redirect_modal")}function l(){const e=t.RTCConnections[t.jetPackRequest.data.peer_id];e&&e.send({type:"error",requestId:t.jetPackRequest.data.request_id,message:n.global.t("message.jp_message_rejected")}),a.notify({group:"default",speed:200,duration:1e3,title:n.global.t("message.notification_jp_get_address_reject"),type:"default"}),t.jetPackRequest=null,r.emit("close_connect_wallet_modal"),r.emit("show_redirect_modal")}return(e,t)=>((0,s.uX)(),(0,s.CE)("section",T,[(0,s.Lk)("div",C,[(0,s.Lk)("div",A,(0,i.v_)(e.$t("message.jp_connection_title")),1),(0,s.Lk)("div",L,[(0,s.Lk)("div",S,[(0,s.Lk)("div",N,(0,i.v_)(e.$t("message.jp_connection_desc")),1),(0,s.Lk)("div",$,[(0,s.Lk)("button",{class:"btn",onClick:t[0]||(t[0]=e=>o())},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_approve")),1)]),(0,s.Lk)("button",{class:"btn purple_btn",onClick:t[1]||(t[1]=e=>l())},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_reject")),1)])])])])])]))}};const j=(0,y.A)(I,[["__scopeId","data-v-5e933db6"]]);var D=j,W=a(20475),F=a(86255);const B={class:"page_container send_tx"},E={class:"cont"},P={class:"page_title"},G={class:"page_data_wrap"},q={class:"page_data"},O={class:"memo_field"},U={class:"field_label"},K={class:"field"},M={class:"btns"};var V={__name:"SendTx",setup(e){const t=(0,c.useGlobalStore)(),a=(0,s.WQ)("emitter"),r=(0,u.hN)(),l=(0,s.WQ)("i18n"),d=(0,o.KR)(""),_=(0,o.KR)(!1),p=(0,o.KR)(!1);async function f(){_.value=!0;try{t.TxFee.isRemember&&await t.updateTxFeeInfo();let e=await(0,m.qS)(t.jetPackRequest.data.msg,d.value);r.notify({group:"default",clean:!0}),r.notify({group:"default",speed:200,duration:-100,title:l.global.t("message.notification_tx_pending_title"),type:"pending",data:{isCollapsible:!0,explorer_link:(0,m.aS)(t.currentNetwork)}}),(0,m.nw)(e).catch((e=>{console.log(e),k(e)})),a.emit("close_send_tx_modal")}catch(e){console.log(e),k(e),t.showRedirectModal=!0}}function g(){const e=t.RTCConnections[t.jetPackRequest.data.peer_id];e&&e.send({type:"error",requestId:t.jetPackRequest.data.request_id,message:l.global.t("message.jp_message_rejected")}),r.notify({group:"default",speed:200,duration:1e3,title:l.global.t("message.notification_jp_send_reject"),type:"default"}),t.resetTxFee(),t.jetPackRequest=null,a.emit("close_send_tx_modal"),t.showRedirectModal=!0}function k(e){_.value=!1;let n="";if(n=e.code?l.global.t(`message.notification_tx_error_${e.code}`):l.global.t("message.notification_tx_error_rejected"),r.notify({group:"default",clean:!0}),r.notify({group:"default",speed:200,duration:6e3,title:l.global.t("message.notification_tx_error_title"),text:n,type:"error"}),t.networks[t.currentNetwork].currentTxHash=null,t.jetPackRequest){const e=t.RTCConnections[t.jetPackRequest.data.peer_id];e&&e.send({type:"tx",requestId:t.jetPackRequest.data.request_id,status:"success",hash:t.networks[t.currentNetwork].currentTxHash})}t.jetPackRequest=null,a.emit("close_send_tx_modal"),t.resetTxFee()}function w(){p.value=!0,t.isAnyModalOpen=!0}return a.on("auth",(()=>{p.value=!1,t.isAnyModalOpen=!1,f()})),a.on("close_sign_tx_modal",(()=>{p.value=!1,t.isAnyModalOpen=!1})),a.on("close_any_modal",(()=>{p.value=!1,t.isAnyModalOpen=!1})),(e,r)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("section",B,[_.value?((0,s.uX)(),(0,s.Wv)(h.A,{key:0})):(0,s.Q3)("",!0),(0,s.Lk)("div",E,[(0,s.Lk)("div",P,(0,i.v_)(e.$t("message.jp_send_tx_title")),1),(0,s.Lk)("div",G,[(0,s.Lk)("div",q,[(0,s.Lk)("pre",null,[(0,s.Lk)("code",null,(0,i.v_)((0,o.R1)(t).jetPackRequest?.data?.msg),1)]),(0,s.Lk)("div",O,[(0,s.Lk)("div",U,(0,i.v_)(e.$t("message.memo_label")),1),(0,s.Lk)("div",K,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":r[0]||(r[0]=e=>d.value=e)},null,512),[[n.Jo,d.value]])])]),(0,s.bF)(W.A,{msgAny:(0,o.R1)(t).jetPackRequest?.data?.msg,txType:"send"},null,8,["msgAny"]),(0,s.Lk)("div",M,[(0,o.R1)(t).networks[(0,o.R1)(t).currentNetwork].currentTxHash?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn waiting_btn",onClick:r[2]||(r[2]=(0,n.D$)((e=>(0,o.R1)(a).emit("show_collapsible_notification")),["prevent"]))},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,i.C4)(["btn",{disabled:!(0,o.R1)(t).TxFee.isEnough}]),onClick:r[1]||(r[1]=(0,n.D$)((e=>w()),["prevent"]))},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_send")),1)],2)),(0,s.Lk)("button",{class:"btn purple_btn",onClick:r[3]||(r[3]=e=>g())},[(0,s.Lk)("span",null,(0,i.v_)(e.$t("message.btn_reject")),1)])])])])])]),(0,s.bF)(n.eB,{name:"modal"},{default:(0,s.k6)((()=>[p.value?((0,s.uX)(),(0,s.Wv)(F.A,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(n.eB,{name:"fade"},{default:(0,s.k6)((()=>[p.value?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal_overlay",onClick:r[4]||(r[4]=(0,n.D$)((e=>(0,o.R1)(a).emit("close_any_modal")),["prevent"]))})):(0,s.Q3)("",!0)])),_:1})],64))}};const X=(0,y.A)(V,[["__scopeId","data-v-752e1d55"]]);var Q=X;const H=l+"#ic_notification_copied",J=l+"#ic_notification_success",z=l+"#ic_notification_error",Y={key:0,class:"icon"},Z={key:1,class:"icon"},ee={key:2,class:"icon"},te={key:3,class:"icon"},ae={class:"title"},ne={key:0,class:"explorer"},re=["href"];var se={__name:"App",setup(e){const t=(0,c.useGlobalStore)(),a=(0,s.WQ)("i18n"),r=(0,d.rd)(),l=(0,d.lq)(),p=(0,s.WQ)("emitter"),f=(0,_.K7Q)(),g=(0,o.KR)(!1),k=(0,s.EW)((()=>l.meta.layout||"default-layout")),w=(0,u.hN)(),v=(0,o.KR)(null),b={enter:{translateY:"0%"},leave:{translateY:"-100%"}},y=(0,o.Kh)((0,_.AEG)()),x=(0,o.KR)(!1),T=(0,o.KR)(!1);function C(e){if(t.currentNetwork!==e[1]){r.push({path:"/account"}),t.setCurrentNetwork(e[1]);let a=(0,s.wB)((0,s.EW)((()=>t.isInitialized)),(()=>{t.isInitialized&&"send"===e[0]&&(a(),r.push({path:"/account/send",query:{denom:t.networks[t.currentNetwork].denom,address:e[2],amount:e[3]}}))}))}else"send"===e[0]&&r.push({path:"/account/send",query:{denom:t.networks[t.currentNetwork].denom,address:e[2],amount:e[3]}})}function A(e){e.data.isCollapsible&&(v.value=setTimeout((()=>{let e=document.querySelector(".notification.collapsible");e&&e.classList.add("small"),v.value=null}),t.notificationsCollapsingDelay))}function L(){v.value=null}return(0,s.KC)((async()=>{f.value=a.global.t("message.page_title");var e=window._paq=window._paq||[];e.push(["trackPageView"]),e.push(["enableLinkTracking"]),function(){var t="//metrics.jetwallet.app/";e.push(["setTrackerUrl",t+"matomo.php"]),e.push(["setSiteId","1"]);var a=document,n=a.createElement("script"),r=a.getElementsByTagName("script")[0];n.async=!0,n.src=t+"matomo.js",r.parentNode.insertBefore(n,r)}(),await t.getCurrentWalletID(),window.Telegram&&window.Telegram.WebApp&&(0,m.uE)(Telegram.WebApp.initData),t.RTCPeer=new Peer(`jw-${t.tgBotId}-${t.tgUserId}`),t.RTCPeer.on("connection",(e=>{t.RTCConnections[e.peer]=e,e.on("data",(e=>{if(t.jetPackRequest=(0,m.d6)(e),"connectWallet"===t.jetPackRequest.method)if(t.currentAddress)x.value=!0;else{let e=(0,s.wB)((0,s.EW)((()=>t.currentAddress)),(()=>{t.currentAddress&&(e(),x.value=!0)}))}if("switchChain"===t.jetPackRequest.method){let e=t.RTCConnections[t.jetPackRequest.data.peer_id];t.jetPackSwitchNetwork().then((()=>{let a=(0,s.wB)((0,s.EW)((()=>t.currentAddress)),(()=>{t.currentAddress.length&&(a(),e&&e.send({type:"switchChain",requestId:t.jetPackRequest.data.request_id,chain_id:t.jetPackRequest.data.chain_id,address:t.currentAddress}))}))})).catch((()=>{e&&e.send({type:"error",requestId:t.jetPackRequest.data.request_id,message:a.global.t("message.jp_chain_not_found")})}))}if("loadBalances"===t.jetPackRequest.method){let e=t.RTCConnections[t.jetPackRequest.data.peer_id];if(t.isBalancesGot)e&&e.send({type:"balances",requestId:t.jetPackRequest.data.request_id,balances:t.balances});else{let a=(0,s.wB)((0,s.EW)((()=>t.isBalancesGot)),(()=>{t.isBalancesGot&&(a(),e&&e.send({type:"balances",requestId:t.jetPackRequest.data.request_id,balances:t.balances}))}))}}"sendTx"===t.jetPackRequest.method&&(T.value=!0)}))})),window.addEventListener("beforeunload",(()=>{Object.keys(t.RTCConnections).forEach((e=>t.RTCConnections[e].close())),t.RTCPeer.destroy()})),window.Telegram&&window.Telegram.WebApp&&(await Telegram.WebApp.ready(),Telegram.WebApp.expand(),Telegram.WebApp.setHeaderColor("#5b3895"),Telegram.WebApp.MainButton.showProgress(!0),Telegram.WebApp.disableVerticalSwipes(),Telegram.WebApp.BiometricManager.init(),await t.getAgeConfirmed(),t.isAgeConfirmed||Telegram.WebApp.showConfirm(a.global.t("message.age_modal_text"),(async e=>{e?await t.setAgeConfirmed():Telegram.WebApp.close()})),Telegram.WebApp.onEvent("qrTextReceived",(e=>{Telegram.WebApp.closeScanQrPopup();let t=e.data.split("|");C(t)})))})),(0,s.wB)((0,s.EW)((()=>t.isInitialized)),(()=>{if(t.jetPackRequest&&"connectWallet"===t.jetPackRequest.method)if(t.currentAddress)x.value=!0;else{let e=(0,s.wB)((0,s.EW)((()=>t.currentAddress)),(()=>{t.currentAddress&&(e(),x.value=!0)}))}})),(0,s.wB)((0,s.EW)((()=>t.currentWalletID)),(async()=>{w.notify({group:"default",clean:!0}),await t.initApp()})),(0,s.wB)((0,s.EW)((()=>t.currentNetwork)),(async()=>{(t.isInitialized||t.forcedUnlock)&&(w.notify({group:"default",clean:!0}),await t.initApp())})),(0,s.wB)((0,s.EW)((()=>y.isOnline)),(async()=>{w.notify({group:"default",clean:!0}),y.isOnline||w.notify({group:"default",speed:200,duration:-100,title:a.global.t("message.notification_offline_title"),type:"error"})})),p.on("show_collapsible_notification",(()=>{if(!v.value){let e=document.querySelector(".notification.collapsible");e&&(e.classList.remove("small"),v.value=setTimeout((()=>{e&&e.classList.add("small"),v.value=null}),t.notificationsCollapsingDelay))}})),p.on("close_connect_wallet_modal",(()=>{x.value=!1})),p.on("close_send_tx_modal",(()=>{T.value=!1})),p.on("show_redirect_modal",(()=>{t.showRedirectModal=!0})),p.on("close_redirect_modal",(()=>{t.showRedirectModal=!1})),p.on("start_reseting",(()=>{g.value=!0,setTimeout((()=>g.value=!1),300)})),(e,a)=>{const r=(0,s.g2)("notifications");return(0,s.uX)(),(0,s.CE)(s.FK,null,[g.value?((0,s.uX)(),(0,s.Wv)(h.A,{key:0})):((0,s.uX)(),(0,s.Wv)((0,s.$y)(k.value),{key:1})),(0,s.bF)(r,{position:"top left",group:"default",width:"100%","animation-type":"velocity",animation:b,onStart:a[0]||(a[0]=e=>A(e)),onDestroy:a[1]||(a[1]=e=>L())},{body:(0,s.k6)((t=>[(0,s.Lk)("div",{class:(0,i.C4)(["notification",{pending:"pending"==t.item.type,success:"success"==t.item.type,error:"error"==t.item.type,collapsible:t.item.data.isCollapsible}])},["copied"==t.item.type?((0,s.uX)(),(0,s.CE)("div",Y,a[3]||(a[3]=[(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":H})],-1)]))):(0,s.Q3)("",!0),"pending"==t.item.type?((0,s.uX)(),(0,s.CE)("div",Z,a[4]||(a[4]=[(0,s.Lk)("div",{class:"loader"},null,-1)]))):(0,s.Q3)("",!0),"success"==t.item.type?((0,s.uX)(),(0,s.CE)("div",ee,a[5]||(a[5]=[(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":J})],-1)]))):(0,s.Q3)("",!0),"error"==t.item.type?((0,s.uX)(),(0,s.CE)("div",te,a[6]||(a[6]=[(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":z})],-1)]))):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[(0,s.Lk)("div",ae,(0,i.v_)(t.item.title)+" "+(0,i.v_)(t.item.text),1),t.item.data.explorer_link?((0,s.uX)(),(0,s.CE)("div",ne,[(0,s.Lk)("a",{href:t.item.data.explorer_link,target:"_blank",rel:"noopener nofollow"},(0,i.v_)(e.$t("message.notification_explorer_link")),9,re)])):(0,s.Q3)("",!0)])],2)])),_:1}),(0,s.bF)(n.eB,{name:"from_right"},{default:(0,s.k6)((()=>[x.value?((0,s.uX)(),(0,s.Wv)(D,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(n.eB,{name:"from_right"},{default:(0,s.k6)((()=>[T.value?((0,s.uX)(),(0,s.Wv)(Q,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(n.eB,{name:"modal"},{default:(0,s.k6)((()=>[(0,o.R1)(t).showRedirectModal?((0,s.uX)(),(0,s.Wv)(R,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(n.eB,{name:"fade"},{default:(0,s.k6)((()=>[(0,o.R1)(t).showRedirectModal?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal_overlay",onClick:a[2]||(a[2]=(0,n.D$)((e=>(0,o.R1)(p).emit("close_redirect_modal")),["prevent"]))})):(0,s.Q3)("",!0)])),_:1})],64)}}};const ie=se;var oe=ie,le=a(36571);const ce={class:"main"};function ue(e,t){const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",ce,[(0,s.bF)(a,null,{default:(0,s.k6)((({Component:e})=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e)))])),_:1})])}const de={},_e=(0,y.A)(de,[["render",ue]]);var me=_e;const he={class:"main"};var pe={__name:"Account",setup(e){const t=(0,c.useGlobalStore)(),a=(0,s.WQ)("emitter"),n=(0,o.KR)(0),r=(0,o.KR)(!1),i=70,l=(0,o.KR)(!1);function u(e){0===window.scrollY&&(n.value=e.touches[0].pageY,r.value=!0,l.value=!1)}function d(e){if(r.value&&(t.networks[t.currentNetwork].currentTxHash||t.forcedUnlock))return void a.emit("show_collapsible_notification");if(!r.value||l.value)return;let s=e.touches[0].pageY,o=s-n.value;if(o>0&&o>=i){if(e.preventDefault(),e.stopPropagation(),t.isAnyModalOpen)return a.emit("close_any_modal"),void(r.value=!1);l.value=!0;let n=document.querySelector(".account_page");n&&(n.classList.add("updating"),setTimeout((()=>n.classList.remove("updating")),500),t.updateAllBalances())}}function _(e){r.value=!1}return(0,s.sV)((()=>{window.addEventListener("touchstart",u,{passive:!1}),window.addEventListener("touchmove",d,{passive:!1}),window.addEventListener("touchend",_,{passive:!1})})),(0,s.hi)((()=>{window.removeEventListener("touchstart",u,{passive:!1}),window.removeEventListener("touchmove",d,{passive:!1}),window.removeEventListener("touchend",_,{passive:!1})})),(e,t)=>{const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",he,[(0,s.bF)(a,null,{default:(0,s.k6)((({Component:e})=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e)))])),_:1})])}}};const fe=pe;var ge=fe;const ke=[{path:"/",name:"MainPage",component:()=>a.e(17).then(a.bind(a,72870)),meta:{layout:me,accessDenied:["register","locked"]}},{path:"/create_wallet",name:"CreateWallet",component:()=>a.e(183).then(a.bind(a,86183)),meta:{layout:me,accessDenied:["register","locked"]}},{path:"/confirm_wallet",name:"CreateWalletConfirm",component:()=>a.e(70).then(a.bind(a,78643)),meta:{layout:me,accessDenied:["register","locked"]}},{path:"/create_pin",name:"CreatePin",component:()=>a.e(139).then(a.bind(a,67139)),meta:{layout:me,accessDenied:["register","locked"]}},{path:"/wallet_created",name:"CreatedWallet",component:()=>a.e(135).then(a.bind(a,18357)),meta:{layout:me,accessDenied:["not_register","locked"]}},{path:"/import_wallet",name:"ImportWallet",component:()=>Promise.all([a.e(593),a.e(8)]).then(a.bind(a,31061)),meta:{layout:me,accessDenied:["register","locked"]}},{path:"/auth",name:"Auth",component:()=>a.e(119).then(a.bind(a,54119)),meta:{layout:me,accessDenied:["not_register","authorized","locked"]}},{path:"/lock",name:"Lock",component:()=>a.e(590).then(a.bind(a,49590)),meta:{layout:me,accessDenied:["not_register"]}},{path:"/account",name:"Account",component:()=>a.e(712).then(a.bind(a,15712)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/claim_confirm",name:"ClaimConfirm",component:()=>a.e(768).then(a.bind(a,37768)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/stake",name:"Stake",component:()=>a.e(679).then(a.bind(a,17679)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/unstake",name:"Unstake",component:()=>a.e(300).then(a.bind(a,24300)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/redelegate",name:"Redelegate",component:()=>a.e(682).then(a.bind(a,87682)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/receive",name:"Receive",component:()=>a.e(779).then(a.bind(a,34779)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/account/send",name:"Send",component:()=>a.e(979).then(a.bind(a,25979)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/add_wallet",name:"AddWallet",component:()=>a.e(449).then(a.bind(a,36870)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/add_wallet/create",name:"AddWalletCreate",component:()=>a.e(411).then(a.bind(a,36411)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/add_wallet/confirm",name:"AddWalletConfirm",component:()=>a.e(523).then(a.bind(a,7078)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}},{path:"/add_wallet/import",name:"AddWalletImport",component:()=>Promise.all([a.e(593),a.e(749)]).then(a.bind(a,40518)),meta:{layout:ge,accessDenied:["not_authorized","locked"]}}],we=(0,d.aE)({history:(0,d.LA)(),routes:ke});we.beforeResolve((async(e,t,a)=>{let n=(0,c.useGlobalStore)(),r=await(0,le.pQ)("global",["isRegister","isUserLock","userLockTimestamp"]);e.query.tgWebAppStartParam&&(n.jetPackRequest=(0,m.Wk)(e.query.tgWebAppStartParam)),e.matched.some((e=>{let t=e.meta.accessDenied;if(t.length){if(t.includes("not_register")&&void 0==r.isRegister)return a({name:"MainPage"}),!1;if(t.includes("locked")&&r.isUserLock&&new Date-new Date(r.userLockTimestamp)<n.userLockTime)return a({name:"Lock"}),!1;if(t.includes("register")&&r.isRegister)return a({name:"Auth"}),!1;if(t.includes("not_authorized")&&!n.isAuthorized)return a({name:"Auth"}),!1;if(t.includes("authorized")&&n.isAuthorized)return a({name:"Account"}),!1;a()}}))}));var ve=we,be=a(60238),ye=a(50595),xe=a(14400),Re=a.n(xe),Te=a(37359),Ce=a(65838);const Ae={mounted(e){e.focus()}},Le={mounted(e){window.addEventListener("scroll",(function(){window.scrollY<=e.offsetHeight&&(e.style.opacity=1-window.scrollY/(.6*e.offsetHeight),e.style.transform=`translateY(-${window.scrollY/e.offsetHeight*.6*100}%)`)}))}},Se={mounted(e,t){if(t){let a=t.value.toFixed(10).split("");e.innerHTML=a.map((e=>`\n                <div class="digit">\n                    <span class="old">${e}</span>\n                </div>\n            `)).join("")}},updated(e,t){let a=t.value.toFixed(10).split(""),n=t.oldValue?.toFixed(10).split("")||[],r=Math.max(a.length,n.length),s="",i=null,o=0,l=1500,c=50;a=a.concat(Array(r-a.length).fill("")),n=n.concat(Array(r-n.length).fill("")),e.innerHTML=a.map(((e,t)=>{null===i&&e!==n[t]&&(i=t,o=r-t,l-=c*o);let a=0;null!==i&&(a=l/o/1e3),s+=`<div class="digit ${null!==i&&t>=i?"animate":""}">\n                        <span class="new" style="animation-duration: ${parseFloat(a.toFixed(2))}s; animation-delay: ${c*(t-i)/1e3}s;">\n                            ${e}\n                        </span>\n\n                        <span class="old" style="animation-duration: ${parseFloat(a.toFixed(2))}s; animation-delay: ${c*(t-i)/1e3}s;">\n                            ${n[t]}\n                        </span>\n                    </div>`})),e.innerHTML=s}},Ne=(0,ye.A)(),$e=(0,n.Ef)(oe),Ie=(0,r.Ey)();$e.use(Ie),$e.use(ve),$e.use(be.A),$e.use(u.Ay,{velocity:Re()}),$e.provide("i18n",be.A),$e.provide("emitter",Ne),$e.directive("focus",Ae),$e.directive("parallax",Le),$e.directive("odometer",Se),(0,Te.kz)(),$e.component(Ce.A.name,Ce.A),$e.mount("#app")},96011:function(e,t,a){"use strict";a.d(t,{useGlobalStore:function(){return T}});a(44114),a(16573),a(78100),a(77936),a(37467),a(44732),a(79577);var n=a(93367),r=a(90405),s=a(79350),i=a(36571),o=a(67278),l=a(27148),c=a(60238);const u={name:"Cosmos Hub",lcd_api:"https://lcd.cosmoshub-4.bronbro.io",rpc_api:"https://rpc.cosmoshub-4.bronbro.io",websocket_url:"wss://rpc.cosmoshub-4.bronbro.io:443/websocket",denom:"uatom",token_name:"ATOM",chain_id:"cosmoshub-4",prefix:"cosmos",explorer_link:"https://www.mintscan.io/cosmos/tx/{tx_hash}",alias:"cosmoshub",exponent:6,gas_adjustment:1.6,address_length:20,gas_amount_send:1e5,gas_amount_claim:1e6,gas_amount_stake:5e5,gas_amount_unstake:5e5,gas_amount_redelegate:1e6,is_staking_available:!0};var d=u;const _={name:"Bostrom",lcd_api:"https://lcd.bostrom.bronbro.io",rpc_api:"https://rpc.bostrom.bronbro.io",websocket_url:"wss://rpc.bostrom.bronbro.io:443/websocket",denom:"boot",token_name:"BOOT",chain_id:"bostrom",prefix:"bostrom",explorer_link:"https://ping.pub/bostrom/tx/{tx_hash}",alias:"bostrom",exponent:0,gas_adjustment:1.3,address_length:20,gas_amount_send:3e5,gas_amount_claim:3e5,gas_amount_stake:25e4,gas_amount_unstake:25e4,gas_amount_redelegate:3e5,is_staking_available:!0};var m=_;const h={name:"Neutron",lcd_api:"https://lcd.neutron-1.bronbro.io",rpc_api:"https://rpc.neutron-1.bronbro.io",websocket_url:"wss://rpc.neutron-1.bronbro.io:443/websocket",denom:"untrn",token_name:"NTRN",chain_id:"neutron-1",prefix:"neutron",explorer_link:"https://www.mintscan.io/neutron/tx/{tx_hash}",alias:"neutron",exponent:6,gas_adjustment:1.6,address_length:20,gas_amount_send:3e5,gas_amount_claim:3e5,gas_amount_stake:25e4,gas_amount_unstake:25e4,gas_amount_redelegate:3e5,is_staking_available:!1};var p=h;const f={name:"OmniFlix",lcd_api:"https://lcd.omniflix.bronbro.io",rpc_api:"https://rpc.omniflix.bronbro.io",websocket_url:"wss://rpc.omniflix.bronbro.io:443/websocket",denom:"uflix",token_name:"FLIX",chain_id:"omniflixhub-1",prefix:"omniflix",explorer_link:"https://www.mintscan.io/omniflix/tx/{tx_hash}",alias:"omniflix",exponent:6,gas_adjustment:1.3,address_length:20,gas_amount_send:3e5,gas_amount_claim:3e5,gas_amount_stake:25e4,gas_amount_unstake:25e4,gas_amount_redelegate:3e5,is_staking_available:!0};var g=f;const k={name:"Dymension Hub",lcd_api:"https://lcd.dymension.bronbro.io",rpc_api:"https://rpc.dymension.bronbro.io",websocket_url:"wss://rpc.dymension.bronbro.io:443/websocket",denom:"adym",token_name:"DYM",chain_id:"dymension_1100-1",prefix:"dym",explorer_link:"https://www.mintscan.io/dymension/tx/{tx_hash}",alias:"dymension",exponent:6,gas_adjustment:1.3,address_length:20,gas_amount_send:3e5,gas_amount_claim:3e5,gas_amount_stake:25e4,gas_amount_unstake:25e4,gas_amount_redelegate:3e5,is_staking_available:!0};var w=k;const v={name:"Stride",lcd_api:"https://lcd.stride.bronbro.io",rpc_api:"https://rpc.stride.bronbro.io",websocket_url:"wss://rpc.stride.bronbro.io:443/websocket",denom:"ustrd",token_name:"STRD",chain_id:"stride-1",prefix:"stride",explorer_link:"https://www.mintscan.io/stride/tx/{tx_hash}",alias:"stride",exponent:6,gas_adjustment:1.3,address_length:20,gas_amount_send:3e5,gas_amount_claim:3e5,gas_amount_stake:25e4,gas_amount_unstake:25e4,gas_amount_redelegate:3e5,is_staking_available:!0};var b=v,y=a(83438)["hp"];const x={websocket:null,currentTxHash:null,unbondingTime:0,totalBondedTokens:0,totalUnstakingTokens:0,isUnstakingCancelSupport:!1},R=(0,o.hN)(),T=(0,n.nY)("global",{state:()=>({isInitializing:!1,isInitialized:!1,isBalancesGot:!1,isStakedBalancesGot:!1,isRewardsGot:!1,isUnstakingBalancesGot:!1,isAuthorized:!1,isAnyModalOpen:!1,isAgeConfirmed:!1,defaultDerivationPath:"m/44'/118'/0'/0/0",showRedirectModal:!1,forcedUnlock:!1,authErrorLimit:4,DBVersion:1,currentWalletID:1,currentWalletDerivationPath:null,currentWalletName:"",currentNetwork:"",currentAddress:"",currentCurrency:"",currentCurrencySymbol:"",IBCSendCurrentChain:null,stakeCurrentValidator:null,unstakeCurrentValidator:null,redelegateValidatorFrom:null,redelegateValidatorTo:null,wallets:[],prices:[],balances:[],stakedBalances:[],rewardsBalances:[],unstakingBalances:[],redelegations:[],tgBotId:7437812149,tgUserId:"",jetPackRequest:null,RTCPeer:null,RTCConnections:{},defaultWalletName:"MyJetWallet",cacheTime:9e5,userLockTime:9e5,notificationsCollapsingDelay:2e3,TxFee:{balance:{},currentLevel:"average",userGasAmount:0,gasAmount:0,isRemember:!1,isGasAdjustmentAuto:!0,isEnough:!1},networks:{cosmoshub:Object.assign(d,x),bostrom:Object.assign(m,x),neutron:Object.assign(p,x),omniflix:Object.assign(g,x),dymension:Object.assign(w,x),stride:Object.assign(b,x)},formatableTokens:[{token_name:"USD",format_token_name:"usdt",exponent:0},{token_name:"BTC",format_token_name:"wbtc",exponent:0},{token_name:"ETH",format_token_name:"axleth",exponent:0}]}),actions:{getCurrentDBVersion(){let e=localStorage.getItem("DBVersion");e?this.DBVersion=e:localStorage.setItem("DBVersion",this.DBVersion)},setNewDBVersion(){this.DBVersion++,localStorage.setItem("DBVersion",this.DBVersion)},async getCurrentWalletID(){let e=await(0,i.$R)("global","currentWalletID");void 0!==e&&(this.currentWalletID=e)},async setCurrentWalletID(e=null){this.currentWalletID!==e&&(await(0,i.IG)("global",[["currentWalletID",e]]),this.currentWalletID=e)},async initApp(){this.isInitializing=!0,this.isInitialized=!1,this.forcedUnlock=!1,this.currentAddress="";let e=await(0,i.pQ)(`wallet${this.currentWalletID}`,["derivationPath","name","currentCurrency","currentNetwork","TxFeeCurrentLevel","TxFeeIsRemember"]);if(this.currentWalletDerivationPath=e.derivationPath,this.currentWalletName=e.name,this.currentCurrency=e.currentCurrency,this.TxFee.currentLevel=void 0!==e.TxFeeCurrentLevel?e.TxFeeCurrentLevel:"average",this.TxFee.isRemember=void 0!==e.TxFeeIsRemember&&e.TxFeeIsRemember,this.jetPackRequest)if(this.jetPackRequest.data&&this.jetPackRequest.data?.chain_id){let t=Object.values(this.networks).find((e=>e.chain_id===this.jetPackRequest.data.chain_id));t?this.setCurrentNetwork(t.alias):(R.notify({group:"default",speed:200,duration:1e3,title:c.A.global.t("message.notification_jp_chain_not_supported"),type:"error"}),this.jetPackRequest=null,this.currentNetwork=e.currentNetwork)}else R.notify({group:"default",speed:200,duration:1e3,title:c.A.global.t("message.notification_jp_chain_id_not_passed"),type:"error"}),this.jetPackRequest=null,this.currentNetwork=e.currentNetwork;else this.networks[e.currentNetwork]?this.currentNetwork=e.currentNetwork:this.currentNetwork="cosmoshub";try{let e=await(0,i.$R)(`wallet${this.currentWalletID}`,`${this.currentNetwork}_currentAddress`);if(void 0===e){let e=await(0,r.bv)();this.currentAddress=e,await(0,i.IG)(`wallet${this.currentWalletID}`,[[`${this.currentNetwork}_currentAddress`,e]])}else this.currentAddress=e;switch(this.currentCurrency){case"BTC":this.currentCurrencySymbol="BTC";break;case"ETH":this.currentCurrencySymbol="ETH";break;default:this.currentCurrencySymbol="$";break}await this.getCurrenciesPrice(),await this.getCurrentNetworkAPR(),this.connectWebsocket(),await this.isUnstakingCancelSupport(),this.networks[this.currentNetwork].is_staking_available?Promise.all([await this.getBalances(),await this.getStakedBalances()]).then((()=>{this.isInitialized=!0})):Promise.all([await this.getBalances()]).then((()=>{this.isInitializing=!1,this.isInitialized=!0}))}catch(t){console.log(t),R.notify({group:"default",clean:!0}),R.notify({group:"default",speed:200,duration:-100,title:c.A.global.t("message.notification_error_title"),type:"error",data:{isCollapsible:!0}}),this.forcedUnlock=!0}},async getCurrenciesPrice(){let e=await(0,i.$R)("global","prices");if(void 0===e||new Date-new Date(e.timestamp)>this.cacheTime)try{await fetch("https://rpc.bronbro.io/price_feed_api/tokens/").then((e=>e.json())).then((async e=>{this.prices=e,await(0,i.IG)("global",[["prices",{data:e,timestamp:(new Date).toISOString()}]])}))}catch(t){console.error(t)}else this.prices=e.data},async getCurrentNetworkAPR(){let e=await(0,i.$R)(`wallet${this.currentWalletID}`,`${this.currentNetwork}_APR`);if(void 0===e||new Date-new Date(e.timestamp)>this.cacheTime)try{await fetch("https://rpc.bronbro.io/networks/").then((e=>e.json())).then((async e=>{let t=e.infos.find((e=>e.denom===this.networks[this.currentNetwork].token_name.toLowerCase()));t&&(this.networks[this.currentNetwork].APR=t.apr,await(0,i.IG)(`wallet${this.currentWalletID}`,[[`${this.currentNetwork}_APR`,JSON.parse(JSON.stringify({value:t.apr,timestamp:(new Date).toISOString()}))]]))}))}catch(t){console.log(t)}else this.networks[this.currentNetwork].APR=e.value},async getBalances(e=!1){this.isBalancesGot=!1,this.balances=[];let t=await(0,i.$R)(`wallet${this.currentWalletID}`,`${this.currentNetwork}_balances`);if(e||void 0===t||new Date-new Date(t.timestamp)>this.cacheTime)try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/bank/v1beta1/balances/${this.currentAddress}`).then((e=>e.json())).then((async e=>{if(e.balances.length){this.balances=e.balances;for(let e of this.balances)await this.getBalanceInfo(e);this.balances=this.balances.filter((e=>e.hasOwnProperty("exponent"))),await(0,i.IG)(`wallet${this.currentWalletID}`,[[`${this.currentNetwork}_balances`,JSON.parse(JSON.stringify({value:this.balances,timestamp:(new Date).toISOString()}))]])}}))}catch(a){console.error(a)}else this.balances=t.value;this.isBalancesGot=!0},async getStakedBalances(e=!1){this.isStakedBalancesGot=!1,this.stakedBalances=[];let t=await(0,i.$R)(`wallet${this.currentWalletID}`,`${this.currentNetwork}_stakedBalances`);if(e||void 0===t||new Date-new Date(t.timestamp)>this.cacheTime)try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/delegations/${this.currentAddress}`).then((e=>e.json())).then((async e=>{if(e.delegation_responses){this.stakedBalances=e.delegation_responses;for(let e of this.stakedBalances)await this.getBalanceInfo(e.balance),await this.getValidatorInfo(e,e.delegation.validator_address);this.stakedBalances=this.stakedBalances.filter((e=>e.balance.hasOwnProperty("exponent"))),await(0,i.IG)(`wallet${this.currentWalletID}`,[[`${this.currentNetwork}_stakedBalances`,JSON.parse(JSON.stringify({value:this.stakedBalances,timestamp:(new Date).toISOString()}))]])}}))}catch(a){console.error(a)}else this.stakedBalances=t.value;this.isStakedBalancesGot=!0},async getRewards(){this.isRewardsGot=!1,this.rewardsBalances=[];try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/distribution/v1beta1/delegators/${this.currentAddress}/rewards`).then((e=>e.json())).then((async e=>{if(e.total.length){this.rewardsBalances=e.total;for(let e of this.rewardsBalances)await this.getBalanceInfo(e);this.rewardsBalances=this.rewardsBalances.filter((e=>e.hasOwnProperty("exponent"))),this.rewardsBalances=this.rewardsBalances.filter((e=>e.chain_info.chain_id==this.networks[this.currentNetwork].chain_id))}}))}catch(e){console.error(e)}this.isRewardsGot=!0},async getUnstakingBalances(){this.isUnstakingBalancesGot=!1,this.unstakingBalances=[],this.networks[this.currentNetwork].totalUnstakingTokens=0;try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/delegators/${this.currentAddress}/unbonding_delegations`).then((e=>e.json())).then((async e=>{this.unstakingBalances=e.unbonding_responses;for(let t of this.unstakingBalances)t.entries.forEach((e=>this.networks[this.currentNetwork].totalUnstakingTokens+=parseInt(e.balance))),await this.getValidatorInfo(t,t.validator_address)}))}catch(e){console.error(e)}this.isUnstakingBalancesGot=!0},async getRedelegations(){try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/delegators/${this.currentAddress}/redelegations`).then((e=>e.json())).then((async e=>{this.redelegations=e.redelegation_responses}))}catch(e){console.error(e)}},async getBalanceInfo(e){let{base_denom:t}=await(0,r.E0)(e.denom,this.currentNetwork);for(let n of s.mY){switch(t){case"uusdc":var a=s.mY.find((e=>"noble"===e.chain_name));break;default:a=n;break}let r=a.assets.find((e=>e.base===t));if(r){e.token_info=r,e.chain_name=a.chain_name;break}}if(e.token_info){let t=this.formatableTokens.find((t=>t.token_name===e.token_info.base.toUpperCase()));e.exponent=t?t.exponent:e.token_info.denom_units[1]?.exponent||0,e.chain_info=s.Bt.find((t=>t.chain_name===e.chain_name)),e.price=(0,r.AN)(e.token_info.symbol)}},hasNativeToken(){return this.balances.some((e=>e.denom==this.networks[this.currentNetwork].denom))},async getValidatorInfo(e,t){try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/validators/${t}`).then((e=>e.json())).then((t=>{e.validator_info=t.validator}))}catch(a){console.error(a)}},async getSecret(e=!1){let t=null,a=0;e?a=this.currentWalletID:(t=await(0,i.$R)("global","wallets"),a=void 0!==t?t.length+1:1);let n=await(0,i.pQ)("secret",[`wallet${a}_aesKey`,`wallet${a}_secret`,`wallet${a}_secretIV`]),s=await(0,i.$R)(`wallet${a}`,"secret"),o=l.Ay.combine([n[`wallet${a}_secret`],s]),c=new Uint8Array(o);return await(0,r.af)(c,n[`wallet${a}_secretIV`],n[`wallet${a}_aesKey`])},async getPrivateKey(e=!1){let t=null,a=0;e?a=this.currentWalletID:(t=await(0,i.$R)("global","wallets"),a=void 0!==t?t.length+1:1);let n=await(0,i.pQ)("secret",[`wallet${a}_aesKey`,`wallet${a}_privateKey`,`wallet${a}_secretIV`]),s=await(0,i.$R)(`wallet${a}`,"privateKey"),o=l.Ay.combine([n[`wallet${a}_privateKey`],s]),c=new Uint8Array(o);return await(0,r.af)(c,n[`wallet${a}_secretIV`],n[`wallet${a}_aesKey`])},async findMissingId(e=null){e||(e=await(0,i.$R)("global","wallets"));let t=1;if(void 0!==e){let a=e.map((e=>e.id));while(a.includes(t))t++}return t},async findNextAvailableWalletName(e=null){let t=2,a=this.defaultWalletName+t;if(e||(e=await(0,i.$R)("global","wallets")),void 0!==e)while(1){if(a=this.defaultWalletName+t,!e.some((e=>e.name===a)))return a;t++}return a},async setSecret(e){let t=await(0,r.cd)(),{ciphertext:a,iv:n}=await(0,r.yv)(e,t),s=l.Ay.split(y.from(a),{shares:2,threshold:2}),o=await this.findMissingId();await(0,i.IG)("secret",[[`wallet${o}_aesKey`,t],[`wallet${o}_secret`,s[0]],[`wallet${o}_secretIV`,n]]),await(0,i.Tx)(`wallet${o}`),await(0,i.IG)(`wallet${o}`,[["secret",s[1]],["createdBy","secret"]])},async setPrivateKey(e){let t=await(0,r.cd)(),{ciphertext:a,iv:n}=await(0,r.yv)(e,t),s=l.Ay.split(y.from(a),{shares:2,threshold:2}),o=await this.findMissingId();await(0,i.IG)("secret",[[`wallet${o}_aesKey`,t],[`wallet${o}_privateKey`,s[0]],[`wallet${o}_secretIV`,n]]),await(0,i.IG)(`wallet${o}`,[["privateKey",s[1]],["createdBy","privateKey"]])},setCurrentNetwork(e){this.currentNetwork=e,(0,i.IG)(`wallet${this.currentWalletID}`,[["currentNetwork",e]])},async createWallet({pinCode:e=null,walletName:t=null,isBiometricEnabled:a=null,isAdding:n=!1,relativeWallet:s=null,derivationPath:o=this.defaultDerivationPath}){let l=await(0,i.$R)("global","wallets");void 0===l&&(l=[]);let c=await this.findMissingId(l);if(l.push({id:c,name:t||await this.findNextAvailableWalletName()}),await(0,i.IG)(`wallet${c}`,[["id",c],["name",t||this.defaultWalletName+c],["currentNetwork","cosmoshub"],["currentCurrency","USD"],["derivationPath",o],["subWallets",JSON.parse(JSON.stringify([]))],["relativeWallet",s]]),n)await(0,i.IG)("global",[["wallets",l]]);else{let t=await(0,r.Q1)();await(0,i.IG)("global",[["isRegister",!0],["currentWalletID",c],["hmacKey",t],["pin",await(0,r.mK)(e.join(""),t)],["isBiometric",a],["authErrorLimit",this.authErrorLimit],["wallets",l]])}return this.isAuthorized=!0,c},async createFromExistWallet(){let e=await this.getSecret(!0),t=await(0,i.$R)(`wallet${this.currentWalletID}`,"subWallets");await this.setSecret(e);let a=await this.createWallet({isAdding:!0,relativeWallet:this.currentWalletID,derivationPath:this.defaultDerivationPath.replace(/\/\d+$/,`/${t+1}`)});t.push(a),await(0,i.IG)(`wallet${this.currentWalletID}`,[["subWallets",JSON.parse(JSON.stringify(t))]])},async getCurrentWalletCreatedBy(){return await(0,i.$R)(`wallet${this.currentWalletID}`,"createdBy")},async updateUserAuthErrorLimit(e){await(0,i.IG)("global",[["authErrorLimit",e]])},async updateTxFeeInfo(){await(0,i.IG)(`wallet${this.currentWalletID}`,[["TxFeeCurrentLevel",this.TxFee.currentLevel],["TxFeeIsRemember",this.TxFee.isRemember]])},async updateCurrentCurrency(){switch(this.currentCurrency){case"BTC":this.currentCurrency="ETH",this.currentCurrencySymbol="ETH",(0,i.IG)(`wallet${this.currentWalletID}`,[["currentCurrency","ETH"]]);break;case"ETH":this.currentCurrency="USD",this.currentCurrencySymbol="$",(0,i.IG)(`wallet${this.currentWalletID}`,[["currentCurrency","USD"]]);break;default:this.currentCurrency="BTC",this.currentCurrencySymbol="BTC",(0,i.IG)(`wallet${this.currentWalletID}`,[["currentCurrency","BTC"]]);break}},connectWebsocket(){Object.values(this.networks).forEach((e=>{e.websocket&&(e.websocket.onmessage=null,e.websocket.close())})),this.networks[this.currentNetwork].websocket=new WebSocket(this.networks[this.currentNetwork].websocket_url),this.networks[this.currentNetwork].websocket.onopen=()=>{this.networks[this.currentNetwork].websocket.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",id:"1",params:{query:`tm.event='Tx' AND transfer.recipient='${this.currentAddress}'`}}))},this.networks[this.currentNetwork].websocket.onmessage=async e=>{let t=JSON.parse(e.data);t.result&&Object.keys(t.result).length>0&&("1"==t.id&&(this.updateAllBalances(),this.resetTxFee()),"2"==t.id&&this.checkTxResult())}},TxFeeGetCurrentBalance(e){this.TxFee.balance=this.balances.find((t=>t.denom===e))||{amount:0}},TxFeeSetGasPrices(){let e=s.Bt.find((e=>e.chain_id===this.networks[this.currentNetwork].chain_id));this.TxFee.lowPrice=e.fees.fee_tokens[0].fixed_min_gas_price?1.1*e.fees.fee_tokens[0].fixed_min_gas_price:e.fees.fee_tokens[0].low_gas_price,this.TxFee.averagePrice=1.15*this.TxFee.lowPrice,this.TxFee.highPrice=1.3*this.TxFee.lowPrice},TxFeeIsEnough(){this.isBalancesGot&&(this.TxFee.isEnough=this.TxFee.balance.amount>this.TxFee.userGasAmount*this.TxFee[`${this.TxFee.currentLevel}Price`])},setListenerCurrentTx(){this.networks[this.currentNetwork].websocket.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",id:"2",params:{query:`tm.event='Tx' AND tx.hash='${this.networks[this.currentNetwork].currentTxHash.toUpperCase()}'`}}))},async getTxInfo(e){try{return await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/tx/v1beta1/txs/${e.toUpperCase()}`).then((e=>e.json()))}catch(t){console.error(t)}},async checkTxResult(){let e=await this.getTxInfo(this.networks[this.currentNetwork].currentTxHash);if(5!=e.code){if(R.notify({group:"default",clean:!0}),"0"==e.tx_response.code){if(R.notify({group:"default",speed:200,duration:4e3,title:c.A.global.t("message.notification_tx_success_title"),type:"success",data:{explorer_link:(0,r.aS)(this.currentNetwork)}}),this.jetPackRequest){const e=this.RTCConnections[this.jetPackRequest.data.peer_id];e&&e.send({type:"tx",requestId:this.jetPackRequest.data.request_id,status:"success",hash:this.networks[this.currentNetwork].currentTxHash})}}else{let t="";if(t=e.tx_response.code?c.A.global.t(`message.notification_tx_error_${e.tx_response.code}`):c.A.global.t("message.notification_tx_error_rejected"),R.notify({group:"default",speed:200,duration:6e3,title:c.A.global.t("message.notification_tx_error_title"),text:t,type:"error"}),this.jetPackRequest){const e=this.RTCConnections[this.jetPackRequest.data.peer_id];e&&e.send({type:"error",requestId:this.jetPackRequest.data.request_id,status:"error",hash:this.networks[this.currentNetwork].currentTxHash,message:t})}}this.networks[this.currentNetwork].currentTxHash=null,this.jetPackRequest&&(this.showRedirectModal=!0),this.jetPackRequest=null,this.updateAllBalances(),this.resetTxFee()}},async updateAllBalances(){if(this.isBalancesGot)var e=await this.getBalances(!0);if(this.isStakedBalancesGot)var t=await this.getStakedBalances(!0);Promise.all([e,t]).then((()=>{this.isRewardsGot&&this.getRewards(),this.isUnstakingBalancesGot&&this.getUnstakingBalances()}))},async resetTxFee(){let e=await(0,i.pQ)(`wallet${this.currentWalletID}`,["TxFeeCurrentLevel","TxFeeIsRemember"]);this.TxFee={balance:{},currentLevel:e.TxFeeCurrentLevel||"average",userGasAmount:0,gasAmount:0,isRemember:e.TxFeeIsRemember||!1,isGasAdjustmentAuto:!0,isEnough:!1}},async getNetworkUnbondingTime(){try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/params`).then((e=>e.json())).then((e=>{this.networks[this.currentNetwork].unbondingTime=parseInt(e.params.unbonding_time)/86400}))}catch(e){console.error(e)}},async getAllValidators(){try{return await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/validators?status=BOND_STATUS_BONDED&pagination.limit=200`).then((e=>e.json()))}catch(e){console.error(e)}},async getUserValidators(){try{return await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/delegators/${this.currentAddress}/validators?status=BOND_STATUS_BONDED&pagination.limit=200`).then((e=>e.json()))}catch(e){console.error(e)}},async getTotalBondedTokens(){try{await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/staking/v1beta1/pool`).then((e=>e.json())).then((e=>{this.networks[this.currentNetwork].totalBondedTokens=parseInt(e.pool.bonded_tokens)}))}catch(e){console.error(e)}},async isUnstakingCancelSupport(){let e=!1,t=await(0,i.$R)(`wallet${this.currentWalletID}`,`${this.currentNetwork}_isUnstakingCancelSupport`);if(void 0===t||new Date-new Date(t.timestamp)>this.cacheTime){try{let t=await fetch(`${this.networks[this.currentNetwork].lcd_api}/cosmos/base/tendermint/v1beta1/node_info`),a=await t.json(),n=a.application_version.cosmos_sdk_version,r="v0.46",s=n.replace("v","").split("-")[0].split(".").map(Number),o=r.replace("v","").split("-")[0].split(".").map(Number);while(s.length<3)s.push(0);while(o.length<3)o.push(0);for(let i=0;i<3;i++)s[i]>o[i]&&(e=!0),s[i]<o[i]&&(e=!1);await(0,i.IG)(`wallet${this.currentWalletID}`,[[this.currentNetwork+"_isUnstakingCancelSupport",JSON.parse(JSON.stringify({value:e,timestamp:(new Date).toISOString()}))]])}catch(a){console.error(a)}this.networks[this.currentNetwork].isUnstakingCancelSupport=e}else this.networks[this.currentNetwork].isUnstakingCancelSupport=t.value},async getWallets(){try{this.wallets=await(0,i.$R)("global","wallets")}catch(e){console.log(e)}},async updateWallet({wallet:e,new_name:t}){try{let a=this.wallets.find((t=>t.id===e.id));a&&(a.name=t,await(0,i.IG)("global",[["wallets",JSON.parse(JSON.stringify(this.wallets))]]),await(0,i.IG)(`wallet${this.currentWalletID}`,[["name",a.name]]),this.currentWalletID===e.id&&(this.currentWalletName=a.name),await this.getWallets())}catch(a){console.log(a)}},async removeWallet(e){try{if(e.id===this.currentWalletID){let e=await(0,i.$R)("global","wallets");await this.setCurrentWalletID(e[1].id)}await(0,i.hO)(`wallet${e.id}`),await(0,i.o3)("secret",[`wallet${e.id}_aesKey`,`wallet${e.id}_privateKey`,`wallet${e.id}_secret`,`wallet${e.id}_secretIV`]),this.wallets=this.wallets.filter((t=>t.id!==e.id)),await(0,i.IG)("global",[["wallets",JSON.parse(JSON.stringify(this.wallets))]])}catch(t){console.log(t)}},async setAgeConfirmed(){await(0,i.IG)("global",[["ageConfirmed",!0]])},async getAgeConfirmed(){try{let e=await(0,i.$R)("global","ageConfirmed");void 0!==e&&(this.isAgeConfirmed=e)}catch(e){console.log(e)}},async setUserLock(){await(0,i.IG)("global",[["isUserLock",!0],["userLockTimestamp",(new Date).toISOString()]])},async setUserUnlock(){await(0,i.IG)("global",[["isUserLock",!1],["userLockTimestamp",""]]),await this.updateUserAuthErrorLimit(this.authErrorLimit)},async clearAllData(){try{await(0,i.xz)(),this.$reset()}catch(e){console.log(e)}},jetPackSwitchNetwork(){return new Promise(((e,t)=>{let a=Object.values(this.networks).find((e=>e.chain_id===this.jetPackRequest.data.chain_id));a?(this.setCurrentNetwork(a.alias),e()):t()}))}}})},36571:function(e,t,a){"use strict";a.d(t,{$R:function(){return l},IG:function(){return u},Tx:function(){return o},hO:function(){return _},o3:function(){return d},pQ:function(){return c},xz:function(){return m}});var n=a(54837),r=null;async function s(){const{useGlobalStore:e}=await Promise.resolve().then(a.bind(a,96011));return e()}const i=(async()=>{let e=await s(),t=null===localStorage.getItem("firstRun");return(0,n.MR)("bro_db"),t&&((0,n.MR)("jetWallet"),localStorage.setItem("firstRun","false")),e.getCurrentDBVersion(),(0,n.P2)("jetWallet",e.DBVersion,{upgrade(e){e.objectStoreNames.contains("global")||e.createObjectStore("global"),e.objectStoreNames.contains("secret")||e.createObjectStore("secret"),e.objectStoreNames.contains("wallet1")||e.createObjectStore("wallet1")}})})();async function o(e){let t=await s();r||(r=await i),r.objectStoreNames.contains(e)||(t.setNewDBVersion(),r.close(),r=await(0,n.P2)("jetWallet",t.DBVersion,{upgrade(t){t.objectStoreNames.contains(e)||t.createObjectStore(e)}}))}async function l(e,t){return r||(r=await i),r.get(e,t)}async function c(e,t){r||(r=await i);let a=await Promise.all(t.map((t=>r.get(e,t)))),n={};return t.forEach(((e,t)=>n[e]=a[t])),n}async function u(e,t){r||(r=await i);let a=r.transaction(e,"readwrite"),n=a.objectStore(e);for(let[r,s]of t)await n.put(s,r);await a.done}async function d(e,t){r||(r=await i);let a=r.transaction(e,"readwrite"),n=a.objectStore(e);return await Promise.all(t.map((e=>n.delete(e)))),a.done}async function _(e){r||(r=await i);let t=r.transaction(e,"readwrite"),a=t.objectStore(e);await a.clear(),await t.done}async function m(){r||(r=await i);for(let e of r.objectStoreNames){let t=r.transaction(e,"readwrite"),a=t.objectStore(e);await a.clear(),await t.done}}},90405:function(e,t,a){"use strict";a.d(t,{nY:function(){return H},s3:function(){return U},Ko:function(){return X},cc:function(){return z},eZ:function(){return M},Y$:function(){return q},oL:function(){return Z},d6:function(){return ve},Yq:function(){return P},_Q:function(){return fe},Wk:function(){return ke},af:function(){return y},E0:function(){return N},yv:function(){return v},NJ:function(){return I},ST:function(){return D},cd:function(){return f},Q1:function(){return k},NN:function(){return s},bv:function(){return T},aS:function(){return _e},oB:function(){return ae},AN:function(){return B},uE:function(){return ye},mK:function(){return h},on:function(){return he},fp:function(){return c},r6:function(){return _},nw:function(){return ue},qS:function(){return le},jC:function(){return re}});var n=a(73423);const r=async e=>await n.DirectSecp256k1HdWallet.generate(e);var s=r,i=a(54),o=a(96011);const l=async(e,t=null,a=null)=>{let r=(0,o.useGlobalStore)(),s=a||r.currentWalletDerivationPath;return await n.DirectSecp256k1HdWallet.fromMnemonic(e,{hdPaths:[(0,i.stringToPath)(s)],prefix:t})};var c=l,u=a(89354);const d=async(e,t=null)=>await n.DirectSecp256k1Wallet.fromKey((0,u.fromHex)(e),t);var _=d;a(16573),a(78100),a(77936),a(37467),a(44732),a(79577);const m=async(e,t)=>{let a=new TextEncoder,n=a.encode(e),r=await crypto.subtle.importKey("jwk",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=await crypto.subtle.sign("HMAC",r,n),i=Array.from(new Uint8Array(s)),o=i.map((e=>("00"+e.toString(16)).slice(-2))).join("");return o};var h=m;const p=async()=>{let e=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return e};var f=p;const g=async()=>{let e=await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-256"},length:256},!0,["sign"]),t=await crypto.subtle.exportKey("jwk",e);return t};var k=g;const w=async(e,t)=>{let a=crypto.getRandomValues(new Uint8Array(12)),n=new TextEncoder,r=n.encode(e),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,r);return{ciphertext:new Uint8Array(s),iv:a}};var v=w;const b=async(e,t,a)=>{let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},a,e),r=new TextDecoder;return r.decode(n)};var y=b,x=a(36571);const R=async()=>{let e=(0,o.useGlobalStore)(),t=null,a=await(0,x.pQ)("secret",[`wallet${e.currentWalletID}_secret`,`wallet${e.currentWalletID}_privateKey`]);if(a[`wallet${e.currentWalletID}_secret`]){let a=await e.getSecret(!0);t=await l(a,e.networks[e.currentNetwork].prefix)}if(a[`wallet${e.currentWalletID}_privateKey`]){let a=await e.getPrivateKey(!0);t=await d(a,e.networks[e.currentNetwork].prefix)}let n=(await t.getAccounts())[0].address;return n};var T=R,C=a(96129),A=a(26776);const L=async()=>{let e=(0,o.useGlobalStore)(),t=null,a=await(0,x.pQ)("secret",[`wallet${e.currentWalletID}_secret`,`wallet${e.currentWalletID}_privateKey`]);if(a[`wallet${e.currentWalletID}_secret`]){let a=await e.getSecret(!0);t=await l(a,e.networks[e.currentNetwork].prefix)}if(a[`wallet${e.currentWalletID}_privateKey`]){let a=await e.getPrivateKey(!0);t=await d(a,e.networks[e.currentNetwork].prefix)}let n=await A.SigningStargateClient.connectWithSigner(e.networks[e.currentNetwork].rpc_api,t),r=await C.Jw.connectWithSigner(e.networks[e.currentNetwork].rpc_api,t);return{signingClient:n,signingCosmWasmClient:r}};const S=async e=>{let t=(0,o.useGlobalStore)(),a={path:null,base_denom:e},n=e.split("/");if("ibc"==n[0])try{await fetch(`${t.networks[t.currentNetwork].lcd_api}/ibc/apps/transfer/v1/denom_traces/${n[1]}`).then((e=>e.json())).then((e=>a=e.denom_trace))}catch(r){console.error(r)}else"factory"==n[0]&&(a.ingnoreTraces=!0,a.base_denom=n[n.length-1]);return a};var N=S;const $=(e,t)=>e/Math.pow(10,t);var I=$;const j=(e,t=null)=>{let a=(0,o.useGlobalStore)(),n=t||a.currentCurrency;switch(n){case"BTC":return e>1e-10||0==e?e.toLocaleString("ru-RU",{maximumFractionDigits:10,minimumFractionDigits:2}).replace(",","."):"<0.0000000001";case"ETH":return e>1e-7||0==e?e.toLocaleString("ru-RU",{maximumFractionDigits:7,minimumFractionDigits:2}).replace(",","."):"<0.0000001";default:return e>.01||0==e?e.toLocaleString("ru-RU",{maximumFractionDigits:2,minimumFractionDigits:2}).replace(",","."):"<0.01"}};var D=j;const W=e=>{let t=(0,o.useGlobalStore)(),a=t.formatableTokens.find((t=>t.token_name===e)),n=a?a.format_token_name:e;return n};const F=e=>{let t=(0,o.useGlobalStore)(),a=t.prices.find((t=>t.symbol.toLowerCase()===e.toLowerCase()))?.price||0,n=t.formatableTokens.find((t=>t.token_name==e)),r=n?a*Math.pow(10,n.exponent):a;return r};var B=F;const E=(e,t,a)=>{let n=(0,o.useGlobalStore)(),r=1;return r=a?n.prices.find((e=>e.symbol.toLowerCase()===W(a).toLowerCase())).price:n.prices.find((e=>e.symbol.toLowerCase()===W(n.currentCurrency).toLowerCase())).price,e*(F(t)/r)};var P=E;const G=(e,t,a,n=null)=>{let r=$(t,a);return E(r,e,n)};var q=G;const O=(e=null)=>{let t=(0,o.useGlobalStore)(),a=0;return t.balances.length&&t.balances.forEach((t=>a+=G(t.token_info.symbol,t.amount,t.exponent,e))),parseFloat(a)};var U=O;const K=(e=null)=>{let t=(0,o.useGlobalStore)(),a=0;return t.stakedBalances.length&&t.stakedBalances.forEach((t=>a+=G(t.balance.token_info.symbol,t.balance.amount,t.balance.exponent,e))),parseFloat(a)};var M=K;const V=(e=null)=>{let t=(0,o.useGlobalStore)(),a=0;return t.rewardsBalances.length&&t.rewardsBalances.forEach((t=>a+=G(t.token_info.symbol,t.amount,t.exponent,e))),parseFloat(a)};var X=V;const Q=()=>{let e=(0,o.useGlobalStore)(),t=e.balances.find((t=>t.denom===e.networks[e.currentNetwork].denom));return t?t.amount:0};var H=Q;const J=()=>{let e=(0,o.useGlobalStore)(),t=0;return e.stakedBalances.length&&e.stakedBalances.forEach((e=>t+=parseFloat(e.balance.amount))),t};var z=J;const Y=()=>{let e=(0,o.useGlobalStore)(),t=0;return e.unstakingBalances.length&&e.unstakingBalances.forEach((e=>{e.entries.forEach((e=>t+=parseFloat(e.balance)))})),t};var Z=Y,ee=a(79350);const te=e=>{let t=(0,o.useGlobalStore)(),a="";if(e){let n=Object.values(t.networks).find((t=>t.chain_id===e));void 0!==n&&n.logo?a=n.logo:(n=ee.Bt.find((t=>t.chain_id===e)),n&&(n.logo_URIs?a=n.logo_URIs.svg||n.logo_URIs.png:n.images&&(a=n.images[n.images.length-1].svg||n.images[n.images.length-1].png)))}return a};var ae=te;const ne=async(e,t="")=>{let a=(0,o.useGlobalStore)(),{signingCosmWasmClient:n}=await L(),r=await n.simulate(a.currentAddress,e,t);a.TxFee.gasAmount=parseInt(r*a.networks[a.currentNetwork].gas_adjustment),a.TxFee.userGasAmount=a.TxFee.gasAmount};var re=ne,se=a(26270),ie=a(83438)["hp"];const oe=async(e,t)=>{let a=(0,o.useGlobalStore)(),{signingCosmWasmClient:n}=await L(),r={amount:[{denom:a.networks[a.currentNetwork].denom,amount:parseInt(a.TxFee.userGasAmount*a.TxFee[`${a.TxFee.currentLevel}Price`]).toString()}],gas:a.TxFee.userGasAmount.toString()},s=await n.sign(a.currentAddress,e,r,t),l=se.TxRaw.encode(s).finish(),c=(0,i.sha256)(l);return a.networks[a.currentNetwork].currentTxHash=ie.from(c).toString("hex"),l};var le=oe;const ce=async e=>{let{signingCosmWasmClient:t}=await L();await t.broadcastTx(e,t.broadcastTimeoutMs,t.broadcastPollIntervalMs)};var ue=ce;const de=e=>{let t=(0,o.useGlobalStore)();return t.networks[e].explorer_link.replace("{tx_hash}",t.networks[e].currentTxHash)};var _e=de;const me=e=>e.target.classList.add("hide");var he=me;const pe=e=>{let t=new Date(e),a=(new Date).getTimezoneOffset()/60*-1;return new Date(t.setHours(t.getHours()+a))};var fe=pe;a(64979);const ge=e=>{const t=atob(e);return JSON.parse(t)};var ke=ge;const we=e=>{if(Array.isArray(e))return e.map(we);if(null!==e&&"object"===typeof e){const t={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a];n instanceof ArrayBuffer?t[a]=new Uint8Array(n):t[a]=we(n)}return t}return e};var ve=we;a(14603),a(47566),a(98721);const be=e=>{let t=(0,o.useGlobalStore)(),a=decodeURIComponent(e),n=JSON.parse(new URLSearchParams(a).get("user"));n&&(t.tgUserId=n.id)};var ye=be},40356:function(e,t,a){"use strict";a.d(t,{A:function(){return F}});a(44114);var n=a(56768),r=a(24232),s=a(45130),i=a(90144),o=a(24113),l=a(96011),c=a(81387),u=a(90405),d=a(36571);const _=o+"#ic_biometric_face",m=o+"#ic_biometric_finger",h={class:"pin"},p={class:"field_label"},f={class:"field"},g={class:"field"},k=["disabled"],w={class:"field"},v=["disabled"],b={class:"field"},y=["disabled"],x={class:"field"},R=["disabled"],T={class:"field"},C=["disabled"],A={key:0,class:"warning"},L={key:0,class:"icon"},S={key:1,class:"icon"},N={class:"btns"},$={key:0},I={key:1};var j={__name:"Auth",setup(e){const t=(0,l.useGlobalStore)(),a=(0,c.rd)(),o=(0,n.WQ)("emitter"),j=(0,i.KR)(["","","","","",""]),D=(0,i.KR)(""),W=(0,i.KR)(""),F=(0,i.KR)(!1),B=(0,i.KR)(t.authErrorLimit),E=(0,i.KR)(!1),P=(0,i.KR)(!1),G=(0,i.KR)("finger");function q(e,t){e.target.value.length>=1&&t<6&&e.target.closest(".row").querySelector(`.field:nth-child(${t+1}) input`).focus()}function O(e,t){setTimeout((()=>{0===e.target.value.length&&t>0&&e.target.closest(".row").querySelector(`.field:nth-child(${t}) input`).select()}))}function U(){Telegram.WebApp.isAccessGranted?K():Telegram.WebApp.BiometricManager.requestAccess({reason:""},(()=>K()))}function K(){Telegram.WebApp.BiometricManager.authenticate({reason:""},(e=>{e&&o.emit("auth")}))}async function M(){let e=await V();e?(B.value=t.authErrorLimit,o.emit("auth")):await X()}async function V(){let e=await(0,u.mK)(j.value.join(""),W.value);return e===D.value}async function X(){F.value=!0;let e=B.value-1;B.value=e,t.isAuthorized?e||o.emit("show_error_sign_tx_modal"):(await t.updateUserAuthErrorLimit(e),e||(await t.setUserLock(),a.push("/lock"))),j.value=["","","","","",""],F.value=!1}(0,n.KC)((async()=>{let e=await(0,d.pQ)("global",["pin","authErrorLimit","isBiometric","hmacKey"]);D.value=e.pin,W.value=e.hmacKey,B.value=e.authErrorLimit,E.value=e.isBiometric,P.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,"unknown"!=Telegram.WebApp.BiometricManager.biometricType&&(G.value=Telegram.WebApp.BiometricManager.biometricType),P.value&&E.value&&U()})),(0,n.wB)(j.value,(()=>{j.value[5].length&&document.activeElement.blur(),j.value[5].length&&B.value===t.authErrorLimit&&M()}));const Q=(0,n.EW)((()=>""!=j.value[5].length));return(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",h,[(0,n.Lk)("div",p,(0,r.v_)(e.$t("message.auth_enter_pin_label")),1),(0,n.Lk)("div",{class:(0,r.C4)(["row",{error:F.value}])},[(0,n.Lk)("div",f,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[0].length}]),"onUpdate:modelValue":a[0]||(a[0]=e=>j.value[0]=e),maxlength:"1",inputmode:"numeric",ref:"inputRef",onInput:a[1]||(a[1]=e=>q(e,1)),onKeydown:a[2]||(a[2]=(0,s.jR)((e=>O(e,0)),["backspace"]))},null,34),[[s.Jo,j.value[0]]])]),(0,n.Lk)("div",g,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[1].length}]),"onUpdate:modelValue":a[3]||(a[3]=e=>j.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!j.value[0].length,onInput:a[4]||(a[4]=e=>q(e,2)),onKeydown:a[5]||(a[5]=(0,s.jR)((e=>O(e,1)),["backspace"]))},null,42,k),[[s.Jo,j.value[1]]])]),(0,n.Lk)("div",w,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[2].length}]),"onUpdate:modelValue":a[6]||(a[6]=e=>j.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!j.value[1].length,onInput:a[7]||(a[7]=e=>q(e,3)),onKeydown:a[8]||(a[8]=(0,s.jR)((e=>O(e,2)),["backspace"]))},null,42,v),[[s.Jo,j.value[2]]])]),(0,n.Lk)("div",b,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[3].length}]),"onUpdate:modelValue":a[9]||(a[9]=e=>j.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!j.value[2].length,onInput:a[10]||(a[10]=e=>q(e,4)),onKeydown:a[11]||(a[11]=(0,s.jR)((e=>O(e,3)),["backspace"]))},null,42,y),[[s.Jo,j.value[3]]])]),(0,n.Lk)("div",x,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[4].length}]),"onUpdate:modelValue":a[12]||(a[12]=e=>j.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!j.value[3].length,onInput:a[13]||(a[13]=e=>q(e,5)),onKeydown:a[14]||(a[14]=(0,s.jR)((e=>O(e,4)),["backspace"]))},null,42,R),[[s.Jo,j.value[4]]])]),(0,n.Lk)("div",T,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:(0,r.C4)(["input big",{active:j.value[5].length}]),"onUpdate:modelValue":a[15]||(a[15]=e=>j.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!j.value[4].length,onInput:a[16]||(a[16]=e=>q(e,6)),onKeydown:a[17]||(a[17]=(0,s.jR)((e=>O(e,5)),["backspace"]))},null,42,C),[[s.Jo,j.value[5]]])])],2),B.value<(0,i.R1)(t).authErrorLimit?((0,n.uX)(),(0,n.CE)("div",A,(0,r.v_)(e.$t("message.auth_error_warning",{count:B.value})),1)):(0,n.Q3)("",!0)]),P.value&&B.value==(0,i.R1)(t).authErrorLimit?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"biometric_btn",onClick:(0,s.D$)(U,["prevent"])},[(0,n.Lk)("span",null,(0,r.v_)(e.$t("message.btn_biometric2")),1),"face"===e.biometrictype?((0,n.uX)(),(0,n.CE)("svg",L,a[19]||(a[19]=[(0,n.Lk)("use",{"xlink:href":_},null,-1)]))):((0,n.uX)(),(0,n.CE)("svg",S,a[20]||(a[20]=[(0,n.Lk)("use",{"xlink:href":m},null,-1)])))])):(0,n.Q3)("",!0),(0,n.Lk)("div",N,[B.value<(0,i.R1)(t).authErrorLimit?((0,n.uX)(),(0,n.CE)("button",{key:0,class:(0,r.C4)(["btn",{disabled:!Q.value}]),onClick:a[18]||(a[18]=(0,s.D$)((e=>M()),["prevent"]))},[(0,i.R1)(t).isAuthorized?((0,n.uX)(),(0,n.CE)("span",$,(0,r.v_)(e.$t("message.btn_sign")),1)):((0,n.uX)(),(0,n.CE)("span",I,(0,r.v_)(e.$t("message.btn_login")),1))],2)):(0,n.Q3)("",!0)])],64))}},D=a(71241);const W=(0,D.A)(j,[["__scopeId","data-v-24d85a75"]]);var F=W},17086:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var n=a(56768);const r={class:"loader_wrap"};function s(e,t){return(0,n.uX)(),(0,n.CE)("div",r,t[0]||(t[0]=[(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1)]))}var i=a(71241);const o={},l=(0,i.A)(o,[["render",s]]);var c=l},20475:function(e,t,a){"use strict";a.d(t,{A:function(){return Y}});var n=a(56768),r=a(24232),s=a(90144),i=a(45130),o=a(96011),l=a(90405),c=a(24113);const u=c+"#ic_close",d=c+"#ic_check",_={class:"modal"},m={class:"modal_content"},h={class:"data"},p={class:"modal_title"},f={class:"fee_tier"},g={class:"label"},k={class:"vals_wrap"},w={class:"vals"},v={class:"name"},b={class:"cost"},y={class:"amount"},x={class:"denom"},R={class:"name"},T={class:"cost"},C={class:"amount"},A={class:"denom"},L={class:"name"},S={class:"cost"},N={class:"amount"},$={class:"denom"},I={class:"fee_token"},j={class:"label"},D={class:"field"},W=["value"],F={class:"gas_adjustment"},B={class:"label"},E={key:0},P={key:1},G={key:0,class:"field"},q=["value"],O={key:1,class:"field"},U={class:"btns"};var K={__name:"TxFeeModal",setup(e){const t=(0,o.useGlobalStore)(),a=(0,n.WQ)("emitter"),c=(0,s.KR)(null),K=(0,s.KR)(null),M=(0,s.KR)(null),V={low:c,average:K,high:M},X=(0,s.KR)(null),Q=(0,s.KR)(null);function H(e){e.target.value<=0&&(t.TxFee.userGasAmount=t.TxFee.gasAmount)}return(0,n.sV)((()=>{X.value=V[t.TxFee.currentLevel].value.offsetWidth,Q.value=V[t.TxFee.currentLevel].value.offsetLeft})),(0,n.wB)((0,n.EW)((()=>t.TxFee.currentLevel)),(()=>{X.value=V[t.TxFee.currentLevel].value.offsetWidth,Q.value=V[t.TxFee.currentLevel].value.offsetLeft})),(0,n.wB)((0,n.EW)((()=>t.TxFee.isGasAdjustmentAuto)),(()=>{t.TxFee.userGasAmount=t.TxFee.gasAmount})),(0,n.wB)((0,n.EW)((()=>t.TxFee.userGasAmount)),(()=>{t.TxFeeIsEnough()})),(e,o)=>((0,n.uX)(),(0,n.CE)("section",_,[(0,n.Lk)("div",m,[(0,n.Lk)("div",h,[(0,n.Lk)("button",{class:"close_btn",onClick:o[0]||(o[0]=(0,i.D$)((e=>(0,s.R1)(a).emit("close_tx_fee_modal")),["prevent"]))},o[9]||(o[9]=[(0,n.Lk)("svg",{class:"icon"},[(0,n.Lk)("use",{"xlink:href":u})],-1)])),(0,n.Lk)("div",p,(0,r.v_)(e.$t("message.tx_fee_modal_title")),1),(0,n.Lk)("div",f,[(0,n.Lk)("div",g,[(0,n.Lk)("span",null,(0,r.v_)(e.$t("message.tx_fee_fee_tier_label")),1),(0,n.Lk)("button",{class:(0,r.C4)(["toggle_btn",{enabled:(0,s.R1)(t).TxFee.isRemember}]),onClick:o[1]||(o[1]=(0,i.D$)((e=>(0,s.R1)(t).TxFee.isRemember=!(0,s.R1)(t).TxFee.isRemember),["prevent"]))},[(0,n.Lk)("span",null,(0,r.v_)(e.$t("message.tx_fee_remember_label")),1),o[10]||(o[10]=(0,n.Lk)("div",{class:"toggle_wrap"},[(0,n.Lk)("div",{class:"toggle"},[(0,n.Lk)("div",{class:"ball_wrap"},[(0,n.Lk)("div",{class:"ball"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":d})])])])])],-1))],2)]),(0,n.Lk)("div",k,[(0,n.Lk)("div",w,[(0,n.Lk)("button",{class:(0,r.C4)(["btn",{active:"low"===(0,s.R1)(t).TxFee.currentLevel}]),ref_key:"level_low",ref:c,onClick:o[2]||(o[2]=(0,i.D$)((e=>(0,s.R1)(t).TxFee.currentLevel="low"),["prevent"]))},[(0,n.Lk)("div",v,(0,r.v_)(e.$t("message.tx_fee_low_label")),1),(0,n.Lk)("div",b," ~ "+(0,r.v_)((0,s.R1)(l.ST)((0,s.R1)(l.Y$)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name,(0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.lowPrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent,"USD"),"USD"))+"$ ",1),(0,n.Lk)("div",y,(0,r.v_)((0,s.R1)(l.NJ)((0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.lowPrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",",".")),1),(0,n.Lk)("div",x,(0,r.v_)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name),1)],2),(0,n.Lk)("button",{class:(0,r.C4)(["btn",{active:"average"===(0,s.R1)(t).TxFee.currentLevel}]),ref_key:"level_average",ref:K,onClick:o[3]||(o[3]=(0,i.D$)((e=>(0,s.R1)(t).TxFee.currentLevel="average"),["prevent"]))},[(0,n.Lk)("div",R,(0,r.v_)(e.$t("message.tx_fee_average_label")),1),(0,n.Lk)("div",T," ~ "+(0,r.v_)((0,s.R1)(l.ST)((0,s.R1)(l.Y$)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name,(0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.averagePrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent,"USD"),"USD"))+"$ ",1),(0,n.Lk)("div",C,(0,r.v_)((0,s.R1)(l.NJ)((0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.averagePrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",",".")),1),(0,n.Lk)("div",A,(0,r.v_)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name),1)],2),(0,n.Lk)("button",{class:(0,r.C4)(["btn",{active:"high"===(0,s.R1)(t).TxFee.currentLevel}]),ref_key:"level_high",ref:M,onClick:o[4]||(o[4]=(0,i.D$)((e=>(0,s.R1)(t).TxFee.currentLevel="high"),["prevent"]))},[(0,n.Lk)("div",L,(0,r.v_)(e.$t("message.tx_fee_high_label")),1),(0,n.Lk)("div",S," ~ "+(0,r.v_)((0,s.R1)(l.ST)((0,s.R1)(l.Y$)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name,(0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.highPrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent,"USD"),"USD"))+"$ ",1),(0,n.Lk)("div",N,(0,r.v_)((0,s.R1)(l.NJ)((0,s.R1)(t).TxFee.userGasAmount*(0,s.R1)(t).TxFee.highPrice,(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",",".")),1),(0,n.Lk)("div",$,(0,r.v_)((0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name),1)],2),(0,n.Lk)("div",{class:"roller",style:(0,r.Tr)(`width: ${X.value}px; left: ${Q.value}px;`)},o[11]||(o[11]=[(0,n.Lk)("span",null,null,-1)]),4)])])]),(0,n.Lk)("div",I,[(0,n.Lk)("div",j,(0,r.v_)(e.$t("message.tx_fee_fee_token_label")),1),(0,n.Lk)("div",D,[(0,n.Lk)("input",{type:"text",class:"input big",value:(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].token_name,readonly:""},null,8,W)])]),(0,n.Lk)("div",F,[(0,n.Lk)("div",B,[(0,s.R1)(t).TxFee.isGasAdjustmentAuto?((0,n.uX)(),(0,n.CE)("span",E,(0,r.v_)(e.$t("message.tx_fee_gas_adjustment_label")),1)):((0,n.uX)(),(0,n.CE)("span",P,(0,r.v_)(e.$t("message.tx_fee_gas_amount_label")),1)),(0,n.Lk)("button",{class:(0,r.C4)(["toggle_btn",{enabled:(0,s.R1)(t).TxFee.isGasAdjustmentAuto}]),onClick:o[5]||(o[5]=(0,i.D$)((e=>(0,s.R1)(t).TxFee.isGasAdjustmentAuto=!(0,s.R1)(t).TxFee.isGasAdjustmentAuto),["prevent"]))},[(0,n.Lk)("span",null,(0,r.v_)(e.$t("message.tx_fee_auto_label")),1),o[12]||(o[12]=(0,n.Fv)('<div class="toggle_wrap" data-v-48eec76e><div class="toggle" data-v-48eec76e><div class="ball_wrap" data-v-48eec76e><div class="ball" data-v-48eec76e><svg data-v-48eec76e><use xlink:href="'+d+'" data-v-48eec76e></use></svg></div></div></div></div>',1))],2)]),(0,s.R1)(t).TxFee.isGasAdjustmentAuto?((0,n.uX)(),(0,n.CE)("div",G,[(0,n.Lk)("input",{type:"number",class:"input big",value:(0,s.R1)(t).networks[(0,s.R1)(t).currentNetwork].gas_adjustment,disabled:""},null,8,q)])):((0,n.uX)(),(0,n.CE)("div",O,[(0,n.bo)((0,n.Lk)("input",{type:"number",inputmode:"decimal",class:"input big","onUpdate:modelValue":o[6]||(o[6]=e=>(0,s.R1)(t).TxFee.userGasAmount=e),maxlength:"10",onInput:o[7]||(o[7]=e=>H(e))},null,544),[[i.Jo,(0,s.R1)(t).TxFee.userGasAmount]])]))]),(0,n.Lk)("div",U,[(0,n.Lk)("button",{class:"btn",onClick:o[8]||(o[8]=(0,i.D$)((e=>(0,s.R1)(a).emit("close_tx_fee_modal")),["prevent"]))},[(0,n.Lk)("span",null,(0,r.v_)(e.$t("message.btn_close")),1)])])])])]))}},M=a(71241);const V=(0,M.A)(K,[["__scopeId","data-v-48eec76e"]]);var X=V;const Q={class:"tx_fee"},H={class:"cost"};var J={__name:"TxFee",props:["msgAny","txType"],setup(e){const t=e,a=(0,o.useGlobalStore)(),c=(0,n.WQ)("emitter"),u=(0,s.KR)(!1),d=(0,n.EW)((()=>(0,l.NJ)(a.TxFee.userGasAmount*a.TxFee[`${a.TxFee.currentLevel}Price`],a.networks[a.currentNetwork].exponent)));function _(){u.value=!0,a.isAnyModalOpen=!0}return(0,n.KC)((async()=>{await a.resetTxFee(),a.TxFeeGetCurrentBalance(a.networks[a.currentNetwork].denom),a.TxFeeSetGasPrices(),a.TxFee.balance.amount?await(0,l.jC)(t.msgAny):("send"===t.txType&&(a.TxFee.gasAmount=a.TxFee.userGasAmount=a.networks[a.currentNetwork].gas_amount_send),"claim"===t.txType&&(a.TxFee.gasAmount=a.TxFee.userGasAmount=a.networks[a.currentNetwork].gas_amount_claim),"stake"===t.txType&&(a.TxFee.gasAmount=a.TxFee.userGasAmount=a.networks[a.currentNetwork].gas_amount_stake),"unstake"===t.txType&&(a.TxFee.gasAmount=a.TxFee.userGasAmount=a.networks[a.currentNetwork].gas_amount_unstake),"redelegate"===t.txType&&(a.TxFee.gasAmount=a.TxFee.userGasAmount=a.networks[a.currentNetwork].gas_amount_redelegate)),a.TxFeeIsEnough()})),(0,n.hi)((()=>{a.TxFee.isEnough=!1,c.off("close_any_modal"),c.off("close_tx_fee_modal")})),c.on("close_tx_fee_modal",(()=>{u.value=!1,a.isAnyModalOpen=!1})),c.on("close_any_modal",(()=>{u.value=!1,a.isAnyModalOpen=!1})),(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",Q,[(0,n.Lk)("div",{class:(0,r.C4)(["btn",{red:!(0,s.R1)(a).TxFee.isEnough}]),onClick:t[0]||(t[0]=(0,i.D$)((e=>_()),["prevent"]))},[(0,n.eW)((0,r.v_)(e.$t("message.tx_fee_label"))+" "+(0,r.v_)(d.value.toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",","."))+" "+(0,r.v_)((0,s.R1)(a).networks[(0,s.R1)(a).currentNetwork].token_name)+" ",1),(0,n.Lk)("div",H," (~ "+(0,r.v_)((0,s.R1)(l.ST)((0,s.R1)(l.Y$)((0,s.R1)(a).networks[(0,s.R1)(a).currentNetwork].token_name,(0,s.R1)(a).TxFee.userGasAmount*(0,s.R1)(a).TxFee[`${(0,s.R1)(a).TxFee.currentLevel}Price`],(0,s.R1)(a).networks[(0,s.R1)(a).currentNetwork].exponent,"USD"),"USD"))+"$) ",1)],2)]),(0,n.bF)(i.eB,{name:"modal"},{default:(0,n.k6)((()=>[u.value?((0,n.uX)(),(0,n.Wv)(X,{key:0})):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(i.eB,{name:"fade"},{default:(0,n.k6)((()=>[u.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal_overlay",onClick:t[1]||(t[1]=(0,i.D$)((e=>(0,s.R1)(c).emit("close_any_modal")),["prevent"]))})):(0,n.Q3)("",!0)])),_:1})],64))}};const z=(0,M.A)(J,[["__scopeId","data-v-22ea645c"]]);var Y=z},86255:function(e,t,a){"use strict";a.d(t,{A:function(){return b}});var n=a(56768),r=a(45130),s=a(90144),i=a(24232),o=a(24113),l=a(40356);const c=o+"#ic_close",u={class:"modal"},d={class:"modal_content"},_={class:"data"},m={class:"modal_title"},h={class:"auth_wrap"},p={class:"modal_title"},f={class:"modal_desc"},g={class:"btns"};var k={__name:"SignTxModal",setup(e){const t=(0,n.WQ)("emitter"),a=(0,s.KR)(!1);return t.on("show_error_sign_tx_modal",(()=>{a.value=!0})),(e,o)=>((0,n.uX)(),(0,n.CE)("section",u,[(0,n.Lk)("div",d,[(0,n.Lk)("div",_,[(0,n.Lk)("button",{class:"close_btn",onClick:o[0]||(o[0]=(0,r.D$)((e=>(0,s.R1)(t).emit("close_sign_tx_modal")),["prevent"]))},o[2]||(o[2]=[(0,n.Lk)("svg",{class:"icon"},[(0,n.Lk)("use",{"xlink:href":c})],-1)])),a.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("div",p,(0,i.v_)(e.$t("message.sign_tx_error_title")),1),(0,n.Lk)("div",f,(0,i.v_)(e.$t("message.sign_tx_error_desc")),1),(0,n.Lk)("div",g,[(0,n.Lk)("button",{class:"btn",onClick:o[1]||(o[1]=(0,r.D$)((e=>(0,s.R1)(t).emit("close_sign_tx_modal")),["prevent"]))},[(0,n.Lk)("span",null,(0,i.v_)(e.$t("message.btn_understood")),1)])])],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",m,(0,i.v_)(e.$t("message.sign_tx_title")),1),(0,n.Lk)("div",h,[(0,n.bF)(l.A)])],64))])])]))}},w=a(71241);const v=(0,w.A)(k,[["__scopeId","data-v-aeebf056"]]);var b=v},24113:function(e,t,a){"use strict";e.exports=a.p+"img/sprite.e0e4d64c.svg"},78982:function(){},47790:function(){},73776:function(){},21638:function(){},92668:function(){},77965:function(){},66089:function(){},79368:function(){},77667:function(){},76447:function(){},64688:function(){},51069:function(){},15340:function(){},79838:function(){}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,n,r,s){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],s=e[u][2];for(var o=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{8:"af777415",17:"f32ad1a2",70:"59802b5f",119:"18c7ab10",135:"1a4153c3",139:"51857618",183:"be79e70d",300:"e19532b4",411:"1c1851cd",449:"39e9c29e",523:"a085227c",590:"733fda95",593:"c9d45c06",679:"a60b1aa1",682:"346f6ae2",712:"5613acd9",749:"14a153d6",768:"8e322331",779:"4c47e588",979:"3329e345"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{8:"f875b7c4",17:"09445394",70:"30435f0e",119:"9e374ddf",135:"b62c6c90",139:"258f6011",183:"ee1d6a22",300:"f038e227",411:"ee1d6a22",449:"5917f8ca",523:"30435f0e",590:"857b1825",679:"e13aac50",682:"5fe8f65d",712:"0c37fe9f",749:"f875b7c4",768:"e8533d98",779:"a37b1565",979:"04bff1c9"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="cosmos-telegram-signer:";a.l=function(n,r,s,i){if(e[n])e[n].push(r);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[r];var _=function(t,a){o.onerror=o.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(_.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=_.bind(null,o.onerror),o.onload=_.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",a.nc&&(i.nonce=a.nc);var o=function(a){if(i.onerror=i.onload=null,"load"===a.type)r();else{var n=a&&a.type,o=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=o,i.parentNode&&i.parentNode.removeChild(i),s(l)}};return i.onerror=i.onload=o,i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=a[n],s=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(s===e||s===t))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){r=i[n],s=r.getAttribute("data-href");if(s===e||s===t)return r}},n=function(n){return new Promise((function(r,s){var i=a.miniCssF(n),o=a.p+i;if(t(i,o))return r();e(n,o,null,r,s)}))},r={524:0};a.f.miniCss=function(e,t){var a={8:1,17:1,70:1,119:1,135:1,139:1,183:1,300:1,411:1,449:1,523:1,590:1,679:1,682:1,712:1,749:1,768:1,779:1,979:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=n(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={524:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(a,n){r=e[t]=[a,n]}));n.push(r[2]=s);var i=a.p+a.u(t),o=new Error,l=function(n){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}};a.l(i,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,i=n[0],o=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var u=l(a)}for(t&&t(n);c<i.length;c++)s=i[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},n=self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(84343)}));n=a.O(n)})();
//# sourceMappingURL=app.75b8dad7.js.map