"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[880],{58342:function(e,a,t){t.d(a,{A:function(){return h}});var s=t(56768),r=t(45130),n=t(24113),o=t(90144);const l=e=>((0,s.Qi)("data-v-5e44c6ba"),e=e(),(0,s.jt)(),e),i=n+"#ic_arrow_hor",c=n+"#ic_search",u=n+"#ic_close",k={class:"search"},v=l((()=>(0,s.Lk)("span",null,[(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":i})])],-1))),d=[v],_={class:"field"},m=l((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":c})],-1))),p=["placeholder"],R=l((()=>(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":u})],-1))),g=[R];var L={__name:"Search",props:["source"],setup(e){const a=e,t=(0,s.WQ)("emitter"),n=(0,o.KR)("");function l(){setTimeout((()=>t.emit("search_focus")),100)}function i(){setTimeout((()=>t.emit("search_blur")),100)}function c(){t.emit("search",{query:n.value,source:a.source})}function u(){n.value="",t.emit("search",{query:n.value,source:a.source})}return(e,a)=>((0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("button",{class:"back_btn",onClick:(0,r.D$)(i,["prevent"])},d),(0,s.Lk)("div",_,[m,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),class:"input",placeholder:e.$t("message.search_placeholder"),onFocus:l,onBlur:i,onInput:c},null,40,p),[[r.Jo,n.value]]),n.value.length?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"clear_btn",onClick:(0,r.D$)(u,["prevent"])},g)):(0,s.Q3)("",!0)])]))}},w=t(71241);const b=(0,w.A)(L,[["__scopeId","data-v-5e44c6ba"]]);var h=b},6110:function(e,a,t){t.r(a),t.d(a,{default:function(){return Je}});var s=t(56768),r=t(24232),n=t(90144),o=t(45130),l=t(24113),i=t(76750),c=t(61981),u=t(68515),k=t(88564),v=t(1955),d=(t(44114),t(89114)),_=t(58342);const m=e=>((0,s.Qi)("data-v-b92b57be"),e=e(),(0,s.jt)(),e),p=l+"#ic_arrow_hor",R=l+"#ic_user",g=l+"#ic_check",L={class:"page_container validators_page"},w={class:"cont"},b={class:"head"},h=m((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":p})],-1))),f=[h],C={class:"page_title"},x={key:1,class:"validators"},y={key:0,class:"list"},N=["onClick"],$={class:"validator"},E={class:"logo"},X=["src"],A=m((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":R})],-1))),V={class:"moniker"},W={class:"commission"},D={key:0,class:"staked"},F={class:"logo"},S=["src"],K={class:"apr"},Q=m((()=>(0,s.Lk)("br",null,null,-1))),I={class:"check"},T={key:0},U=m((()=>(0,s.Lk)("use",{"xlink:href":g},null,-1))),J=[U],B={key:1,class:"empty"};var M={__name:"ValidatorsModal",setup(e){const a=(0,i.o)(),t=(0,s.WQ)("emitter"),l=(0,n.KR)(!1),u=(0,n.KR)([]),k=(0,n.KR)([]);function v(e){return a.stakedBalances.find((a=>a.validator_info.operator_address===e))}function m(e){a.stakeCurrentValidator=e,t.emit("close_validators_modal")}return(0,s.KC)((async()=>{u.value=(await a.getValidators()).validators,u.value.sort(((e,a)=>parseInt(e.tokens)>parseInt(a.tokens)?-1:parseInt(e.tokens)<parseInt(a.tokens)?1:0)),k.value=u.value,l.value=!0})),t.on("search",(({query:e,source:a})=>{if("validators"===a){k.value=[];for(let a in u.value)u.value[a].description.moniker.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&k.value.push(u.value[a])}})),(e,i)=>((0,s.uX)(),(0,s.CE)("section",L,[(0,s.Lk)("div",w,[(0,s.Lk)("div",b,[(0,s.Lk)("button",{class:"back_btn",onClick:i[0]||(i[0]=e=>(0,n.R1)(t).emit("close_validators_modal"))},f),(0,s.Lk)("div",C,(0,r.v_)(e.$t("message.validators_page_title")),1)]),(0,s.bF)(_.A,{source:"validators"}),l.value?((0,s.uX)(),(0,s.CE)("div",x,[k.value.length?((0,s.uX)(),(0,s.CE)("div",y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(k.value,((t,l)=>((0,s.uX)(),(0,s.CE)("div",{class:"item",key:l},[(0,s.Lk)("div",{class:(0,r.C4)(["validator_wrap",{current:(0,n.R1)(a).stakeCurrentValidator&&(0,n.R1)(a).stakeCurrentValidator.operator_address===t.operator_address}]),onClick:(0,o.D$)((e=>m(t)),["prevent"])},[(0,s.Lk)("div",$,[(0,s.Lk)("div",E,[(0,s.Lk)("img",{src:`https://raw.githubusercontent.com/cosmostation/chainlist/main/chain/${(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].prefix}/moniker/${t.operator_address}.png`,alt:"",loading:"lazy",onError:i[1]||(i[1]=e=>(0,n.R1)(c.on)(e))},null,40,X),A]),(0,s.Lk)("div",null,[(0,s.Lk)("div",V,(0,r.v_)(t.description.moniker),1),(0,s.Lk)("div",W,(0,r.v_)((100*t.commission.commission_rates.rate).toLocaleString("ru-RU",{maximumFractionDigits:2}))+"% ",1),(e.item=v(t.operator_address))?((0,s.uX)(),(0,s.CE)("div",D,[(0,s.eW)((0,r.v_)(e.$t("message.validatoes_staked_label"))+" "+(0,r.v_)((0,n.R1)(c.NJ)(e.item.balance.amount,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" ",1),(0,s.Lk)("div",F,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,S)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",K,[(0,s.Lk)("span",null,[(0,s.eW)((0,r.v_)(e.$t("message.stake_APR_label")),1),Q,(0,s.eW)(" "+(0,r.v_)((100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR-100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR*t.commission.commission_rates.rate).toFixed(2))+"%",1)])]),(0,s.Lk)("div",I,[(0,n.R1)(a).stakeCurrentValidator&&(0,n.R1)(a).stakeCurrentValidator.operator_address===t.operator_address?((0,s.uX)(),(0,s.CE)("svg",T,J)):(0,s.Q3)("",!0)])])],10,N)])))),128))])):((0,s.uX)(),(0,s.CE)("div",B,(0,r.v_)(e.$t("message.search_empty_validator")),1))])):((0,s.uX)(),(0,s.Wv)(d.A,{key:0}))])]))}},P=t(71241);const j=(0,P.A)(M,[["__scopeId","data-v-b92b57be"]]);var q=j;const z=e=>((0,s.Qi)("data-v-0dcc5c14"),e=e(),(0,s.jt)(),e),Y=l+"#ic_arrow_hor",H=l+"#ic_arr_ver2",Z=l+"#ic_user",G={class:"page_container stake"},O={class:"cont"},ee={class:"head"},ae=z((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":Y})],-1))),te={class:"page_title"},se={class:"current_staked"},re={class:"label"},ne={class:"data_wrap"},oe={class:"data"},le={class:"apr"},ie=z((()=>(0,s.Lk)("br",null,null,-1))),ce={class:"token"},ue={class:"logo"},ke=["src"],ve={class:"denom"},de={class:"unbonding_period"},_e={class:"balances"},me={class:"label"},pe={class:"amount"},Re={class:"cost"},ge={class:"label"},Le={class:"amount"},we={class:"cost"},be={class:"validator_info"},he={class:"label"},fe={class:"info"},Ce={class:"placeholder"},xe=z((()=>(0,s.Lk)("svg",{class:"arr"},[(0,s.Lk)("use",{"xlink:href":H})],-1))),ye={class:"validator"},Ne={class:"logo"},$e=["src"],Ee=z((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":Z})],-1))),Xe={class:"moniker"},Ae={key:0,class:"staked"},Ve={class:"logo"},We=["src"],De=z((()=>(0,s.Lk)("svg",{class:"arr"},[(0,s.Lk)("use",{"xlink:href":H})],-1))),Fe={class:"amount"},Se={class:"label"},Ke={class:"cost"},Qe={class:"field"},Ie={class:"btns"};var Te={__name:"Stake",setup(e){const a=(0,i.o)(),t=(0,s.WQ)("emitter"),l=(0,n.KR)(!1),d=(0,n.KR)(!1),_=(0,n.KR)([]),m=(0,n.KR)(""),p=(0,n.KR)(!1),R=(0,n.KR)((0,s.EW)((()=>p.value&&!!a.stakeCurrentValidator)));function g(){m.value=(0,c.NJ)((0,c.Rt)(),a.networks[a.currentNetwork].exponent),p.value=!0}function L(e){p.value=!1,e.target.value.length&&e.target.value<=0?m.value="":e.target.value.length&&(p.value=!0),e.target.value>(0,c.NJ)((0,c.Rt)(),a.networks[a.currentNetwork].exponent)&&g()}function w(e){return a.stakedBalances.find((a=>a.validator_info.operator_address===e))}return(0,s.KC)((async()=>{a.stakeCurrentValidator=null,await a.getNetworkUnbondingTime()})),(0,s.hi)((()=>{t.off("auth"),t.off("close_sign_tx_modal"),t.off("close_validators_modal")})),(0,s.wB)((0,s.EW)((()=>R.value)),(()=>{R.value&&(_.value=[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:u.MsgDelegate.fromPartial({delegatorAddress:a.currentAddress,validatorAddress:a.stakeCurrentValidator.operator_address,amount:{denom:a.networks[a.currentNetwork].denom,amount:""+parseFloat(m.value.toString().replace(",",".")).toFixed(a.networks[a.currentNetwork].exponent)*Math.pow(10,a.networks[a.currentNetwork].exponent)}})}])})),t.on("auth",(()=>{d.value=!1,claim()})),t.on("close_sign_tx_modal",(()=>{d.value=!1})),t.on("close_validators_modal",(()=>{l.value=!1})),(e,i)=>{const u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("section",G,[(0,s.Lk)("div",O,[(0,s.Lk)("div",ee,[(0,s.bF)(u,{to:"/account?activeSlide=1",class:"back_btn"},{default:(0,s.k6)((()=>[ae])),_:1}),(0,s.Lk)("div",te,(0,r.v_)(e.$t("message.stake_page_title")),1)]),(0,s.Lk)("div",se,[(0,s.Lk)("div",re,(0,r.v_)(e.$t("message.stake_current_staked_label")),1),(0,s.Lk)("div",ne,[(0,s.Lk)("div",oe,[(0,s.Lk)("div",le,[(0,s.Lk)("span",null,[(0,s.eW)((0,r.v_)(e.$t("message.stake_APR_label")),1),ie,(0,s.eW)(" "+(0,r.v_)((100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR).toFixed(2))+"%",1)])]),(0,s.Lk)("div",ce,[(0,s.Lk)("div",ue,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,ke)]),(0,s.Lk)("div",null,[(0,s.Lk)("div",ve,(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",de,(0,r.v_)(e.$t("message.stake_unbonding_period_label"))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].unbondingTime)+" "+(0,r.v_)(e.$t("message.stake_unbonding_time_unit")),1)])]),(0,s.Lk)("div",_e,[(0,s.Lk)("div",null,[(0,s.Lk)("div",me,(0,r.v_)(e.$t("message.stake_available_label")),1),(0,s.Lk)("div",pe,(0,r.v_)((0,n.R1)(c.NJ)((0,n.R1)(c.Rt)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",Re,(0,r.v_)((0,n.R1)(a).currentCurrencySymbol)+" "+(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.Y$)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name,(0,n.R1)(c.Rt)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent))),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("div",ge,(0,r.v_)(e.$t("message.stake_staked_label")),1),(0,s.Lk)("div",Le,(0,r.v_)((0,n.R1)(c.NJ)((0,n.R1)(c.cc)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",we,(0,r.v_)((0,n.R1)(a).currentCurrencySymbol)+(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.eZ)())),1)])])])])]),(0,s.Lk)("div",be,[(0,s.Lk)("div",he,(0,r.v_)(e.$t("message.stake_validator_label")),1),(0,n.R1)(a).stakeCurrentValidator?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"validator_wrap",onClick:i[2]||(i[2]=(0,o.D$)((e=>l.value=!0),["prevent"]))},[(0,s.Lk)("div",ye,[(0,s.Lk)("div",Ne,[(0,s.Lk)("img",{src:`https://raw.githubusercontent.com/cosmostation/chainlist/main/chain/${(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].prefix}/moniker/${(0,n.R1)(a).stakeCurrentValidator.operator_address}.png`,alt:"",loading:"lazy",onError:i[1]||(i[1]=e=>(0,n.R1)(c.on)(e))},null,40,$e),Ee]),(0,s.Lk)("div",null,[(0,s.Lk)("div",Xe,(0,r.v_)((0,n.R1)(a).stakeCurrentValidator.description.moniker),1),(e.item=w((0,n.R1)(a).stakeCurrentValidator.operator_address))?((0,s.uX)(),(0,s.CE)("div",Ae,[(0,s.eW)((0,r.v_)(e.$t("message.validatoes_staked_label"))+" "+(0,r.v_)((0,n.R1)(c.NJ)(e.item.balance.amount,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" ",1),(0,s.Lk)("div",Ve,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,We)])])):(0,s.Q3)("",!0)]),De])])):((0,s.uX)(),(0,s.CE)("div",{key:0,class:"info_wrap",onClick:i[0]||(i[0]=(0,o.D$)((e=>l.value=!0),["prevent"]))},[(0,s.Lk)("div",fe,[(0,s.Lk)("div",Ce,(0,r.v_)(e.$t("message.stake_validator_placeholder")),1),xe])]))]),(0,s.Lk)("div",Fe,[(0,s.Lk)("div",Se,[(0,s.eW)((0,r.v_)(e.$t("message.stake_amount_label"))+" ",1),(0,s.Lk)("div",Ke,(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.Y$)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name,m.value*Math.pow(10,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent)))+" "+(0,r.v_)((0,n.R1)(a).currentCurrencySymbol),1)]),(0,s.Lk)("div",Qe,[(0,s.bo)((0,s.Lk)("input",{type:"number",inputmode:"numeric",class:"input big","onUpdate:modelValue":i[3]||(i[3]=e=>m.value=e),placeholder:"0.00",onInput:i[4]||(i[4]=e=>L(e))},null,544),[[o.Jo,m.value]]),(0,s.Lk)("button",{type:"button",class:"max_btn",onClick:(0,o.D$)(g,["prevent"])},(0,r.v_)(e.$t("message.btn_MAX")),1)])]),R.value?((0,s.uX)(),(0,s.Wv)(k.A,{key:0,msgAny:_.value},null,8,["msgAny"])):(0,s.Q3)("",!0),(0,s.Lk)("div",Ie,[(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].currentTxHash?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn waiting_btn",onClick:i[6]||(i[6]=(0,o.D$)((e=>(0,n.R1)(t).emit("show_pending_notification")),["prevent"]))},[(0,s.Lk)("span",null,(0,r.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,r.C4)(["btn",{disabled:!(0,n.R1)(a).TxFee.isEnough}]),onClick:i[5]||(i[5]=(0,o.D$)((e=>d.value=!0),["prevent"]))},[(0,s.Lk)("span",null,(0,r.v_)(e.$t("message.btn_stake")),1)],2))])])]),l.value?((0,s.uX)(),(0,s.Wv)(q,{key:0})):(0,s.Q3)("",!0),d.value?((0,s.uX)(),(0,s.Wv)(v.A,{key:1})):(0,s.Q3)("",!0)],64)}}};const Ue=(0,P.A)(Te,[["__scopeId","data-v-0dcc5c14"]]);var Je=Ue}}]);
//# sourceMappingURL=880.63f7e9b2.js.map