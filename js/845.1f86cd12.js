"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[845],{92732:function(e,t,n){n.d(t,{A:function(){return k}});var a=n(56768),s=n(45130),o=n(24113);const l=e=>((0,a.Qi)("data-v-77f5f7be"),e=e(),(0,a.jt)(),e),u=o+"#ic_scaner",r=l((()=>(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":u})],-1))),i=[r];var c={__name:"QRCode",setup(e){function t(){Telegram.WebApp.showScanQrPopup({text:"Наш текст"})}return(e,n)=>((0,a.uX)(),(0,a.CE)("button",{class:"qr_code_btn",onClick:(0,s.D$)(t,["prevent"])},i))}},v=n(71241);const d=(0,v.A)(c,[["__scopeId","data-v-77f5f7be"]]);var k=d},85889:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});n(44114);var a=n(56768),s=n(24232),o=n(90144),l=n(45130),u=n(24113),r=n(76750),i=n(81387),c=n(67278),v=n(61981),d=n(89114),k=n(2108),_=n(1955),m=n(92732);const p=e=>((0,a.Qi)("data-v-9387e452"),e=e(),(0,a.jt)(),e),b=u+"#ic_arrow_hor",g={class:"page_container sens"},R={class:"cont"},L={class:"head"},f=p((()=>(0,a.Lk)("svg",{class:"icon"},[(0,a.Lk)("use",{"xlink:href":b})],-1))),h={class:"page_title"},y={class:"token_wrap"},w={class:"token"},x={class:"logo"},A=["src","alt"],C={class:"denom"},$={class:"amount"},F={class:"val"},W={class:"cost"},K={class:"address"},N={class:"label"},Q={class:"field"},S={class:"amount_field"},X={class:"label"},E={class:"cost"},J={class:"field"},T={class:"memo_field"},U={class:"label"},D={class:"field"},I={class:"btns"};var B={__name:"Send",setup(e){const t=(0,r.o)(),n=((0,i.rd)(),(0,i.lq)()),u=(0,a.WQ)("emitter"),p=((0,a.WQ)("i18n"),(0,c.hN)(),t.balances.find((e=>e.denom===n.params.denom))),b=(0,o.KR)(""),B=(0,o.KR)(""),M=(0,o.KR)(""),V=(0,o.KR)(!1),j=(0,o.KR)([]),q=(0,o.KR)(!1),Y=(0,o.KR)(!1),z=(0,o.KR)((0,a.EW)((()=>Y.value&&b.value.length)));function H(e){let t=b.value.startsWith(p.chain_info.bech32_prefix);t?e.target.classList.remove("error"):e.target.classList.add("error")}function P(){Y.value=!1,setTimeout((()=>{B.value=(0,v.NJ)(p.amount,p.exponent),Y.value=!0}))}function G(e){Y.value=!1,setTimeout((()=>{e.target.value.length&&e.target.value<=0&&(B.value=""),e.target.value.length&&e.target.value>0&&e.target.value<(0,v.NJ)(p.amount,p.exponent)&&(Y.value=!0),e.target.value>(0,v.NJ)(p.amount,p.exponent)&&P()}))}return(0,a.wB)((0,a.EW)((()=>z.value)),(()=>{z.value&&(j.value=[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:t.currentAddress,toAddress:b.value,amount:[{denom:p.denom,amount:""+parseFloat(B.value.toString().replace(",",".")).toFixed(p.exponent)*Math.pow(10,p.exponent)}]}}],console.log(j.value))})),u.on("auth",(()=>{V.value=!1,claim()})),u.on("close_sign_tx_modal",(()=>{V.value=!1})),(e,n)=>{const r=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("section",g,[q.value?((0,a.uX)(),(0,a.Wv)(d.A,{key:0})):(0,a.Q3)("",!0),(0,a.Lk)("div",R,[(0,a.Lk)("div",L,[(0,a.bF)(r,{to:"/account",class:"back_btn"},{default:(0,a.k6)((()=>[f])),_:1}),(0,a.Lk)("div",h,(0,s.v_)(e.$t("message.send_page_title")),1)]),(0,a.Lk)("div",y,[(0,a.Lk)("div",w,[(0,a.Lk)("div",x,[(0,a.Lk)("img",{src:(0,o.R1)(p).token_info.logo_URIs.svg,alt:(0,o.R1)(p).token_info.name,loading:"lazy"},null,8,A)]),(0,a.Lk)("div",C,(0,s.v_)((0,o.R1)(p).token_info.symbol),1),(0,a.Lk)("div",$,[(0,a.Lk)("div",F,(0,s.v_)((0,o.R1)(v.NJ)((0,o.R1)(p).amount,(0,o.R1)(p).exponent).toLocaleString("ru-RU",{maximumFractionDigits:7})),1),(0,a.Lk)("div",W,(0,s.v_)((0,o.R1)(v.ST)((0,o.R1)(v.Y$)((0,o.R1)(p).token_info.symbol,(0,o.R1)(p).amount,(0,o.R1)(p).exponent)))+" "+(0,s.v_)((0,o.R1)(t).currentCurrencySymbol),1)])])]),(0,a.Lk)("div",K,[(0,a.Lk)("div",N,(0,s.v_)(e.$t("message.send_address_label")),1),(0,a.Lk)("div",Q,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":n[0]||(n[0]=e=>b.value=e),onFocus:n[1]||(n[1]=e=>(0,o.R1)(u).emit("show_keyboard")),onBlur:n[2]||(n[2]=e=>(0,o.R1)(u).emit("hide_keyboard")),onInput:n[3]||(n[3]=e=>H(e))},null,544),[[l.Jo,b.value]]),(0,a.bF)(m.A,{class:"in_field"})])]),(0,a.Lk)("div",S,[(0,a.Lk)("div",X,[(0,a.eW)((0,s.v_)(e.$t("message.send_amount_label"))+" ",1),(0,a.Lk)("div",E,(0,s.v_)((0,o.R1)(v.ST)((0,o.R1)(v.Y$)((0,o.R1)(t).networks[(0,o.R1)(t).currentNetwork].token_name,B.value*Math.pow(10,(0,o.R1)(t).networks[(0,o.R1)(t).currentNetwork].exponent),(0,o.R1)(t).networks[(0,o.R1)(t).currentNetwork].exponent)))+" "+(0,s.v_)((0,o.R1)(t).currentCurrencySymbol),1)]),(0,a.Lk)("div",J,[(0,a.bo)((0,a.Lk)("input",{type:"number",inputmode:"numeric",class:"input big","onUpdate:modelValue":n[4]||(n[4]=e=>B.value=e),placeholder:"0.00",onFocus:n[5]||(n[5]=e=>(0,o.R1)(u).emit("show_keyboard")),onBlur:n[6]||(n[6]=e=>(0,o.R1)(u).emit("hide_keyboard")),onInput:n[7]||(n[7]=e=>G(e))},null,544),[[l.Jo,B.value]]),(0,a.Lk)("button",{type:"button",class:"max_btn",onClick:(0,l.D$)(P,["prevent"])},(0,s.v_)(e.$t("message.btn_MAX")),1)])]),(0,a.Lk)("div",T,[(0,a.Lk)("div",U,(0,s.v_)(e.$t("message.memo_label")),1),(0,a.Lk)("div",D,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":n[8]||(n[8]=e=>M.value=e),onFocus:n[9]||(n[9]=e=>(0,o.R1)(u).emit("show_keyboard")),onBlur:n[10]||(n[10]=e=>(0,o.R1)(u).emit("hide_keyboard"))},null,544),[[l.Jo,M.value]])])]),z.value?((0,a.uX)(),(0,a.Wv)(k.A,{key:0,msgAny:j.value},null,8,["msgAny"])):(0,a.Q3)("",!0),(0,a.Lk)("div",I,[(0,o.R1)(t).networks[(0,o.R1)(t).currentNetwork].currentTxHash?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"btn waiting_btn",onClick:n[12]||(n[12]=(0,l.D$)((e=>(0,o.R1)(u).emit("show_pending_notification")),["prevent"]))},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,a.uX)(),(0,a.CE)("button",{key:0,class:(0,s.C4)(["btn",{disabled:!(0,o.R1)(t).TxFee.isEnough}]),onClick:n[11]||(n[11]=(0,l.D$)((e=>V.value=!0),["prevent"]))},[(0,a.Lk)("span",null,(0,s.v_)(e.$t("message.btn_send")),1)],2))])])]),V.value?((0,a.uX)(),(0,a.Wv)(_.A,{key:0})):(0,a.Q3)("",!0)],64)}}},M=n(71241);const V=(0,M.A)(B,[["__scopeId","data-v-9387e452"]]);var j=V}}]);
//# sourceMappingURL=845.1f86cd12.js.map