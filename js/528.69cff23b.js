"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[528],{4216:function(e,a,l){l.r(a),l.d(a,{default:function(){return pe}});l(4114);var n=l(6768),s=l(4232),i=l(5130),t=l(4113),u=l(144),o=l(1387),d=l(1981),c=l(6571),p=l(5129),v=l(9114);const r=e=>((0,n.Qi)("data-v-be681f82"),e=e(),(0,n.jt)(),e),b=t+"#ic_biometric_face",m=t+"#ic_biometric_finger",g=t+"#ic_check",k={class:"page_container careate_pin_page"},L={class:"cont"},_={class:"page_title"},h={class:"page_data_wrap"},w={class:"page_data"},f={class:"wallet_name"},y={class:"label"},K={class:"field"},R=["placeholder"],x={class:"pin"},j={class:"label"},C={class:"row"},I={class:"field"},J={class:"field"},U=["disabled"],V={class:"field"},A=["disabled"],$={class:"field"},T=["disabled"],W={class:"field"},E=["disabled"],B={class:"field"},M=["disabled"],Q={class:"pin"},X={class:"label"},q={class:"field"},D=["disabled"],P={class:"field"},S=["disabled"],z={class:"field"},G=["disabled"],F={class:"field"},H=["disabled"],N={class:"field"},O=["disabled"],Y={class:"field"},Z=["disabled"],ee={key:0,class:"icon"},ae=r((()=>(0,n.Lk)("use",{"xlink:href":b},null,-1))),le=[ae],ne={key:1,class:"icon"},se=r((()=>(0,n.Lk)("use",{"xlink:href":m},null,-1))),ie=[se],te=r((()=>(0,n.Lk)("div",{class:"toggle_wrap"},[(0,n.Lk)("div",{class:"toggle"},[(0,n.Lk)("div",{class:"ball_wrap"},[(0,n.Lk)("div",{class:"ball"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":g})])])])])],-1))),ue={class:"btns"};var oe={__name:"CreatePinPage",setup(e){const a=(0,o.rd)(),l=(0,u.KR)(!0),t=(0,u.KR)(""),r=(0,u.KR)(!1),b=(0,u.KR)(!1),m=(0,u.KR)(["","","","","",""]),g=(0,u.KR)(["","","","","",""]),ae=(0,u.KR)(!1),se=(0,u.KR)(!1),oe=(0,u.KR)("finger"),{isAuthorized:de,authErrorLimit:ce}=(0,p.Q)();function pe(){t.value.trim().length?r.value=!0:r.value=!1,b.value=!0}function ve(e,a){e.target.value.length>=1&&a<6&&e.target.closest(".row").querySelector(`.field:nth-child(${a+1}) input`).focus()}function re(e,a){setTimeout((()=>{0===e.target.value.length&&a>0&&e.target.closest(".row").querySelector(`.field:nth-child(${a}) input`).select()}))}(0,n.KC)((()=>{se.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,"unknown"!=Telegram.WebApp.BiometricManager.biometricType&&(oe.value=Telegram.WebApp.BiometricManager.biometricType),l.value=!1}));const be=(0,n.EW)((()=>m.value.join("")===g.value.join(""))),me=(0,n.EW)((()=>""!=g.value[5].length&&be.value&&r.value));function ge(){ae.value?ae.value=!1:ke()}function ke(){Telegram.WebApp.isAccessGranted?Le():Telegram.WebApp.BiometricManager.requestAccess({reason:"Наш текст"},(()=>Le()))}function Le(){Telegram.WebApp.BiometricManager.authenticate({reason:"Наш текст"},(async e=>{e&&(ae.value=!0)}))}async function _e(){l.value=!0;let e=await(0,d.Q1)();await(0,c.ys)("wallet",[["hmacKey",e],["pin",await(0,d.mK)(m.value.join(""),e)],["name",t.value],["isRegister",!0],["isBiometric",ae.value],["authErrorLimit",ce]]),de.value=!0,a.push("/wallet_created")}return(e,a)=>((0,n.uX)(),(0,n.CE)("section",k,[(0,n.Lk)("div",L,[(0,n.Lk)("div",_,(0,s.v_)(e.$t("message.create_pin_title")),1),(0,n.Lk)("div",h,[(0,n.Lk)("div",w,[l.value?((0,n.uX)(),(0,n.Wv)(v.A,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("div",f,[(0,n.Lk)("div",y,(0,s.v_)(e.$t("message.create_pin_wallet_name_label")),1),(0,n.Lk)("div",K,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:(0,s.C4)(["input big",{error:!r.value&&b.value,success:r.value&&b.value}]),"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),placeholder:e.$t("message.create_pin_wallet_name_placeholder"),onInput:pe},null,42,R),[[i.Jo,t.value]])])]),(0,n.Lk)("div",x,[(0,n.Lk)("div",j,(0,s.v_)(e.$t("message.create_pin_create_pin_label")),1),(0,n.Lk)("div",C,[(0,n.Lk)("div",I,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[1]||(a[1]=e=>m.value[0]=e),maxlength:"1",inputmode:"numeric",onInput:a[2]||(a[2]=e=>ve(e,1)),onKeydown:a[3]||(a[3]=(0,i.jR)((e=>re(e,0)),["backspace"]))},null,544),[[i.Jo,m.value[0]]])]),(0,n.Lk)("div",J,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[4]||(a[4]=e=>m.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[0].length,onInput:a[5]||(a[5]=e=>ve(e,2)),onKeydown:a[6]||(a[6]=(0,i.jR)((e=>re(e,1)),["backspace"]))},null,40,U),[[i.Jo,m.value[1]]])]),(0,n.Lk)("div",V,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[7]||(a[7]=e=>m.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[1].length,onInput:a[8]||(a[8]=e=>ve(e,3)),onKeydown:a[9]||(a[9]=(0,i.jR)((e=>re(e,2)),["backspace"]))},null,40,A),[[i.Jo,m.value[2]]])]),(0,n.Lk)("div",$,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[10]||(a[10]=e=>m.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[2].length,onInput:a[11]||(a[11]=e=>ve(e,4)),onKeydown:a[12]||(a[12]=(0,i.jR)((e=>re(e,3)),["backspace"]))},null,40,T),[[i.Jo,m.value[3]]])]),(0,n.Lk)("div",W,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[13]||(a[13]=e=>m.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[3].length,onInput:a[14]||(a[14]=e=>ve(e,5)),onKeydown:a[15]||(a[15]=(0,i.jR)((e=>re(e,4)),["backspace"]))},null,40,E),[[i.Jo,m.value[4]]])]),(0,n.Lk)("div",B,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[16]||(a[16]=e=>m.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[4].length,onInput:a[17]||(a[17]=e=>ve(e,6)),onKeydown:a[18]||(a[18]=(0,i.jR)((e=>re(e,5)),["backspace"]))},null,40,M),[[i.Jo,m.value[5]]])])])]),(0,n.Lk)("div",Q,[(0,n.Lk)("div",X,(0,s.v_)(e.$t("message.create_pin_confirm_pin_label")),1),(0,n.Lk)("div",{class:(0,s.C4)(["row",{error:g.value[5].length&&!be.value,success:g.value[5].length&&be.value}])},[(0,n.Lk)("div",q,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[19]||(a[19]=e=>g.value[0]=e),maxlength:"1",inputmode:"numeric",disabled:!m.value[3].length,onInput:a[20]||(a[20]=e=>ve(e,1)),onKeydown:a[21]||(a[21]=(0,i.jR)((e=>re(e,0)),["backspace"]))},null,40,D),[[i.Jo,g.value[0]]])]),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[22]||(a[22]=e=>g.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!g.value[0].length,onInput:a[23]||(a[23]=e=>ve(e,2)),onKeydown:a[24]||(a[24]=(0,i.jR)((e=>re(e,1)),["backspace"]))},null,40,S),[[i.Jo,g.value[1]]])]),(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[25]||(a[25]=e=>g.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!g.value[1].length,onInput:a[26]||(a[26]=e=>ve(e,3)),onKeydown:a[27]||(a[27]=(0,i.jR)((e=>re(e,2)),["backspace"]))},null,40,G),[[i.Jo,g.value[2]]])]),(0,n.Lk)("div",F,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[28]||(a[28]=e=>g.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!g.value[2].length,onInput:a[29]||(a[29]=e=>ve(e,4)),onKeydown:a[30]||(a[30]=(0,i.jR)((e=>re(e,3)),["backspace"]))},null,40,H),[[i.Jo,g.value[3]]])]),(0,n.Lk)("div",N,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[31]||(a[31]=e=>g.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!g.value[3].length,onInput:a[32]||(a[32]=e=>ve(e,5)),onKeydown:a[33]||(a[33]=(0,i.jR)((e=>re(e,4)),["backspace"]))},null,40,O),[[i.Jo,g.value[4]]])]),(0,n.Lk)("div",Y,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[34]||(a[34]=e=>g.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!g.value[4].length,onInput:a[35]||(a[35]=e=>ve(e,6)),onKeydown:a[36]||(a[36]=(0,i.jR)((e=>re(e,5)),["backspace"]))},null,40,Z),[[i.Jo,g.value[5]]])])],2)]),se.value?((0,n.uX)(),(0,n.CE)("button",{key:1,class:(0,s.C4)(["biometric_btn",{enabled:ae.value}]),onClick:(0,i.D$)(ge,["prevent"])},["face"===oe.value?((0,n.uX)(),(0,n.CE)("svg",ee,le)):((0,n.uX)(),(0,n.CE)("svg",ne,ie)),(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_biometric")),1),te],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",ue,[(0,n.Lk)("button",{class:(0,s.C4)(["btn",{disabled:!me.value}]),onClick:a[37]||(a[37]=(0,i.D$)((e=>_e()),["prevent"]))},[(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_next")),1)],2)])])])])]))}},de=l(1241);const ce=(0,de.A)(oe,[["__scopeId","data-v-be681f82"]]);var pe=ce}}]);
//# sourceMappingURL=528.69cff23b.js.map