"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[186],{10644:function(e,a,t){t.r(a),t.d(a,{default:function(){return ee}});t(44114);var s=t(56768),l=t(24232),n=t(90144),o=t(45130),i=t(24113),c=t(76750),r=t(81387),d=t(67278),_=t(61981),u=t(32344),v=t(17086),m=t(65559),k=t(21634);const g=e=>((0,s.Qi)("data-v-4d657972"),e=e(),(0,s.jt)(),e),p=i+"#ic_close",f={class:"modal"},b={class:"modal_content"},w={class:"data"},y=g((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":p})],-1))),L=[y],x={class:"modal_title"},R={class:"desc"},h={class:"btns"};var C={__name:"TxWarning",setup(e){const a=(0,s.WQ)("emitter");return(e,t)=>((0,s.uX)(),(0,s.CE)("section",f,[(0,s.Lk)("div",b,[(0,s.Lk)("div",w,[(0,s.Lk)("button",{class:"close_btn",onClick:t[0]||(t[0]=(0,o.D$)((e=>(0,n.R1)(a).emit("close_tx_warning_modal")),["prevent"]))},L),(0,s.Lk)("div",x,(0,l.v_)(e.$t("message.tx_warning_title")),1),(0,s.Lk)("div",R,(0,l.v_)(e.$t("message.tx_warning_desc")),1),(0,s.Lk)("div",h,[(0,s.Lk)("button",{class:"btn",onClick:t[1]||(t[1]=(0,o.D$)((e=>(0,n.R1)(a).emit("close_tx_warning_modal")),["prevent"]))},[(0,s.Lk)("span",null,(0,l.v_)(e.$t("message.btn_accept")),1)])])])])]))}},$=t(71241);const A=(0,$.A)(C,[["__scopeId","data-v-4d657972"]]);var F=A;const T=e=>((0,s.Qi)("data-v-6c1267e7"),e=e(),(0,s.jt)(),e),Q=i+"#ic_arrow_hor",B={class:"page_container inner_page_container claim_confirm"},D={class:"cont"},W={class:"head"},X=T((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":Q})],-1))),E={class:"page_title"},K={class:"data"},S={class:"field_label"},M={class:"info_wrap"},N={class:"info"},O={class:"logo"},U=["src"],j={class:"title"},I={class:"amount"},H={class:"val"},J={class:"cost"},P={key:0,class:"not_enought"},q={class:"memo"},G={class:"field_label"},V={class:"field"},z={class:"btns"};var Y={__name:"ClaimConfirmPage",setup(e){const a=(0,c.o)(),t=(0,r.rd)(),i=(0,s.WQ)("emitter"),g=(0,s.WQ)("i18n"),p=(0,d.hN)(),f=(0,n.KR)(""),b=(0,n.KR)(!1),w=(0,n.KR)(!1),y=(0,n.KR)([]),L=(0,n.KR)(!1);async function x(){L.value=!0;try{a.TxFee.isRemember&&await a.updateTxFeeInfo();let e=await(0,_.qS)(y.value,f.value);p.notify({group:"default",clean:!0}),p.notify({group:"default",speed:200,duration:-100,title:g.global.t("message.notification_tx_pending_title"),type:"pending",data:{isCollapsible:!0,explorer_link:(0,_.aS)(a.currentNetwork)}}),(0,_.nw)(e).catch((e=>{console.log(e),R(e)})),a.checkTxResult(),t.push("/account")}catch(e){console.log(e),R(e)}}function R(e){L.value=!1;let t="";t=e.code?g.global.t(`message.notification_tx_error_${e.code}`):g.global.t("message.notification_tx_error_rejected"),p.notify({group:"default",clean:!0}),p.notify({group:"default",speed:200,duration:6e3,title:g.global.t("message.notification_tx_error_title"),text:t,type:"error"}),a.networks[a.currentNetwork].currentTxHash=null,a.resetTxFee()}function h(){b.value=!0,a.isAnyModalOpen=!0}return(0,s.KC)((()=>{a.stakedBalances.forEach((e=>{y.value.push({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:u.MsgWithdrawDelegatorReward.fromPartial({delegatorAddress:a.currentAddress,validatorAddress:e.validator_info.operator_address})})}))})),(0,s.hi)((()=>{i.off("auth"),i.off("close_any_modal"),i.off("close_sign_tx_modal"),i.off("close_tx_warning_modal")})),i.on("auth",(()=>{b.value=!1,a.isAnyModalOpen=!1,x()})),i.on("close_sign_tx_modal",(()=>{b.value=!1,a.isAnyModalOpen=!1})),i.on("close_tx_warning_modal",(()=>{w.value=!1,a.isAnyModalOpen=!1})),i.on("close_any_modal",(()=>{b.value=!1,w.value=!1,a.isAnyModalOpen=!1})),(e,t)=>{const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("section",B,[L.value?((0,s.uX)(),(0,s.Wv)(v.A,{key:0})):(0,s.Q3)("",!0),(0,s.Lk)("div",D,[(0,s.Lk)("div",W,[(0,s.bF)(c,{to:"/account?activeSlide=1",class:"back_btn"},{default:(0,s.k6)((()=>[X])),_:1}),(0,s.Lk)("div",E,(0,l.v_)(e.$t("message.claim_rewards_page_title")),1)]),(0,s.Lk)("div",K,[(0,s.Lk)("div",S,(0,l.v_)(e.$t("message.details_label")),1),(0,s.Lk)("div",M,[(0,s.Lk)("div",N,[(0,s.Lk)("div",O,[(0,s.Lk)("img",{src:(0,n.R1)(_.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,U)]),(0,s.Lk)("div",j,(0,l.v_)(e.$t("message.claim_rewards_title")),1),(0,s.Lk)("div",I,[(0,s.Lk)("div",H," ~ "+(0,l.v_)((0,n.R1)(_.NJ)((0,n.R1)(a).rewardsBalances[0].amount,(0,n.R1)(a).rewardsBalances[0].exponent).toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",","."))+" "+(0,l.v_)((0,n.R1)(a).rewardsBalances[0].token_info.symbol),1),(0,s.Lk)("div",J," ~ "+(0,l.v_)((0,n.R1)(_.ST)((0,n.R1)(_.Ko)("USD"),"USD"))+"$ ",1)])])]),(0,n.R1)(a).TxFee.isEnough?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",P,(0,l.v_)(e.$t("message.claim_rewards_not_enought",{denom:(0,n.R1)(a).TxFee.currentSymbol})),1))]),(0,s.Lk)("div",q,[(0,s.Lk)("div",G,(0,l.v_)(e.$t("message.memo_label")),1),(0,s.Lk)("div",V,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),onFocus:t[1]||(t[1]=e=>(0,n.R1)(i).emit("show_keyboard")),onBlur:t[2]||(t[2]=e=>(0,n.R1)(i).emit("hide_keyboard"))},null,544),[[o.Jo,f.value]])])]),(0,n.R1)(a).isBalancesGot?((0,s.uX)(),(0,s.Wv)(m.A,{key:0,msgAny:y.value,txType:"claim"},null,8,["msgAny"])):(0,s.Q3)("",!0),(0,s.Lk)("div",z,[(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].currentTxHash?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn waiting_btn",onClick:t[4]||(t[4]=(0,o.D$)((e=>(0,n.R1)(i).emit("show_collapsible_notification")),["prevent"]))},[(0,s.Lk)("span",null,(0,l.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,l.C4)(["btn",{disabled:!(0,n.R1)(a).TxFee.isEnough}]),onClick:t[3]||(t[3]=(0,o.D$)((e=>h()),["prevent"]))},[(0,s.Lk)("span",null,(0,l.v_)(e.$t("message.btn_approve")),1)],2))])])]),(0,s.bF)(o.eB,{name:"modal"},{default:(0,s.k6)((()=>[b.value?((0,s.uX)(),(0,s.Wv)(k.A,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(o.eB,{name:"modal"},{default:(0,s.k6)((()=>[w.value?((0,s.uX)(),(0,s.Wv)(F,{key:0})):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(o.eB,{name:"fade"},{default:(0,s.k6)((()=>[b.value||w.value?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal_overlay",onClick:t[5]||(t[5]=(0,o.D$)((e=>(0,n.R1)(i).emit("close_any_modal")),["prevent"]))})):(0,s.Q3)("",!0)])),_:1})],64)}}};const Z=(0,$.A)(Y,[["__scopeId","data-v-6c1267e7"]]);var ee=Z}}]);
//# sourceMappingURL=186.cd93caef.js.map