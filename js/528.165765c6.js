"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[528],{7984:function(e,a,l){l.r(a),l.d(a,{default:function(){return N}});l(4114);var t=l(6768),n=l(4232),s=l(5130),i=l(4113),u=l(144),o=l(1387),c=l(1981),d=l(1609),p=l(9114);const r=e=>((0,t.Qi)("data-v-7d885f25"),e=e(),(0,t.jt)(),e),v=i+"#ic_arrow_hor",b=i+"#ic_biometric",m={class:"page_container careate_pin_page"},g={class:"cont"},k={class:"page_title"},_={class:"page_data_wrap"},h={class:"page_data"},L=r((()=>(0,t.Lk)("svg",{class:"icon"},[(0,t.Lk)("use",{"xlink:href":v})],-1))),w={class:"wallet_name"},f={class:"label"},y={class:"field"},K=["placeholder"],R={class:"create_pin"},j={class:"label"},x={class:"row"},C={class:"field"},I={class:"field"},$=["disabled"],A={class:"field"},J=["disabled"],U={class:"field"},V=["disabled"],W={class:"confirm_pin"},B={class:"label"},T={class:"field"},E=["disabled"],M={class:"field"},X=["disabled"],q={class:"field"},D=["disabled"],F={class:"field"},P=["disabled"],Q=r((()=>(0,t.Lk)("svg",{class:"icon"},[(0,t.Lk)("use",{"xlink:href":b})],-1))),S={class:"btns"};var z={__name:"CreatePinPage",setup(e){const a=(0,o.rd)(),l=(0,u.KR)(!0),i=(0,u.KR)(""),r=(0,u.KR)(!1),v=(0,u.KR)(!1),b=(0,u.KR)(["","","",""]),z=(0,u.KR)(["","","",""]);function G(){i.value.trim().length?r.value=!0:r.value=!1,v.value=!0}function H(e,a){e.target.value.length>=1&&a<4&&e.target.closest(".row").querySelector(`.field:nth-child(${a+1}) input`).focus()}function N(e,a){setTimeout((()=>{0===e.target.value.length&&a>0&&e.target.closest(".row").querySelector(`.field:nth-child(${a}) input`).select()}))}(0,t.KC)((()=>{l.value=!1}));const O=(0,t.EW)((()=>b.value.join("")===z.value.join(""))),Y=(0,t.EW)((()=>""!=z.value[3].length&&O.value&&r.value));async function Z(){if(Telegram.WebApp.BiometricManager.isInited||await Telegram.WebApp.BiometricManager.init(),await Telegram.WebApp.BiometricManager.isBiometricAvailable()){let e=await Telegram.WebApp.BiometricManager.authenticate();e?(console.log("Biometric authentication successful:",e),alert("Authentication successful!")):alert("Authentication failed.")}}async function ee(){l.value=!0;let e=await(0,c.Q1)();await(0,d.ys)("wallet",[["hmacKey",e],["pin",await(0,c.mK)(b.value.join(""),e)],["name",i.value]]),a.push("/wallet_created")}return(e,a)=>{const u=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("section",m,[(0,t.Lk)("div",g,[(0,t.Lk)("div",k,(0,n.v_)(e.$t("message.create_pin_title")),1),(0,t.Lk)("div",_,[(0,t.Lk)("div",h,[l.value?((0,t.uX)(),(0,t.Wv)(p.A,{key:0})):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(u,{class:"back_btn",to:"/create_wallet"},{default:(0,t.k6)((()=>[L])),_:1}),(0,t.Lk)("div",w,[(0,t.Lk)("div",f,(0,n.v_)(e.$t("message.create_pin_wallet_name_label")),1),(0,t.Lk)("div",y,[(0,t.bo)((0,t.Lk)("input",{type:"text",class:(0,n.C4)(["input big",{error:!r.value&&v.value,success:r.value&&v.value}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),placeholder:e.$t("message.create_pin_wallet_name_placeholder"),onInput:G},null,42,K),[[s.Jo,i.value]])])]),(0,t.Lk)("div",R,[(0,t.Lk)("div",j,(0,n.v_)(e.$t("message.create_pin_create_pin_label")),1),(0,t.Lk)("div",x,[(0,t.Lk)("div",C,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[1]||(a[1]=e=>b.value[0]=e),maxlength:"1",inputmode:"numeric",onInput:a[2]||(a[2]=e=>H(e,1)),onKeydown:a[3]||(a[3]=(0,s.jR)((e=>N(e,0)),["backspace"]))},null,544),[[s.Jo,b.value[0]]])]),(0,t.Lk)("div",I,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[4]||(a[4]=e=>b.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[0].length,onInput:a[5]||(a[5]=e=>H(e,2)),onKeydown:a[6]||(a[6]=(0,s.jR)((e=>N(e,1)),["backspace"]))},null,40,$),[[s.Jo,b.value[1]]])]),(0,t.Lk)("div",A,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[7]||(a[7]=e=>b.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[1].length,onInput:a[8]||(a[8]=e=>H(e,3)),onKeydown:a[9]||(a[9]=(0,s.jR)((e=>N(e,2)),["backspace"]))},null,40,J),[[s.Jo,b.value[2]]])]),(0,t.Lk)("div",U,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[10]||(a[10]=e=>b.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[2].length,onInput:a[11]||(a[11]=e=>H(e,4)),onKeydown:a[12]||(a[12]=(0,s.jR)((e=>N(e,3)),["backspace"]))},null,40,V),[[s.Jo,b.value[3]]])])])]),(0,t.Lk)("div",W,[(0,t.Lk)("div",B,(0,n.v_)(e.$t("message.create_pin_confirm_pin_label")),1),(0,t.Lk)("div",{class:(0,n.C4)(["row",{error:z.value[3].length&&!O.value,success:z.value[3].length&&O.value}])},[(0,t.Lk)("div",T,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[13]||(a[13]=e=>z.value[0]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[3].length,onInput:a[14]||(a[14]=e=>H(e,1)),onKeydown:a[15]||(a[15]=(0,s.jR)((e=>N(e,0)),["backspace"]))},null,40,E),[[s.Jo,z.value[0]]])]),(0,t.Lk)("div",M,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[16]||(a[16]=e=>z.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!z.value[0].length,onInput:a[17]||(a[17]=e=>H(e,2)),onKeydown:a[18]||(a[18]=(0,s.jR)((e=>N(e,1)),["backspace"]))},null,40,X),[[s.Jo,z.value[1]]])]),(0,t.Lk)("div",q,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[19]||(a[19]=e=>z.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!z.value[1].length,onInput:a[20]||(a[20]=e=>H(e,3)),onKeydown:a[21]||(a[21]=(0,s.jR)((e=>N(e,2)),["backspace"]))},null,40,D),[[s.Jo,z.value[2]]])]),(0,t.Lk)("div",F,[(0,t.bo)((0,t.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[22]||(a[22]=e=>z.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!z.value[2].length,onInput:a[23]||(a[23]=e=>H(e,4)),onKeydown:a[24]||(a[24]=(0,s.jR)((e=>N(e,3)),["backspace"]))},null,40,P),[[s.Jo,z.value[3]]])])],2)]),(0,t.Lk)("button",{class:(0,n.C4)(["biometric_btn",{disabled:!Y.value}]),onClick:(0,s.D$)(Z,["prevent"])},[Q,(0,t.Lk)("span",null,(0,n.v_)(e.$t("message.btn_biometric")),1)],2),(0,t.Lk)("div",S,[(0,t.Lk)("button",{class:(0,n.C4)(["btn",{disabled:!Y.value}]),onClick:(0,s.D$)(ee,["prevent"])},[(0,t.Lk)("span",null,(0,n.v_)(e.$t("message.btn_next")),1)],2)])],64))])])])])}}},G=l(1241);const H=(0,G.A)(z,[["__scopeId","data-v-7d885f25"]]);var N=H}}]);
//# sourceMappingURL=528.165765c6.js.map