"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[103],{89114:function(e,a,l){l.d(a,{A:function(){return p}});var n=l(56768);const s={class:"loader_wrap"},t=(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1),i=[t];function u(e,a){return(0,n.uX)(),(0,n.CE)("div",s,i)}var o=l(71241);const d={},c=(0,o.A)(d,[["render",u]]);var p=c},92103:function(e,a,l){l.r(a),l.d(a,{default:function(){return de}});l(44114);var n=l(56768),s=l(24232),t=l(45130),i=l(24113),u=l(90144),o=l(81387),d=l(63995),c=l(89114);const p=e=>((0,n.Qi)("data-v-55d1a74d"),e=e(),(0,n.jt)(),e),v=i+"#ic_biometric_face",r=i+"#ic_biometric_finger",b=i+"#ic_check",m={class:"page_container careate_pin_page"},g={class:"cont"},k={class:"page_title"},L={class:"page_data_wrap"},_={class:"page_data"},h={class:"wallet_name"},w={class:"label"},f={class:"field"},y=["placeholder"],K={class:"pin"},R={class:"label"},x={class:"row"},C={class:"field"},j={class:"field"},I=["disabled"],A={class:"field"},J=["disabled"],U={class:"field"},V=["disabled"],$={class:"field"},W=["disabled"],T={class:"field"},E=["disabled"],B={class:"pin"},X={class:"label"},M={class:"field"},q=["disabled"],Q={class:"field"},D=["disabled"],P={class:"field"},S=["disabled"],G={class:"field"},N=["disabled"],z={class:"field"},F=["disabled"],H={class:"field"},O=["disabled"],Y={key:0,class:"icon"},Z=p((()=>(0,n.Lk)("use",{"xlink:href":v},null,-1))),ee=[Z],ae={key:1,class:"icon"},le=p((()=>(0,n.Lk)("use",{"xlink:href":r},null,-1))),ne=[le],se=p((()=>(0,n.Lk)("div",{class:"toggle_wrap"},[(0,n.Lk)("div",{class:"toggle"},[(0,n.Lk)("div",{class:"ball_wrap"},[(0,n.Lk)("div",{class:"ball"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":b})])])])])],-1))),te={class:"btns"};var ie={__name:"CreatePinPage",setup(e){const a=(0,d.o)(),l=(0,o.rd)(),i=(0,u.KR)(!0),p=(0,u.KR)(""),v=(0,u.KR)(!1),r=(0,u.KR)(!1),b=(0,u.KR)(["","","","","",""]),Z=(0,u.KR)(["","","","","",""]),le=(0,u.KR)(!1),ie=(0,u.KR)(!1),ue=(0,u.KR)("finger");function oe(){p.value.trim().length?v.value=!0:v.value=!1,r.value=!0}function de(e,a){e.target.value.length>=1&&a<6&&e.target.closest(".row").querySelector(`.field:nth-child(${a+1}) input`).focus()}function ce(e,a){setTimeout((()=>{0===e.target.value.length&&a>0&&e.target.closest(".row").querySelector(`.field:nth-child(${a}) input`).select()}))}(0,n.KC)((()=>{ie.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,"unknown"!=Telegram.WebApp.BiometricManager.biometricType&&(ue.value=Telegram.WebApp.BiometricManager.biometricType),i.value=!1}));const pe=(0,n.EW)((()=>b.value.join("")===Z.value.join(""))),ve=(0,n.EW)((()=>""!=Z.value[5].length&&pe.value&&v.value));function re(){le.value?le.value=!1:be()}function be(){Telegram.WebApp.isAccessGranted?me():Telegram.WebApp.BiometricManager.requestAccess({reason:"Наш текст"},(()=>me()))}function me(){Telegram.WebApp.BiometricManager.authenticate({reason:"Наш текст"},(async e=>{e&&(le.value=!0)}))}async function ge(){i.value=!0,await a.createWallet({pinCode:b.value,walletName:p.value,isBiometricEnabled:le.value}),l.push("/wallet_created")}return(e,a)=>((0,n.uX)(),(0,n.CE)("section",m,[(0,n.Lk)("div",g,[(0,n.Lk)("div",k,(0,s.v_)(e.$t("message.create_pin_title")),1),(0,n.Lk)("div",L,[(0,n.Lk)("div",_,[i.value?((0,n.uX)(),(0,n.Wv)(c.A,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("div",h,[(0,n.Lk)("div",w,(0,s.v_)(e.$t("message.create_pin_wallet_name_label")),1),(0,n.Lk)("div",f,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:(0,s.C4)(["input big",{error:!v.value&&r.value,success:v.value&&r.value}]),"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:e.$t("message.create_pin_wallet_name_placeholder"),onInput:oe},null,42,y),[[t.Jo,p.value]])])]),(0,n.Lk)("div",K,[(0,n.Lk)("div",R,(0,s.v_)(e.$t("message.create_pin_create_pin_label")),1),(0,n.Lk)("div",x,[(0,n.Lk)("div",C,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[1]||(a[1]=e=>b.value[0]=e),maxlength:"1",inputmode:"numeric",onInput:a[2]||(a[2]=e=>de(e,1)),onKeydown:a[3]||(a[3]=(0,t.jR)((e=>ce(e,0)),["backspace"]))},null,544),[[t.Jo,b.value[0]]])]),(0,n.Lk)("div",j,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[4]||(a[4]=e=>b.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[0].length,onInput:a[5]||(a[5]=e=>de(e,2)),onKeydown:a[6]||(a[6]=(0,t.jR)((e=>ce(e,1)),["backspace"]))},null,40,I),[[t.Jo,b.value[1]]])]),(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[7]||(a[7]=e=>b.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[1].length,onInput:a[8]||(a[8]=e=>de(e,3)),onKeydown:a[9]||(a[9]=(0,t.jR)((e=>ce(e,2)),["backspace"]))},null,40,J),[[t.Jo,b.value[2]]])]),(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[10]||(a[10]=e=>b.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[2].length,onInput:a[11]||(a[11]=e=>de(e,4)),onKeydown:a[12]||(a[12]=(0,t.jR)((e=>ce(e,3)),["backspace"]))},null,40,V),[[t.Jo,b.value[3]]])]),(0,n.Lk)("div",$,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[13]||(a[13]=e=>b.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[3].length,onInput:a[14]||(a[14]=e=>de(e,5)),onKeydown:a[15]||(a[15]=(0,t.jR)((e=>ce(e,4)),["backspace"]))},null,40,W),[[t.Jo,b.value[4]]])]),(0,n.Lk)("div",T,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[16]||(a[16]=e=>b.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[4].length,onInput:a[17]||(a[17]=e=>de(e,6)),onKeydown:a[18]||(a[18]=(0,t.jR)((e=>ce(e,5)),["backspace"]))},null,40,E),[[t.Jo,b.value[5]]])])])]),(0,n.Lk)("div",B,[(0,n.Lk)("div",X,(0,s.v_)(e.$t("message.create_pin_confirm_pin_label")),1),(0,n.Lk)("div",{class:(0,s.C4)(["row",{error:Z.value[5].length&&!pe.value,success:Z.value[5].length&&pe.value}])},[(0,n.Lk)("div",M,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[19]||(a[19]=e=>Z.value[0]=e),maxlength:"1",inputmode:"numeric",disabled:!b.value[3].length,onInput:a[20]||(a[20]=e=>de(e,1)),onKeydown:a[21]||(a[21]=(0,t.jR)((e=>ce(e,0)),["backspace"]))},null,40,q),[[t.Jo,Z.value[0]]])]),(0,n.Lk)("div",Q,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[22]||(a[22]=e=>Z.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[0].length,onInput:a[23]||(a[23]=e=>de(e,2)),onKeydown:a[24]||(a[24]=(0,t.jR)((e=>ce(e,1)),["backspace"]))},null,40,D),[[t.Jo,Z.value[1]]])]),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[25]||(a[25]=e=>Z.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[1].length,onInput:a[26]||(a[26]=e=>de(e,3)),onKeydown:a[27]||(a[27]=(0,t.jR)((e=>ce(e,2)),["backspace"]))},null,40,S),[[t.Jo,Z.value[2]]])]),(0,n.Lk)("div",G,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[28]||(a[28]=e=>Z.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[2].length,onInput:a[29]||(a[29]=e=>de(e,4)),onKeydown:a[30]||(a[30]=(0,t.jR)((e=>ce(e,3)),["backspace"]))},null,40,N),[[t.Jo,Z.value[3]]])]),(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[31]||(a[31]=e=>Z.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[3].length,onInput:a[32]||(a[32]=e=>de(e,5)),onKeydown:a[33]||(a[33]=(0,t.jR)((e=>ce(e,4)),["backspace"]))},null,40,F),[[t.Jo,Z.value[4]]])]),(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[34]||(a[34]=e=>Z.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[4].length,onInput:a[35]||(a[35]=e=>de(e,6)),onKeydown:a[36]||(a[36]=(0,t.jR)((e=>ce(e,5)),["backspace"]))},null,40,O),[[t.Jo,Z.value[5]]])])],2)]),ie.value?((0,n.uX)(),(0,n.CE)("button",{key:1,class:(0,s.C4)(["biometric_btn",{enabled:le.value}]),onClick:(0,t.D$)(re,["prevent"])},["face"===ue.value?((0,n.uX)(),(0,n.CE)("svg",Y,ee)):((0,n.uX)(),(0,n.CE)("svg",ae,ne)),(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_biometric")),1),se],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",te,[(0,n.Lk)("button",{class:(0,s.C4)(["btn",{disabled:!ve.value}]),onClick:a[37]||(a[37]=(0,t.D$)((e=>ge()),["prevent"]))},[(0,n.Lk)("span",null,(0,s.v_)(e.$t("message.btn_next")),1)],2)])])])])]))}},ue=l(71241);const oe=(0,ue.A)(ie,[["__scopeId","data-v-55d1a74d"]]);var de=oe}}]);
//# sourceMappingURL=103.3b19dadf.js.map