"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[693],{17086:function(e,a,l){l.d(a,{A:function(){return r}});var n=l(56768);const i={class:"loader_wrap"},o=(0,n.Lk)("div",{class:"loader"},[(0,n.Lk)("span")],-1),t=[o];function s(e,a){return(0,n.uX)(),(0,n.CE)("div",i,t)}var u=l(71241);const d={},c=(0,u.A)(d,[["render",s]]);var r=c},19693:function(e,a,l){l.r(a),l.d(a,{default:function(){return de}});l(44114);var n=l(56768),i=l(24232),o=l(90144),t=l(45130),s=l(24113),u=l(81387),d=l(76750),c=l(17086);const r=e=>((0,n.Qi)("data-v-0ec2ab2c"),e=e(),(0,n.jt)(),e),p=s+"#ic_biometric_face",v=s+"#ic_biometric_finger",b=s+"#ic_check",m={class:"page_container careate_pin_page"},k={class:"cont"},h={class:"page_title"},g={class:"page_data_wrap"},_={class:"page_data"},y={class:"wallet_name"},w={class:"field_label"},L={class:"field"},R=["placeholder"],f={class:"pin"},K={class:"field_label"},T={class:"row"},B={class:"field"},x={class:"field"},C=["disabled"],j={class:"field"},I=["disabled"],A={class:"field"},J=["disabled"],U={class:"field"},V=["disabled"],W={class:"field"},$=["disabled"],E={class:"pin"},X={class:"field_label"},M={class:"field"},Q=["disabled"],q={class:"field"},D=["disabled"],P={class:"field"},S=["disabled"],G={class:"field"},N=["disabled"],z={class:"field"},F=["disabled"],H={class:"field"},O=["disabled"],Y={key:0,class:"icon"},Z=r((()=>(0,n.Lk)("use",{"xlink:href":p},null,-1))),ee=[Z],ae={key:1,class:"icon"},le=r((()=>(0,n.Lk)("use",{"xlink:href":v},null,-1))),ne=[le],ie=r((()=>(0,n.Lk)("div",{class:"toggle_wrap"},[(0,n.Lk)("div",{class:"toggle"},[(0,n.Lk)("div",{class:"ball_wrap"},[(0,n.Lk)("div",{class:"ball"},[(0,n.Lk)("svg",null,[(0,n.Lk)("use",{"xlink:href":b})])])])])],-1))),oe={class:"btns"};var te={__name:"CreatePinPage",setup(e){const a=(0,d.o)(),l=(0,u.rd)(),s=(0,n.WQ)("emitter"),r=(0,o.KR)(!0),p=(0,o.KR)(""),v=(0,o.KR)(!1),b=(0,o.KR)(!1),Z=(0,o.KR)(["","","","","",""]),le=(0,o.KR)(["","","","","",""]),te=(0,o.KR)(!1),se=(0,o.KR)(!1),ue=(0,o.KR)("finger");function de(){p.value.trim().length?v.value=!0:v.value=!1,b.value=!0}function ce(e,a){e.target.value.length>=1&&a<6&&e.target.closest(".row").querySelector(`.field:nth-child(${a+1}) input`).focus()}function re(e,a){setTimeout((()=>{0===e.target.value.length&&a>0&&e.target.closest(".row").querySelector(`.field:nth-child(${a}) input`).select()}))}(0,n.KC)((()=>{se.value=Telegram.WebApp.BiometricManager.isBiometricAvailable,"unknown"!=Telegram.WebApp.BiometricManager.biometricType&&(ue.value=Telegram.WebApp.BiometricManager.biometricType),r.value=!1}));const pe=(0,n.EW)((()=>Z.value.join("")===le.value.join(""))),ve=(0,n.EW)((()=>""!=le.value[5].length&&pe.value&&v.value));function be(){te.value?te.value=!1:me()}function me(){Telegram.WebApp.isAccessGranted?ke():Telegram.WebApp.BiometricManager.requestAccess({reason:""},(()=>ke()))}function ke(){Telegram.WebApp.BiometricManager.authenticate({reason:""},(async e=>{e&&(te.value=!0)}))}async function he(){r.value=!0,await a.createWallet({pinCode:Z.value,walletName:p.value,isBiometricEnabled:te.value}),l.push("/wallet_created")}return(e,a)=>((0,n.uX)(),(0,n.CE)("section",m,[(0,n.Lk)("div",k,[(0,n.Lk)("div",h,(0,i.v_)(e.$t("message.create_pin_title")),1),(0,n.Lk)("div",g,[(0,n.Lk)("div",_,[r.value?((0,n.uX)(),(0,n.Wv)(c.A,{key:0})):(0,n.Q3)("",!0),(0,n.Lk)("div",y,[(0,n.Lk)("div",w,(0,i.v_)(e.$t("message.create_pin_wallet_name_label")),1),(0,n.Lk)("div",L,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:(0,i.C4)(["input big",{error:!v.value&&b.value,success:v.value&&b.value}]),"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:e.$t("message.create_pin_wallet_name_placeholder"),onInput:de,onTouchend:a[1]||(a[1]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[2]||(a[2]=e=>(0,o.R1)(s).emit("hide_keyboard"))},null,42,R),[[t.Jo,p.value]])])]),(0,n.Lk)("div",f,[(0,n.Lk)("div",K,(0,i.v_)(e.$t("message.create_pin_create_pin_label")),1),(0,n.Lk)("div",T,[(0,n.Lk)("div",B,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[3]||(a[3]=e=>Z.value[0]=e),maxlength:"1",inputmode:"numeric",onTouchend:a[4]||(a[4]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[5]||(a[5]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[6]||(a[6]=e=>ce(e,1)),onKeydown:a[7]||(a[7]=(0,t.jR)((e=>re(e,0)),["backspace"]))},null,544),[[t.Jo,Z.value[0]]])]),(0,n.Lk)("div",x,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[8]||(a[8]=e=>Z.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[0].length,onTouchend:a[9]||(a[9]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[10]||(a[10]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[11]||(a[11]=e=>ce(e,2)),onKeydown:a[12]||(a[12]=(0,t.jR)((e=>re(e,1)),["backspace"]))},null,40,C),[[t.Jo,Z.value[1]]])]),(0,n.Lk)("div",j,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[13]||(a[13]=e=>Z.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[1].length,onTouchend:a[14]||(a[14]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[15]||(a[15]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[16]||(a[16]=e=>ce(e,3)),onKeydown:a[17]||(a[17]=(0,t.jR)((e=>re(e,2)),["backspace"]))},null,40,I),[[t.Jo,Z.value[2]]])]),(0,n.Lk)("div",A,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[18]||(a[18]=e=>Z.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[2].length,onTouchend:a[19]||(a[19]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[20]||(a[20]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[21]||(a[21]=e=>ce(e,4)),onKeydown:a[22]||(a[22]=(0,t.jR)((e=>re(e,3)),["backspace"]))},null,40,J),[[t.Jo,Z.value[3]]])]),(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[23]||(a[23]=e=>Z.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[3].length,onTouchend:a[24]||(a[24]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[25]||(a[25]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[26]||(a[26]=e=>ce(e,5)),onKeydown:a[27]||(a[27]=(0,t.jR)((e=>re(e,4)),["backspace"]))},null,40,V),[[t.Jo,Z.value[4]]])]),(0,n.Lk)("div",W,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[28]||(a[28]=e=>Z.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[4].length,onTouchend:a[29]||(a[29]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[30]||(a[30]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[31]||(a[31]=e=>ce(e,6)),onKeydown:a[32]||(a[32]=(0,t.jR)((e=>re(e,5)),["backspace"]))},null,40,$),[[t.Jo,Z.value[5]]])])])]),(0,n.Lk)("div",E,[(0,n.Lk)("div",X,(0,i.v_)(e.$t("message.create_pin_confirm_pin_label")),1),(0,n.Lk)("div",{class:(0,i.C4)(["row",{error:le.value[5].length&&!pe.value,success:le.value[5].length&&pe.value}])},[(0,n.Lk)("div",M,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[33]||(a[33]=e=>le.value[0]=e),maxlength:"1",inputmode:"numeric",disabled:!Z.value[3].length,onTouchend:a[34]||(a[34]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[35]||(a[35]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[36]||(a[36]=e=>ce(e,1)),onKeydown:a[37]||(a[37]=(0,t.jR)((e=>re(e,0)),["backspace"]))},null,40,Q),[[t.Jo,le.value[0]]])]),(0,n.Lk)("div",q,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[38]||(a[38]=e=>le.value[1]=e),maxlength:"1",inputmode:"numeric",disabled:!le.value[0].length,onTouchend:a[39]||(a[39]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[40]||(a[40]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[41]||(a[41]=e=>ce(e,2)),onKeydown:a[42]||(a[42]=(0,t.jR)((e=>re(e,1)),["backspace"]))},null,40,D),[[t.Jo,le.value[1]]])]),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[43]||(a[43]=e=>le.value[2]=e),maxlength:"1",inputmode:"numeric",disabled:!le.value[1].length,onTouchend:a[44]||(a[44]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[45]||(a[45]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[46]||(a[46]=e=>ce(e,3)),onKeydown:a[47]||(a[47]=(0,t.jR)((e=>re(e,2)),["backspace"]))},null,40,S),[[t.Jo,le.value[2]]])]),(0,n.Lk)("div",G,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[48]||(a[48]=e=>le.value[3]=e),maxlength:"1",inputmode:"numeric",disabled:!le.value[2].length,onTouchend:a[49]||(a[49]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[50]||(a[50]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[51]||(a[51]=e=>ce(e,4)),onKeydown:a[52]||(a[52]=(0,t.jR)((e=>re(e,3)),["backspace"]))},null,40,N),[[t.Jo,le.value[3]]])]),(0,n.Lk)("div",z,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[53]||(a[53]=e=>le.value[4]=e),maxlength:"1",inputmode:"numeric",disabled:!le.value[3].length,onTouchend:a[54]||(a[54]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[55]||(a[55]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[56]||(a[56]=e=>ce(e,5)),onKeydown:a[57]||(a[57]=(0,t.jR)((e=>re(e,4)),["backspace"]))},null,40,F),[[t.Jo,le.value[4]]])]),(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("input",{type:"password",class:"input big","onUpdate:modelValue":a[58]||(a[58]=e=>le.value[5]=e),maxlength:"1",inputmode:"numeric",disabled:!le.value[4].length,onTouchend:a[59]||(a[59]=e=>(0,o.R1)(s).emit("show_keyboard")),onBlur:a[60]||(a[60]=e=>(0,o.R1)(s).emit("hide_keyboard")),onInput:a[61]||(a[61]=e=>ce(e,6)),onKeydown:a[62]||(a[62]=(0,t.jR)((e=>re(e,5)),["backspace"]))},null,40,O),[[t.Jo,le.value[5]]])])],2)]),se.value?((0,n.uX)(),(0,n.CE)("button",{key:1,class:(0,i.C4)(["biometric_btn",{enabled:te.value}]),onClick:(0,t.D$)(be,["prevent"])},["face"===ue.value?((0,n.uX)(),(0,n.CE)("svg",Y,ee)):((0,n.uX)(),(0,n.CE)("svg",ae,ne)),(0,n.Lk)("span",null,(0,i.v_)(e.$t("message.btn_biometric")),1),ie],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",oe,[(0,n.Lk)("div",{class:(0,i.C4)(["btn",{disabled:!ve.value}]),onClick:a[63]||(a[63]=(0,t.D$)((e=>he()),["prevent"]))},[(0,n.Lk)("span",null,(0,i.v_)(e.$t("message.btn_next")),1)],2)])])])])]))}},se=l(71241);const ue=(0,se.A)(te,[["__scopeId","data-v-0ec2ab2c"]]);var de=ue}}]);
//# sourceMappingURL=693.2ece25a4.js.map