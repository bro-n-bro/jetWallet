"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[463],{71463:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});s(44114),s(14603),s(47566),s(98721);var a=s(56768),n=s(24232),o=s(96011),i=s(81387),c=s(67278);const r={class:"page_container get_address"},d={class:"cont"},l={class:"page_title"},p={class:"page_data_wrap"},_={class:"page_data"},g={class:"desc"},u={class:"btns"};var m={__name:"GetAddress",setup(e){const t=(0,o.o)(),s=(0,i.rd)(),m=(0,c.hN)(),b=(0,a.WQ)("i18n");async function f(){await fetch(`https://api.telegram.org/bot${t.tgBotToken}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t.tgChatId,protect_content:!0,disable_notification:!0,text:`Address: ${t.currentAddress}`})}).then((e=>e.json())).then((e=>{m.notify({group:"default",speed:200,duration:1e3,title:b.global.t("message.notification_jp_get_address_title"),type:"success"})})).catch((e=>{console.error(e),m.notify({group:"default",speed:200,duration:1e3,title:b.global.t("message.notification_error_title"),type:"error"})})),s.push("/account")}function h(){s.push("/account")}return(0,a.KC)((async()=>{t.isInitialized||await t.initApp()})),(0,a.sV)((()=>{if(window.Telegram&&window.Telegram.WebApp){const e=decodeURIComponent(Telegram.WebApp.initData),s=JSON.parse(new URLSearchParams(e).get("user"));t.tgChatId=s.id}})),(e,t)=>((0,a.uX)(),(0,a.CE)("section",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",l,(0,n.v_)(e.$t("message.jp_get_address_title")),1),(0,a.Lk)("div",p,[(0,a.Lk)("div",_,[(0,a.Lk)("div",g,(0,n.v_)(e.$t("message.jp_get_address_desc")),1),(0,a.Lk)("div",u,[(0,a.Lk)("button",{class:"btn",onClick:t[0]||(t[0]=e=>f())},[(0,a.Lk)("span",null,(0,n.v_)(e.$t("message.btn_approve")),1)]),(0,a.Lk)("button",{class:"btn purple_btn",onClick:t[1]||(t[1]=e=>h())},[(0,a.Lk)("span",null,(0,n.v_)(e.$t("message.btn_reject")),1)])])])])])]))}},b=s(71241);const f=(0,b.A)(m,[["__scopeId","data-v-d6800e54"]]);var h=f}}]);
//# sourceMappingURL=463.fac00c0d.js.map