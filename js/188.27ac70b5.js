"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[188],{58342:function(e,a,t){t.d(a,{A:function(){return h}});var s=t(56768),r=t(45130),n=t(24113),o=t(90144);const l=e=>((0,s.Qi)("data-v-5e44c6ba"),e=e(),(0,s.jt)(),e),i=n+"#ic_arrow_hor",c=n+"#ic_search",u=n+"#ic_close",k={class:"search"},v=l((()=>(0,s.Lk)("span",null,[(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":i})])],-1))),d=[v],_={class:"field"},m=l((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":c})],-1))),R=["placeholder"],p=l((()=>(0,s.Lk)("svg",null,[(0,s.Lk)("use",{"xlink:href":u})],-1))),L=[p];var g={__name:"Search",props:["source"],setup(e){const a=e,t=(0,s.WQ)("emitter"),n=(0,o.KR)("");function l(){setTimeout((()=>t.emit("search_focus")),100)}function i(){setTimeout((()=>t.emit("search_blur")),100)}function c(){t.emit("search",{query:n.value,source:a.source})}function u(){n.value="",t.emit("search",{query:n.value,source:a.source})}return(e,a)=>((0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("button",{class:"back_btn",onClick:(0,r.D$)(i,["prevent"])},d),(0,s.Lk)("div",_,[m,(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),class:"input",placeholder:e.$t("message.search_placeholder"),onFocus:l,onBlur:i,onInput:c},null,40,R),[[r.Jo,n.value]]),n.value.length?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"clear_btn",onClick:(0,r.D$)(u,["prevent"])},L)):(0,s.Q3)("",!0)])]))}},b=t(71241);const w=(0,b.A)(g,[["__scopeId","data-v-5e44c6ba"]]);var h=w},68570:function(e,a,t){t.r(a),t.d(a,{default:function(){return Te}});var s=t(56768),r=t(24232),n=t(90144),o=t(45130),l=t(24113),i=t(76750),c=t(61981),u=(t(88564),t(1955)),k=(t(44114),t(89114)),v=t(58342);const d=e=>((0,s.Qi)("data-v-b92b57be"),e=e(),(0,s.jt)(),e),_=l+"#ic_arrow_hor",m=l+"#ic_user",R=l+"#ic_check",p={class:"page_container validators_page"},L={class:"cont"},g={class:"head"},b=d((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":_})],-1))),w=[b],h={class:"page_title"},f={key:1,class:"validators"},C={key:0,class:"list"},x=["onClick"],y={class:"validator"},$={class:"logo"},N=["src"],X=d((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":m})],-1))),E={class:"moniker"},S={class:"commission"},V={key:0,class:"staked"},A={class:"logo"},D=["src"],F={class:"apr"},W=d((()=>(0,s.Lk)("br",null,null,-1))),K={class:"check"},Q={key:0},I=d((()=>(0,s.Lk)("use",{"xlink:href":R},null,-1))),T=[I],J={key:1,class:"empty"};var U={__name:"ValidatorsModal",setup(e){const a=(0,i.o)(),t=(0,s.WQ)("emitter"),l=(0,n.KR)(!1),u=(0,n.KR)([]),d=(0,n.KR)([]);function _(e){return a.stakedBalances.find((a=>a.validator_info.operator_address===e))}function m(e){a.stakeCurrentValidator=e,t.emit("close_validators_modal")}return(0,s.KC)((async()=>{u.value=(await a.getValidators()).validators,u.value.sort(((e,a)=>parseInt(e.tokens)>parseInt(a.tokens)?-1:parseInt(e.tokens)<parseInt(a.tokens)?1:0)),d.value=u.value,l.value=!0})),t.on("search",(({query:e,source:a})=>{if("validators"===a){d.value=[];for(let a in u.value)u.value[a].description.moniker.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&d.value.push(u.value[a])}})),(e,i)=>((0,s.uX)(),(0,s.CE)("section",p,[(0,s.Lk)("div",L,[(0,s.Lk)("div",g,[(0,s.Lk)("button",{class:"back_btn",onClick:i[0]||(i[0]=e=>(0,n.R1)(t).emit("close_validators_modal"))},w),(0,s.Lk)("div",h,(0,r.v_)(e.$t("message.validators_page_title")),1)]),(0,s.bF)(v.A,{source:"validators"}),l.value?((0,s.uX)(),(0,s.CE)("div",f,[d.value.length?((0,s.uX)(),(0,s.CE)("div",C,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.value,((t,l)=>((0,s.uX)(),(0,s.CE)("div",{class:"item",key:l},[(0,s.Lk)("div",{class:(0,r.C4)(["validator_wrap",{current:(0,n.R1)(a).stakeCurrentValidator&&(0,n.R1)(a).stakeCurrentValidator.operator_address===t.operator_address}]),onClick:(0,o.D$)((e=>m(t)),["prevent"])},[(0,s.Lk)("div",y,[(0,s.Lk)("div",$,[(0,s.Lk)("img",{src:`https://raw.githubusercontent.com/cosmostation/chainlist/main/chain/${(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].prefix}/moniker/${t.operator_address}.png`,alt:"",loading:"lazy",onError:i[1]||(i[1]=e=>(0,n.R1)(c.on)(e))},null,40,N),X]),(0,s.Lk)("div",null,[(0,s.Lk)("div",E,(0,r.v_)(t.description.moniker),1),(0,s.Lk)("div",S,(0,r.v_)((100*t.commission.commission_rates.rate).toLocaleString("ru-RU",{maximumFractionDigits:2}))+"% ",1),(e.item=_(t.operator_address))?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.eW)((0,r.v_)(e.$t("message.validatoes_staked_label"))+" "+(0,r.v_)((0,n.R1)(c.NJ)(e.item.balance.amount,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" ",1),(0,s.Lk)("div",A,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,D)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",F,[(0,s.Lk)("span",null,[(0,s.eW)((0,r.v_)(e.$t("message.stake_APR_label")),1),W,(0,s.eW)(" "+(0,r.v_)((100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR-100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR*t.commission.commission_rates.rate).toFixed(2))+"%",1)])]),(0,s.Lk)("div",K,[(0,n.R1)(a).stakeCurrentValidator&&(0,n.R1)(a).stakeCurrentValidator.operator_address===t.operator_address?((0,s.uX)(),(0,s.CE)("svg",Q,T)):(0,s.Q3)("",!0)])])],10,x)])))),128))])):((0,s.uX)(),(0,s.CE)("div",J,(0,r.v_)(e.$t("message.search_empty_validator")),1))])):((0,s.uX)(),(0,s.Wv)(k.A,{key:0}))])]))}},B=t(71241);const P=(0,B.A)(U,[["__scopeId","data-v-b92b57be"]]);var j=P;const q=e=>((0,s.Qi)("data-v-f1d248f8"),e=e(),(0,s.jt)(),e),M=l+"#ic_arrow_hor",z=l+"#ic_arr_ver2",Y=l+"#ic_user",H={class:"page_container stake"},Z={class:"cont"},G={class:"head"},O=q((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":M})],-1))),ee={class:"page_title"},ae={class:"current_staked"},te={class:"label"},se={class:"data_wrap"},re={class:"data"},ne={class:"apr"},oe=q((()=>(0,s.Lk)("br",null,null,-1))),le={class:"token"},ie={class:"logo"},ce=["src"],ue={class:"denom"},ke={class:"unbonding_period"},ve={class:"balances"},de={class:"label"},_e={class:"amount"},me={class:"cost"},Re={class:"label"},pe={class:"amount"},Le={class:"cost"},ge={class:"validator_info"},be={class:"label"},we={class:"info"},he={class:"placeholder"},fe=q((()=>(0,s.Lk)("svg",{class:"arr"},[(0,s.Lk)("use",{"xlink:href":z})],-1))),Ce={class:"validator"},xe={class:"logo"},ye=["src"],$e=q((()=>(0,s.Lk)("svg",{class:"icon"},[(0,s.Lk)("use",{"xlink:href":Y})],-1))),Ne={class:"moniker"},Xe={key:0,class:"staked"},Ee={class:"logo"},Se=["src"],Ve=q((()=>(0,s.Lk)("svg",{class:"arr"},[(0,s.Lk)("use",{"xlink:href":z})],-1))),Ae={class:"amount"},De={class:"label"},Fe={class:"cost"},We={class:"field"},Ke={class:"btns"};var Qe={__name:"Stake",setup(e){const a=(0,i.o)(),t=(0,s.WQ)("emitter"),l=(0,n.KR)(!1),k=(0,n.KR)(!1),v=((0,n.KR)([]),(0,n.KR)(""));function d(){v.value=(0,c.NJ)((0,c.Rt)(),a.networks[a.currentNetwork].exponent)}function _(e){e.target.value.length&&e.target.value<=0&&(v.value=0),e.target.value>(0,c.NJ)((0,c.Rt)(),a.networks[a.currentNetwork].exponent)&&d()}function m(e){return a.stakedBalances.find((a=>a.validator_info.operator_address===e))}return(0,s.KC)((async()=>{a.stakeCurrentValidator=null,await a.getNetworkUnbondingTime()})),(0,s.hi)((()=>{t.off("auth"),t.off("close_sign_tx_modal"),t.off("close_validators_modal")})),t.on("auth",(()=>{k.value=!1,claim()})),t.on("close_sign_tx_modal",(()=>{k.value=!1})),t.on("close_validators_modal",(()=>{l.value=!1})),(e,i)=>{const R=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("section",H,[(0,s.Lk)("div",Z,[(0,s.Lk)("div",G,[(0,s.bF)(R,{to:"/account?activeSlide=1",class:"back_btn"},{default:(0,s.k6)((()=>[O])),_:1}),(0,s.Lk)("div",ee,(0,r.v_)(e.$t("message.stake_page_title")),1)]),(0,s.Lk)("div",ae,[(0,s.Lk)("div",te,(0,r.v_)(e.$t("message.stake_current_staked_label")),1),(0,s.Lk)("div",se,[(0,s.Lk)("div",re,[(0,s.Lk)("div",ne,[(0,s.Lk)("span",null,[(0,s.eW)((0,r.v_)(e.$t("message.stake_APR_label")),1),oe,(0,s.eW)(" "+(0,r.v_)((100*(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].APR).toFixed(2))+"%",1)])]),(0,s.Lk)("div",le,[(0,s.Lk)("div",ie,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,ce)]),(0,s.Lk)("div",null,[(0,s.Lk)("div",ue,(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",ke,(0,r.v_)(e.$t("message.stake_unbonding_period_label"))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].unbondingTime)+" "+(0,r.v_)(e.$t("message.stake_unbonding_time_unit")),1)])]),(0,s.Lk)("div",ve,[(0,s.Lk)("div",null,[(0,s.Lk)("div",de,(0,r.v_)(e.$t("message.stake_available_label")),1),(0,s.Lk)("div",_e,(0,r.v_)((0,n.R1)(c.NJ)((0,n.R1)(c.Rt)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",me,(0,r.v_)((0,n.R1)(a).currentCurrencySymbol)+" "+(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.Y$)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name,(0,n.R1)(c.Rt)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent))),1)]),(0,s.Lk)("div",null,[(0,s.Lk)("div",Re,(0,r.v_)(e.$t("message.stake_staked_label")),1),(0,s.Lk)("div",pe,(0,r.v_)((0,n.R1)(c.NJ)((0,n.R1)(c.cc)(),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" "+(0,r.v_)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name),1),(0,s.Lk)("div",Le,(0,r.v_)((0,n.R1)(a).currentCurrencySymbol)+(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.eZ)())),1)])])])])]),(0,s.Lk)("div",ge,[(0,s.Lk)("div",be,(0,r.v_)(e.$t("message.stake_validator_label")),1),(0,n.R1)(a).stakeCurrentValidator?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"validator_wrap",onClick:i[2]||(i[2]=(0,o.D$)((e=>l.value=!0),["prevent"]))},[(0,s.Lk)("div",Ce,[(0,s.Lk)("div",xe,[(0,s.Lk)("img",{src:`https://raw.githubusercontent.com/cosmostation/chainlist/main/chain/${(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].prefix}/moniker/${(0,n.R1)(a).stakeCurrentValidator.operator_address}.png`,alt:"",loading:"lazy",onError:i[1]||(i[1]=e=>(0,n.R1)(c.on)(e))},null,40,ye),$e]),(0,s.Lk)("div",null,[(0,s.Lk)("div",Ne,(0,r.v_)((0,n.R1)(a).stakeCurrentValidator.description.moniker),1),(e.item=m((0,n.R1)(a).stakeCurrentValidator.operator_address))?((0,s.uX)(),(0,s.CE)("div",Xe,[(0,s.eW)((0,r.v_)(e.$t("message.validatoes_staked_label"))+" "+(0,r.v_)((0,n.R1)(c.NJ)(e.item.balance.amount,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}))+" ",1),(0,s.Lk)("div",Ee,[(0,s.Lk)("img",{src:(0,n.R1)(c.oB)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].chain_id),alt:""},null,8,Se)])])):(0,s.Q3)("",!0)]),Ve])])):((0,s.uX)(),(0,s.CE)("div",{key:0,class:"info_wrap",onClick:i[0]||(i[0]=(0,o.D$)((e=>l.value=!0),["prevent"]))},[(0,s.Lk)("div",we,[(0,s.Lk)("div",he,(0,r.v_)(e.$t("message.stake_validator_placeholder")),1),fe])]))]),(0,s.Lk)("div",Ae,[(0,s.Lk)("div",De,[(0,s.eW)((0,r.v_)(e.$t("message.stake_amount_label"))+" ",1),(0,s.Lk)("div",Fe,(0,r.v_)((0,n.R1)(c.ST)((0,n.R1)(c.Y$)((0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].token_name,v.value*Math.pow(10,(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent),(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].exponent)))+" "+(0,r.v_)((0,n.R1)(a).currentCurrencySymbol),1)]),(0,s.Lk)("div",We,[(0,s.bo)((0,s.Lk)("input",{type:"number",inputmode:"numeric",class:"input big","onUpdate:modelValue":i[3]||(i[3]=e=>v.value=e),placeholder:"0.00",onInput:i[4]||(i[4]=e=>_(e))},null,544),[[o.Jo,v.value]]),(0,s.Lk)("button",{type:"button",class:"max_btn",onClick:(0,o.D$)(d,["prevent"])},(0,r.v_)(e.$t("message.btn_MAX")),1)])]),(0,s.Lk)("div",Ke,[(0,n.R1)(a).networks[(0,n.R1)(a).currentNetwork].currentTxHash?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"btn waiting_btn",onClick:i[6]||(i[6]=(0,o.D$)((e=>(0,n.R1)(t).emit("show_pending_notification")),["prevent"]))},[(0,s.Lk)("span",null,(0,r.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,s.uX)(),(0,s.CE)("button",{key:0,class:(0,r.C4)(["btn",{disabled:!(0,n.R1)(a).TxFee.isEnough}]),onClick:i[5]||(i[5]=(0,o.D$)((e=>k.value=!0),["prevent"]))},[(0,s.Lk)("span",null,(0,r.v_)(e.$t("message.btn_stake")),1)],2))])])]),l.value?((0,s.uX)(),(0,s.Wv)(j,{key:0})):(0,s.Q3)("",!0),k.value?((0,s.uX)(),(0,s.Wv)(u.A,{key:1})):(0,s.Q3)("",!0)],64)}}};const Ie=(0,B.A)(Qe,[["__scopeId","data-v-f1d248f8"]]);var Te=Ie}}]);
//# sourceMappingURL=188.27ac70b5.js.map