"use strict";(self["webpackChunkcosmos_telegram_signer"]=self["webpackChunkcosmos_telegram_signer"]||[]).push([[815],{91901:function(e,a,n){n.d(a,{A:function(){return p}});var l=n(56768),s=n(45130),t=n(24113),o=n(90144);const c=t+"#ic_arrow_hor",i=t+"#ic_search",r=t+"#ic_close",u={class:"search"},v={class:"field"},_=["placeholder"];var d={__name:"Search",props:["source"],setup(e){const a=e,n=(0,l.WQ)("emitter"),t=(0,o.KR)("");function d(){setTimeout((()=>n.emit("search_focus")),100)}function k(){setTimeout((()=>n.emit("search_blur")),100)}function m(){n.emit("search",{query:t.value,source:a.source})}function p(){t.value="",n.emit("search",{query:t.value,source:a.source})}return(e,a)=>((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("button",{class:"back_btn",onClick:(0,s.D$)(k,["prevent"])},a[2]||(a[2]=[(0,l.Lk)("span",null,[(0,l.Lk)("svg",null,[(0,l.Lk)("use",{"xlink:href":c})])],-1)])),(0,l.Lk)("div",v,[a[4]||(a[4]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":i})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),class:"input",placeholder:e.$t("message.search_placeholder"),onFocus:d,onBlur:k,onInput:m},null,40,_),[[s.Jo,t.value]]),t.value.length?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"clear_btn",onClick:a[1]||(a[1]=(0,s.D$)((e=>p()),["prevent"]))},a[3]||(a[3]=[(0,l.Lk)("svg",null,[(0,l.Lk)("use",{"xlink:href":r})],-1)]))):(0,l.Q3)("",!0)])]))}},k=n(71241);const m=(0,k.A)(d,[["__scopeId","data-v-aba77f5c"]]);var p=m},39167:function(e,a,n){n.d(a,{A:function(){return I}});n(44114);var l=n(56768),s=n(90144),t=n(24232),o=n(96011),c=n(90405),i=n(17086),r=n(91901),u=n(24113);const v=u+"#ic_check",_={class:"token"},d={class:"logo"},k=["src"],m={key:0,class:"check"},p={class:"denom"},h={class:"amount"},f={class:"val"},L={class:"cost"};var b={__name:"AvailableTokensItem",props:{balance:{type:Object,default:()=>({})},currentToken:{type:Object,default:()=>({denom:""})}},setup(e){const a=e,n=(0,o.useGlobalStore)();function i(e){return e===a.currentToken.denom}return(e,o)=>{const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.Wv)(r,{to:`/account/send?denom=${a.balance.denom}`,class:(0,t.C4)(["token_wrap",{current:i(a.balance.denom)}])},{default:(0,l.k6)((()=>[(0,l.Lk)("div",_,[(0,l.Lk)("div",d,[(0,l.Lk)("img",{src:a.balance.token_info.logo_URIs.svg,alt:"",loading:"lazy"},null,8,k),i(a.balance.denom)?((0,l.uX)(),(0,l.CE)("div",m,o[0]||(o[0]=[(0,l.Lk)("svg",null,[(0,l.Lk)("use",{"xlink:href":v})],-1)]))):(0,l.Q3)("",!0)]),(0,l.Lk)("div",p,(0,t.v_)(a.balance.token_info.symbol),1),(0,l.Lk)("div",h,[(0,l.Lk)("div",f,(0,t.v_)((0,s.R1)(c.NJ)(a.balance.amount,a.balance.exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}).replace(",",".")),1),(0,l.Lk)("div",L,(0,t.v_)((0,s.R1)(c.ST)((0,s.R1)(c.Y$)(a.balance.token_info.symbol,a.balance.amount,a.balance.exponent)))+" "+(0,t.v_)((0,s.R1)(n).currentCurrencySymbol),1)])])])),_:1},8,["to","class"])}}},g=n(71241);const C=(0,g.A)(b,[["__scopeId","data-v-2a50009b"]]);var y=C;const R={class:"available_tokens"},w={class:"cont"},x={key:1,class:"tokens"},$={key:0,class:"count"},E={key:1,class:"list"},B={key:2,class:"empty"};var X={__name:"AvailableTokens",props:["currentToken"],setup(e){const a=e,n=(0,o.useGlobalStore)(),u=(0,l.WQ)("emitter"),v=(0,s.KR)([]);return(0,l.KC)((()=>{n.isBalancesGot&&(v.value=n.balances)})),(0,l.wB)((0,l.EW)((()=>n.isBalancesGot)),(()=>{n.isBalancesGot&&(v.value=n.balances)})),u.on("search",(({query:e,source:a})=>{if("availables"===a){v.value=[];for(let a in n.balances)n.balances[a].token_info.symbol.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&v.value.push(n.balances[a])}})),(e,o)=>((0,l.uX)(),(0,l.CE)("section",R,[(0,l.Lk)("div",w,[(0,l.bF)(r.A,{source:"availables"}),(0,s.R1)(n).isInitialized&&(0,s.R1)(n).isBalancesGot?((0,l.uX)(),(0,l.CE)("div",x,[v.value.length===(0,s.R1)(n).balances.length?((0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("b",null,(0,t.v_)((0,s.R1)(n).balances.length),1),(0,l.eW)(" "+(0,t.v_)(e.$t("message.available_tokens_title")),1)])):(0,l.Q3)("",!0),v.value.length?((0,l.uX)(),(0,l.CE)("div",E,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(v.value,((e,n)=>((0,l.uX)(),(0,l.CE)("div",{class:"item",key:n,style:(0,t.Tr)(`order: ${parseInt(-1e6*(0,s.R1)(c.Y$)(e.token_info.symbol,e.amount,e.exponent))};`)},[(0,l.bF)(y,{balance:e,currentToken:a.currentToken},null,8,["balance","currentToken"])],4)))),128))])):((0,l.uX)(),(0,l.CE)("div",B,(0,t.v_)(e.$t("message.search_empty")),1))])):((0,l.uX)(),(0,l.Wv)(i.A,{key:0}))])]))}};const A=(0,g.A)(X,[["__scopeId","data-v-96d84aba"]]);var I=A},46964:function(e,a,n){n.d(a,{A:function(){return u}});var l=n(56768),s=n(45130),t=n(24113);const o=t+"#ic_scaner";var c={__name:"QRCodeScanner",setup(e){function a(){Telegram.WebApp.showScanQrPopup({text:""})}return(e,n)=>((0,l.uX)(),(0,l.CE)("button",{class:"btn",onClick:n[0]||(n[0]=(0,s.D$)((e=>a()),["prevent"]))},n[1]||(n[1]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":o})],-1)])))}},i=n(71241);const r=(0,i.A)(c,[["__scopeId","data-v-1412c06e"]]);var u=r},34815:function(e,a,n){n.r(a),n.d(a,{default:function(){return Pa}});var l=n(56768),s=n(24232),t=n(45130),o=n(90144),c=n(24113),i=n(96011),r=n(81387),u=n(67278),v=n(89354),_=n(76055),d=n(90405),k=n(17086),m=n(39167);const p=c+"#ic_arrow_hor",h={class:"page_container inner_page_container tokens_page"},f={class:"cont"},L={class:"head"},b={class:"page_title"};var g={__name:"TokensModal",props:["currentToken"],setup(e){const a=e,n=(0,l.WQ)("emitter");return(e,t)=>((0,l.uX)(),(0,l.CE)("section",h,[(0,l.Lk)("div",f,[(0,l.Lk)("div",L,[(0,l.Lk)("button",{class:"back_btn",onClick:t[0]||(t[0]=e=>(0,o.R1)(n).emit("close_tokens_modal"))},t[1]||(t[1]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":p})],-1)])),(0,l.Lk)("div",b,(0,s.v_)(e.$t("message.tokens_page_title")),1)]),(0,l.bF)(m.A,{class:"inside_modal",currentToken:a.currentToken},null,8,["currentToken"])])]))}},C=n(71241);const y=(0,C.A)(g,[["__scopeId","data-v-76033aec"]]);var R=y,w=n(20475),x=(n(44114),n(91901));const $=c+"#ic_close",E=c+"#ic_user",B={class:"modal"},X={class:"modal_content"},A={class:"data"},I={class:"modal_title"},T={class:"chain_field"},S={class:"field_label"},K={class:"field"},W={class:"logo"},F=["src"],Q={class:"name"},N={key:1,class:"select"},D=["placeholder"],q={key:0,class:"list"},M=["onClick"],U={class:"chain"},J={class:"logo"},G=["src"],O={class:"name"},V={key:1,class:"empty"},P={class:"channel_id_field"},Y={class:"field_label"},j={class:"field"},z=["placeholder"],H={class:"btns"};var Z={__name:"AddIBCChannelModal",setup(e){const a=(0,i.useGlobalStore)(),n=(0,l.WQ)("emitter"),c=(0,l.WQ)("i18n"),r=(0,u.hN)(),v=(0,o.KR)([]),k=(0,o.KR)(""),m=(0,o.KR)([]),p=(0,o.KR)(null),h=(0,o.KR)(""),f=(0,o.KR)(!0),L=(0,o.KR)((0,l.EW)((()=>h.value.length&&p.value)));function b(){m.value=[];for(let e in v.value)v.value[e].pretty_name.toLocaleLowerCase().includes(k.value.toLocaleLowerCase())&&m.value.push(v.value[e])}function g(e){p.value=e,f.value=!1}function C(){navigator.clipboard.readText().then((e=>{h.value=e}))}async function y(){try{p.value.pretty_name=p.value.pretty_name+h.value.split("-")[1],await a.setUserChannel({info:p.value,channel_id:h.value}),r.notify({group:"default",speed:200,duration:1e3,title:c.global.t("message.notification_add_user_channel_success"),type:"success"}),n.emit("close_add_IBC_channel_modal",{reload:!0})}catch(e){console.log(e)}}return(0,l.KC)((()=>{v.value=_.Bt,v.value=v.value.filter((e=>void 0!==e.chain_id&&1!=e.chain_id&&30!=e.chain_id&&"mainnet"===e.network_type)),m.value=v.value})),(0,l.hi)((()=>{n.off("close_add_IBC_channel_modal")})),(e,a)=>((0,l.uX)(),(0,l.CE)("section",B,[(0,l.Lk)("div",X,[(0,l.Lk)("div",A,[(0,l.Lk)("button",{class:"close_btn",onClick:a[0]||(a[0]=(0,t.D$)((e=>(0,o.R1)(n).emit("close_add_IBC_channel_modal",{reload:!1})),["prevent"]))},a[9]||(a[9]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":$})],-1)])),(0,l.Lk)("div",I,(0,s.v_)(e.$t("message.add_IBC_channel_title")),1),(0,l.Lk)("div",T,[(0,l.Lk)("div",S,(0,s.v_)(e.$t("message.add_IBC_channel_chain_label")),1),(0,l.Lk)("div",K,[p.value&&!f.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"selected",onClick:a[2]||(a[2]=(0,t.D$)((e=>f.value=!0),["prevent"]))},[(0,l.Lk)("div",W,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)(p.value.chain_id),alt:"",onError:a[1]||(a[1]=e=>(0,o.R1)(d.on)(e))},null,40,F),a[10]||(a[10]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":E})],-1))]),(0,l.Lk)("div",null,[(0,l.Lk)("div",Q,(0,s.v_)(p.value.pretty_name),1)])])):(0,l.Q3)("",!0),f.value?((0,l.uX)(),(0,l.CE)("div",N,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":a[3]||(a[3]=e=>k.value=e),placeholder:e.$t("message.add_IBC_channel_chain_placeholder"),onInput:a[4]||(a[4]=e=>b())},null,40,D),[[t.Jo,k.value]]),m.value.length?((0,l.uX)(),(0,l.CE)("div",q,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.value,((e,n)=>((0,l.uX)(),(0,l.CE)("div",{class:"item",key:n},[(0,l.Lk)("div",{class:(0,s.C4)(["chain_wrap",{current:p.value?.chain_id===e.chain_id}]),onClick:(0,t.D$)((a=>g(e)),["prevent"])},[(0,l.Lk)("div",U,[(0,l.Lk)("div",J,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)(e.chain_id),alt:"",onError:a[5]||(a[5]=e=>(0,o.R1)(d.on)(e))},null,40,G),a[11]||(a[11]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":E})],-1))]),(0,l.Lk)("div",null,[(0,l.Lk)("div",O,(0,s.v_)(e.pretty_name),1)])])],10,M)])))),128))])):((0,l.uX)(),(0,l.CE)("div",V,(0,s.v_)(e.$t("message.search_empty_chains")),1))])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",P,[(0,l.Lk)("div",Y,(0,s.v_)(e.$t("message.add_IBC_channel_id_label")),1),(0,l.Lk)("div",j,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":a[6]||(a[6]=e=>h.value=e),placeholder:e.$t("message.placeholder_source_channel_ID")},null,8,z),[[t.Jo,h.value]]),(0,l.Lk)("button",{class:"paste_btn",onClick:a[7]||(a[7]=(0,t.D$)((e=>C()),["prevent"]))},(0,s.v_)(e.$t("message.btn_paste")),1)])]),(0,l.Lk)("div",H,[(0,l.Lk)("button",{class:(0,s.C4)(["btn",{disabled:!L.value}]),onClick:a[8]||(a[8]=(0,t.D$)((e=>y()),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.btn_save")),1)],2)])])])]))}};const ee=(0,C.A)(Z,[["__scopeId","data-v-0ac0d634"]]);var ae=ee;const ne=c+"#ic_arrow_hor",le=c+"#ic_plus",se=c+"#ic_user",te=c+"#ic_check",oe={class:"page_container inner_page_container chains_page"},ce={class:"cont"},ie={class:"head"},re={class:"page_title"},ue={class:"chains"},ve={key:0,class:"list"},_e=["onClick"],de={class:"chain"},ke={class:"logo"},me=["src"],pe={key:0,class:"check"},he={class:"name"},fe={key:1,class:"empty"};var Le={__name:"ChainsModal",setup(e){const a=(0,i.useGlobalStore)(),n=(0,l.WQ)("emitter"),c=(0,o.KR)([]),r=(0,o.KR)([]),u=(0,o.KR)(!1);async function v(){c.value=_.tX.filter((e=>e.chain_1.chain_name===a.currentNetwork||e.chain_2.chain_name===a.currentNetwork)).filter(((e,a,n)=>n.findIndex((a=>a.chain_1.chain_name===e.chain_1.chain_name&&a.chain_2.chain_name===e.chain_2.chain_name||a.chain_1.chain_name===e.chain_2.chain_name&&a.chain_2.chain_name===e.chain_1.chain_name))===a)),c.value.forEach((e=>{let n=e.chain_2.chain_name===a.currentNetwork?e.chain_1.chain_name:e.chain_2.chain_name;e.info=_.Bt.find((e=>e.chain_name===n))}));let e=await a.getAllUserChannels();void 0!==e&&(c.value=[...c.value,...e]),c.value.sort(((e,a)=>e.info.pretty_name<a.info.pretty_name?-1:e.info.pretty_name>a.info.pretty_name?1:0)),r.value=c.value}function k(e){if(a.IBCSendCurrentChain&&a.IBCSendCurrentChain.info.chain_id===e)return!0}function m(e){a.IBCSendCurrentChain=e,n.emit("close_chains_modal")}return(0,l.KC)((async()=>{await v()})),(0,l.hi)((()=>{n.off("close_any_modal"),n.off("close_add_IBC_channel_modal")})),n.on("search",(({query:e,source:a})=>{if("chains"===a){r.value=[];for(let a in c.value)c.value[a].info.pretty_name.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&r.value.push(c.value[a])}})),n.on("close_add_IBC_channel_modal",(()=>{u.value=!1})),n.on("close_any_modal",(()=>{u.value=!1,a.isAnyModalOpen=!1})),(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("section",oe,[(0,l.Lk)("div",ce,[(0,l.Lk)("div",ie,[(0,l.Lk)("button",{class:"back_btn",onClick:a[0]||(a[0]=e=>(0,o.R1)(n).emit("close_chains_modal"))},a[4]||(a[4]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":ne})],-1)])),(0,l.Lk)("div",re,(0,s.v_)(e.$t("message.chains_page_title")),1),(0,l.Lk)("button",{class:"add_chain_btn",onClick:a[1]||(a[1]=(0,t.D$)((e=>u.value=!0),["prevent"]))},[(0,l.Lk)("span",null,[a[5]||(a[5]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":le})],-1)),(0,l.eW)(" "+(0,s.v_)(e.$t("message.btn_add_chain")),1)])])]),(0,l.bF)(x.A,{source:"chains"}),(0,l.Lk)("div",ue,[r.value.length?((0,l.uX)(),(0,l.CE)("div",ve,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,((e,n)=>((0,l.uX)(),(0,l.CE)("div",{class:"item",key:n},[(0,l.Lk)("div",{class:(0,s.C4)(["chain_wrap",{current:k(e.info.chain_id)}]),onClick:(0,t.D$)((a=>m(e)),["prevent"])},[(0,l.Lk)("div",de,[(0,l.Lk)("div",ke,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)(e.info.chain_id),alt:"",onError:a[2]||(a[2]=e=>(0,o.R1)(d.on)(e))},null,40,me),a[7]||(a[7]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":se})],-1)),k(e.info.chain_id)?((0,l.uX)(),(0,l.CE)("div",pe,a[6]||(a[6]=[(0,l.Lk)("svg",null,[(0,l.Lk)("use",{"xlink:href":te})],-1)]))):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.Lk)("div",he,(0,s.v_)(e.info.pretty_name),1)])])],10,_e)])))),128))])):((0,l.uX)(),(0,l.CE)("div",fe,(0,s.v_)(e.$t("message.search_empty_validator")),1))])])]),(0,l.bF)(t.eB,{name:"modal"},{default:(0,l.k6)((()=>[u.value?((0,l.uX)(),(0,l.Wv)(ae,{key:0})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(t.eB,{name:"fade"},{default:(0,l.k6)((()=>[u.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal_overlay",onClick:a[3]||(a[3]=(0,t.D$)((e=>(0,o.R1)(n).emit("close_any_modal")),["prevent"]))})):(0,l.Q3)("",!0)])),_:1})],64))}};const be=(0,C.A)(Le,[["__scopeId","data-v-28a65ad3"]]);var ge=be,Ce=n(46964),ye=n(86255);const Re=c+"#ic_arrow_hor",we={class:"page_container inner_page_container send_confirm"},xe={class:"cont"},$e={class:"head"},Ee={class:"page_title"},Be={class:"data"},Xe={class:"field_label"},Ae={class:"info_wrap"},Ie={class:"info"},Te={class:"features"},Se={key:0},Ke={class:"label"},We={class:"val"},Fe=["src"],Qe={key:1},Ne={class:"label"},De={class:"val"},qe=["src"],Me={key:2},Ue={class:"label"},Je={class:"val"},Ge={key:3},Oe={class:"label"},Ve={class:"val"},Pe={class:"label"},Ye={class:"val"},je={class:"currency"},ze={class:"label"},He={class:"val"},Ze={class:"memo_field"},ea={class:"field_label"},aa={class:"field"},na=["placeholder"],la={class:"btns"};var sa={__name:"SendConfirmModal",props:["balance","amount","msgAny","type"],setup(e){const a=e,n=(0,i.useGlobalStore)(),c=(0,r.rd)(),v=(0,l.WQ)("emitter"),_=(0,l.WQ)("i18n"),m=(0,u.hN)(),p=(0,o.KR)(!1),h=(0,o.KR)(""),f=(0,l.EW)((()=>(0,d.NJ)(n.TxFee.userGasAmount*n.TxFee[`${n.TxFee.currentLevel}Price`],n.TxFee.balance.exponent))),L=(0,o.KR)(!1);async function b(){L.value=!0;try{n.TxFee.isRemember&&await n.updateTxFeeInfo();let e=await(0,d.qS)(a.msgAny,h.value);m.notify({group:"default",clean:!0}),m.notify({group:"default",speed:200,duration:-100,title:_.global.t("message.notification_tx_pending_title"),type:"pending",data:{isCollapsible:!0,explorer_link:(0,d.aS)(n.currentNetwork)}}),(0,d.nw)(e).catch((e=>{console.log(e),g(e)})),c.push("/account")}catch(e){console.log(e),g(e)}}function g(e){L.value=!1;let a="";a=e.code?_.global.t(`message.notification_tx_error_${e.code}`):_.global.t("message.notification_tx_error_rejected"),m.notify({group:"default",clean:!0}),m.notify({group:"default",speed:200,duration:6e3,title:_.global.t("message.notification_tx_error_title"),text:a,type:"error"}),n.networks[n.currentNetwork].currentTxHash=null,n.resetTxFee()}function C(){p.value=!0,n.isAnyModalOpen=!0}return(0,l.hi)((()=>{v.off("auth"),v.off("close_sign_tx_modal")})),v.on("auth",(()=>{p.value=!1,n.isAnyModalOpen=!1,b()})),v.on("close_sign_tx_modal",(()=>{p.value=!1,n.isAnyModalOpen=!1})),v.on("close_any_modal",(()=>{p.value=!1,n.isAnyModalOpen=!1})),(e,c)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("section",we,[L.value?((0,l.uX)(),(0,l.Wv)(k.A,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("div",xe,[(0,l.Lk)("div",$e,[(0,l.Lk)("button",{class:"back_btn",onClick:c[0]||(c[0]=e=>(0,o.R1)(v).emit("close_send_confirm_modal"))},c[4]||(c[4]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":Re})],-1)])),(0,l.Lk)("div",Ee,(0,s.v_)(e.$t("message.send_confirm_page_title")),1)]),(0,l.Lk)("div",Be,[(0,l.Lk)("div",Xe,(0,s.v_)(e.$t("message.details_label")),1),(0,l.Lk)("div",Ae,[(0,l.Lk)("div",Ie,[(0,l.Lk)("div",Te,[2===a.type?((0,l.uX)(),(0,l.CE)("div",Se,[(0,l.Lk)("div",Ke,(0,s.v_)(e.$t("message.send_confirm_chain_from_label")),1),(0,l.Lk)("div",We,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)((0,o.R1)(n).networks[(0,o.R1)(n).currentNetwork].chain_id),alt:""},null,8,Fe),(0,l.Lk)("span",null,(0,s.v_)((0,o.R1)(n).networks[(0,o.R1)(n).currentNetwork].name),1)])])):(0,l.Q3)("",!0),2===a.type?((0,l.uX)(),(0,l.CE)("div",Qe,[(0,l.Lk)("div",Ne,(0,s.v_)(e.$t("message.send_confirm_chain_to_label")),1),(0,l.Lk)("div",De,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)((0,o.R1)(n).IBCSendCurrentChain?.info.chain_id),alt:""},null,8,qe),(0,l.Lk)("span",null,(0,s.v_)((0,o.R1)(n).IBCSendCurrentChain?.info.pretty_name),1)])])):(0,l.Q3)("",!0),1===a.type?((0,l.uX)(),(0,l.CE)("div",Me,[(0,l.Lk)("div",Ue,(0,s.v_)(e.$t("message.send_confirm_receiver_label")),1),(0,l.Lk)("div",Je,[(0,l.Lk)("span",null,(0,s.v_)(a.msgAny[0].value.toAddress.slice(0,9)+"..."+a.msgAny[0].value.toAddress.slice(-6)),1)])])):(0,l.Q3)("",!0),2===a.type?((0,l.uX)(),(0,l.CE)("div",Ge,[(0,l.Lk)("div",Oe,(0,s.v_)(e.$t("message.send_confirm_receiver_label")),1),(0,l.Lk)("div",Ve,[(0,l.Lk)("span",null,(0,s.v_)(a.msgAny[0].value.receiver.slice(0,9)+"..."+a.msgAny[0].value.receiver.slice(-6)),1)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.Lk)("div",Pe,(0,s.v_)(e.$t("message.stake_confirm_amount_label")),1),(0,l.Lk)("div",Ye,[(0,l.eW)((0,s.v_)(a.amount)+" "+(0,s.v_)(a.balance.token_info.symbol)+" ",1),(0,l.Lk)("span",je," ("+(0,s.v_)((0,o.R1)(d.ST)((0,o.R1)(d.Yq)(a.amount,a.balance.token_info.symbol)))+(0,s.v_)((0,o.R1)(n).currentCurrencySymbol)+") ",1)])]),(0,l.Lk)("div",null,[(0,l.Lk)("div",ze,(0,s.v_)(e.$t("message.send_confirm_fee_label")),1),(0,l.Lk)("div",He,(0,s.v_)(f.value.toLocaleString("ru-RU",{maximumFractionDigits:5}).replace(",","."))+" "+(0,s.v_)((0,o.R1)(n).networks[(0,o.R1)(n).currentNetwork].token_name),1)])])])])]),(0,l.Lk)("div",Ze,[(0,l.Lk)("div",ea,(0,s.v_)(e.$t("message.memo_label")),1),(0,l.Lk)("div",aa,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":c[1]||(c[1]=e=>h.value=e),placeholder:e.$t("message.placeholder_memo")},null,8,na),[[t.Jo,h.value]])])]),(0,l.Lk)("div",la,[(0,l.Lk)("button",{class:"btn",onClick:c[2]||(c[2]=(0,t.D$)((e=>C()),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.btn_confirm_send")),1)])])])]),(0,l.bF)(t.eB,{name:"modal"},{default:(0,l.k6)((()=>[p.value?((0,l.uX)(),(0,l.Wv)(ye.A,{key:0})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(t.eB,{name:"fade"},{default:(0,l.k6)((()=>[p.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal_overlay",onClick:c[3]||(c[3]=(0,t.D$)((e=>(0,o.R1)(v).emit("close_any_modal")),["prevent"]))})):(0,l.Q3)("",!0)])),_:1})],64))}};const ta=(0,C.A)(sa,[["__scopeId","data-v-44ff5cb1"]]);var oa=ta;const ca=c+"#ic_arrow_hor",ia=c+"#ic_arr_ver2",ra=c+"#ic_user",ua={class:"page_container inner_page_container send"},va={class:"cont"},_a={class:"head"},da={class:"tabs_wrap"},ka={class:"tabs"},ma={class:"token"},pa={class:"logo"},ha=["src"],fa={class:"denom"},La={class:"amount"},ba={class:"val"},ga={class:"cost"},Ca={class:"token"},ya={class:"logo"},Ra=["src"],wa={class:"denom"},xa={class:"amount"},$a={class:"cost"},Ea={key:2,class:"destination_chain"},Ba={class:"field_label"},Xa={class:"info"},Aa={class:"placeholder"},Ia={class:"chain"},Ta={class:"logo"},Sa=["src"],Ka={class:"name"},Wa={class:"address"},Fa={class:"field_label"},Qa={class:"field"},Na=["placeholder"],Da={class:"amount_field"},qa={class:"field_label"},Ma={class:"cost"},Ua={class:"field"},Ja=["placeholder"],Ga={class:"btns"};var Oa={__name:"SendPage",setup(e){const a=(0,i.useGlobalStore)(),n=(0,r.lq)(),c=(0,l.WQ)("emitter"),m=(0,l.WQ)("i18n"),p=(0,u.hN)(),h=(0,o.KR)(1),f=(0,o.KR)(null),L=(0,o.KR)(null),b=[f,L],g=(0,o.KR)(null),C=(0,o.KR)(null),y=(0,o.KR)(a.balances.find((e=>e.denom===n.query.denom))),x=(0,o.KR)(null),$=(0,o.KR)(n.query.address||""),E=(0,o.KR)(n.query.amount||""),B=(0,o.KR)(!1),X=(0,o.KR)(!1),A=(0,o.KR)(!1),I=(0,o.KR)([]),T=(0,o.KR)(!1),S=(0,o.KR)(!1),K=(0,o.KR)(!1),W=(0,o.KR)((0,l.EW)((()=>S.value&&K.value&&(2!==h.value||a.IBCSendCurrentChain))));function F(){$.value="",E.value="",T.value=!1,S.value=!1,K.value=!1,x.value.classList.remove("error"),y.value=a.balances.find((e=>e.denom===n.query.denom)),n.query.address&&($.value=n.query.address,Q()),c.emit("close_any_modal")}function Q(){try{let{prefix:e,data:n}=(0,v.fromBech32)($.value);1===h.value&&(e==a.networks[a.currentNetwork].prefix&&n.length==a.networks[a.currentNetwork].address_length?(x.value.classList.remove("error"),K.value=!0):(x.value.classList.add("error"),K.value=!1)),2===h.value&&(e==a.IBCSendCurrentChain.info.bech32_prefix?(x.value.classList.remove("error"),K.value=!0):(x.value.classList.add("error"),K.value=!1))}catch(e){x.value.classList.add("error"),K.value=!1}}function N(){S.value=!1,setTimeout((()=>{E.value=(0,d.NJ)(y.value.amount,y.value.exponent),S.value=!0}))}function D(){S.value=!1,setTimeout((()=>{E.value.length&&E.value<=0&&(E.value=""),E.value&&E.value>0&&E.value<(0,d.NJ)(y.value.amount,y.value.exponent)&&(S.value=!0),E.value>(0,d.NJ)(y.value.amount,y.value.exponent)&&N()}))}function q(){navigator.clipboard.readText().then((e=>{try{let{prefix:n,data:l}=(0,v.fromBech32)(e);n==a.networks[a.currentNetwork].prefix&&l.length==a.networks[a.currentNetwork].address_length?$.value=e:p.notify({group:"default",speed:200,duration:1e3,title:m.global.t("message.notification_tx_error_title"),text:m.global.t("message.notification_error_invalid_paste_title"),type:"error"})}catch(n){p.notify({group:"default",speed:200,duration:1e3,title:m.global.t("message.notification_tx_error_title"),text:m.global.t("message.notification_error_invalid_paste_title"),type:"error"})}}))}function M(){B.value=!0}function U(){X.value=!0}return(0,l.sV)((()=>{$.value&&Q(),E.value&&D(),Telegram.WebApp.onEvent("qrTextReceived",(()=>{F()})),g.value=b[h.value-1].value.offsetWidth,C.value=b[h.value-1].value.offsetLeft})),(0,l.hi)((()=>{c.off("auth"),c.off("close_send_confirm_modal"),Telegram.WebApp.offEvent("qrTextReceived")})),(0,l.wB)((0,l.EW)((()=>h.value)),(()=>{if(g.value=b[h.value-1].value.offsetWidth,C.value=b[h.value-1].value.offsetLeft,a.IBCSendCurrentChain=null,2===h.value&&$.value&&Q(),2===h.value&&y.value.denom.toLowerCase().startsWith("ibc/")){let e=_.tX.filter((e=>e.chain_1.chain_name===a.currentNetwork&&e.chain_2.chain_name===y.value.chain_info.chain_name||e.chain_2.chain_name===a.currentNetwork&&e.chain_1.chain_name===y.value.chain_info.chain_name)).filter(((e,a,n)=>n.findIndex((a=>a.chain_1.chain_name===e.chain_1.chain_name&&a.chain_2.chain_name===e.chain_2.chain_name||a.chain_1.chain_name===e.chain_2.chain_name&&a.chain_2.chain_name===e.chain_1.chain_name))===a));e.length&&(e[0].info=y.value.chain_info,a.IBCSendCurrentChain=e[0])}})),(0,l.wB)((0,l.EW)((()=>a.IBCSendCurrentChain)),(()=>{$.value&&Q()})),(0,l.wB)((0,l.EW)((()=>n.query.denom)),(()=>{F()})),(0,l.wB)((0,l.EW)((()=>n.query.address)),(()=>{F()})),(0,l.wB)((0,l.EW)((()=>W.value)),(()=>{if(W.value&&1===h.value&&(I.value=[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:{fromAddress:a.currentAddress,toAddress:$.value,amount:[{denom:y.value.denom,amount:""+parseFloat(E.value.toString().replace(",",".")).toFixed(y.value.exponent)*Math.pow(10,y.value.exponent)}]}}]),W.value&&2===h.value){let e=a.IBCSendCurrentChain.chain_1.chain_name===a.currentNetwork?a.IBCSendCurrentChain.channels[0].chain_1.channel_id:a.IBCSendCurrentChain.channels[0].chain_2.channel_id;I.value=[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:{sender:a.currentAddress,receiver:$.value,sourceChannel:e,sourcePort:"transfer",token:{denom:y.value.denom,amount:""+parseFloat(E.value.toString().replace(",",".")).toFixed(y.value.exponent)*Math.pow(10,y.value.exponent)},timeoutHeight:{},timeoutTimestamp:1e6*(Date.now()+6e4)}}]}})),c.on("close_chains_modal",(()=>{X.value=!1})),c.on("close_tokens_modal",(()=>{B.value=!1})),c.on("close_send_confirm_modal",(()=>{A.value=!1})),c.on("close_any_modal",(()=>{B.value=!1,a.isAnyModalOpen=!1})),(e,n)=>{const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("section",ua,[T.value?((0,l.uX)(),(0,l.Wv)(k.A,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("div",va,[(0,l.Lk)("div",_a,[(0,l.bF)(i,{to:"/account",class:"back_btn"},{default:(0,l.k6)((()=>n[15]||(n[15]=[(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":ca})],-1)]))),_:1}),(0,l.Lk)("div",da,[(0,l.Lk)("div",ka,[(0,l.Lk)("button",{class:(0,s.C4)(["btn",{active:1===h.value}]),ref_key:"tab1",ref:f,onClick:n[0]||(n[0]=(0,t.D$)((e=>h.value=1),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.send_page_tab1")),1)],2),(0,l.Lk)("button",{class:(0,s.C4)(["btn",{active:2===h.value}]),ref_key:"tab2",ref:L,onClick:n[1]||(n[1]=(0,t.D$)((e=>h.value=2),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.send_page_tab2")),1)],2),(0,l.Lk)("div",{class:"roller",style:(0,s.Tr)(`width: ${g.value}px; left: ${C.value}px;`)},n[16]||(n[16]=[(0,l.Lk)("span",null,null,-1)]),4)])])]),y.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"token_wrap",onClick:n[2]||(n[2]=(0,t.D$)((e=>M()),["prevent"]))},[(0,l.Lk)("div",ma,[(0,l.Lk)("div",pa,[(0,l.Lk)("img",{src:y.value.token_info.logo_URIs.svg,alt:"",loading:"lazy"},null,8,ha)]),(0,l.Lk)("div",fa,(0,s.v_)(y.value.token_info.symbol),1),(0,l.Lk)("div",La,[(0,l.Lk)("div",ba,(0,s.v_)((0,o.R1)(d.NJ)(y.value.amount,y.value.exponent).toLocaleString("ru-RU",{maximumFractionDigits:7}).replace(",",".")),1),(0,l.Lk)("div",ga,(0,s.v_)((0,o.R1)(d.ST)((0,o.R1)(d.Y$)(y.value.token_info.symbol,y.value.amount,y.value.exponent)))+" "+(0,s.v_)((0,o.R1)(a).currentCurrencySymbol),1)])])])):((0,l.uX)(),(0,l.CE)("div",{key:1,class:"token_wrap",onClick:n[3]||(n[3]=(0,t.D$)((e=>M()),["prevent"]))},[(0,l.Lk)("div",Ca,[(0,l.Lk)("div",ya,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)((0,o.R1)(a).networks[(0,o.R1)(a).currentNetwork].chain_id),alt:""},null,8,Ra)]),(0,l.Lk)("div",wa,(0,s.v_)((0,o.R1)(a).networks[(0,o.R1)(a).currentNetwork].token_name),1),(0,l.Lk)("div",xa,[n[17]||(n[17]=(0,l.Lk)("div",{class:"val"},"0",-1)),(0,l.Lk)("div",$a," 0.00 "+(0,s.v_)((0,o.R1)(a).currentCurrencySymbol),1)])])])),2===h.value?((0,l.uX)(),(0,l.CE)("div",Ea,[(0,l.Lk)("div",Ba,(0,s.v_)(e.$t("message.send_destination_chain_label")),1),(0,o.R1)(a).IBCSendCurrentChain?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,s.C4)(["chain_wrap",{disabled:y.value.denom.toLowerCase()!==(0,o.R1)(a).networks[(0,o.R1)(a).currentNetwork].denom.toLowerCase()}]),onClick:n[6]||(n[6]=(0,t.D$)((e=>U()),["prevent"]))},[(0,l.Lk)("div",Ia,[(0,l.Lk)("div",Ta,[(0,l.Lk)("img",{src:(0,o.R1)(d.oB)((0,o.R1)(a).IBCSendCurrentChain?.info.chain_id),alt:"",onError:n[5]||(n[5]=e=>(0,o.R1)(d.on)(e))},null,40,Sa),n[19]||(n[19]=(0,l.Lk)("svg",{class:"icon"},[(0,l.Lk)("use",{"xlink:href":ra})],-1))]),(0,l.Lk)("div",null,[(0,l.Lk)("div",Ka,(0,s.v_)((0,o.R1)(a).IBCSendCurrentChain?.info.pretty_name),1)]),n[20]||(n[20]=(0,l.Lk)("svg",{class:"arr"},[(0,l.Lk)("use",{"xlink:href":ia})],-1))])],2)):((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,s.C4)(["info_wrap",{disabled:y.value.denom.toLowerCase()!==(0,o.R1)(a).networks[(0,o.R1)(a).currentNetwork].denom.toLowerCase()}]),onClick:n[4]||(n[4]=(0,t.D$)((e=>U()),["prevent"]))},[(0,l.Lk)("div",Xa,[(0,l.Lk)("div",Aa,(0,s.v_)(e.$t("message.send_destination_chain_placeholder")),1),n[18]||(n[18]=(0,l.Lk)("svg",{class:"arr"},[(0,l.Lk)("use",{"xlink:href":ia})],-1))])],2))])):(0,l.Q3)("",!0),(0,l.Lk)("div",Wa,[(0,l.Lk)("div",Fa,(0,s.v_)(e.$t("message.send_address_label")),1),(0,l.Lk)("div",Qa,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"input big","onUpdate:modelValue":n[7]||(n[7]=e=>$.value=e),ref_key:"addressInput",ref:x,placeholder:e.$t("message.placeholder_address"),onInput:n[8]||(n[8]=e=>Q()),onPaste:n[9]||(n[9]=e=>Q())},null,40,Na),[[t.Jo,$.value]]),(0,l.Lk)("button",{class:"paste_btn",onClick:n[10]||(n[10]=(0,t.D$)((e=>q()),["prevent"]))},(0,s.v_)(e.$t("message.btn_paste")),1),(0,l.bF)(Ce.A,{class:"in_field"})])]),(0,l.Lk)("div",Da,[(0,l.Lk)("div",qa,[(0,l.eW)((0,s.v_)(e.$t("message.send_amount_label"))+" ",1),(0,l.Lk)("div",Ma,(0,s.v_)((0,o.R1)(d.ST)((0,o.R1)(d.Y$)(y.value.token_info.symbol,E.value*Math.pow(10,y.value.exponent),y.value.exponent)))+" "+(0,s.v_)((0,o.R1)(a).currentCurrencySymbol),1)]),(0,l.Lk)("div",Ua,[(0,l.bo)((0,l.Lk)("input",{type:"number",inputmode:"decimal",class:"input big","onUpdate:modelValue":n[11]||(n[11]=e=>E.value=e),placeholder:e.$t("message.placeholder_amount",{token:y.value.token_info.symbol}),onInput:n[12]||(n[12]=e=>D())},null,40,Ja),[[t.Jo,E.value]]),(0,l.Lk)("button",{type:"button",class:"max_btn",onClick:(0,t.D$)(N,["prevent"])},(0,s.v_)(e.$t("message.btn_MAX")),1)])]),W.value?((0,l.uX)(),(0,l.Wv)(w.A,{key:3,msgAny:I.value,txType:"send"},null,8,["msgAny"])):(0,l.Q3)("",!0),(0,l.Lk)("div",Ga,[(0,o.R1)(a).networks[(0,o.R1)(a).currentNetwork].currentTxHash?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn waiting_btn",onClick:n[14]||(n[14]=(0,t.D$)((e=>(0,o.R1)(c).emit("show_collapsible_notification")),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.btn_waiting_tx")),1)])):((0,l.uX)(),(0,l.CE)("button",{key:0,class:(0,s.C4)(["btn",{disabled:!(0,o.R1)(a).TxFee.isEnough}]),onClick:n[13]||(n[13]=(0,t.D$)((e=>A.value=!0),["prevent"]))},[(0,l.Lk)("span",null,(0,s.v_)(e.$t("message.btn_send")),1)],2))])])]),(0,l.bF)(t.eB,{name:"from_right"},{default:(0,l.k6)((()=>[X.value?((0,l.uX)(),(0,l.Wv)(ge,{key:0})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(t.eB,{name:"from_right"},{default:(0,l.k6)((()=>[B.value?((0,l.uX)(),(0,l.Wv)(R,{key:0,currentToken:y.value},null,8,["currentToken"])):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(t.eB,{name:"from_right"},{default:(0,l.k6)((()=>[A.value?((0,l.uX)(),(0,l.Wv)(oa,{key:0,balance:y.value,amount:E.value,msgAny:I.value,type:h.value},null,8,["balance","amount","msgAny","type"])):(0,l.Q3)("",!0)])),_:1})],64)}}};const Va=(0,C.A)(Oa,[["__scopeId","data-v-bad685cc"]]);var Pa=Va}}]);
//# sourceMappingURL=815.29ef4c9e.js.map